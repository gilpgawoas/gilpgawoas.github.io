<muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Chat Serio<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indicador-cargando.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indica-campos-obligatorios.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Chat Serio<span
     style="color: #800000;">&lt;/h1&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;No puedes usar la palabra wey.</div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Alias *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"outAlias"</span> <span
     style="color: #e50000;">required</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Mensaje *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"outMensaje"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">required</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indica-campos-obligatorios&gt;</span></div>
  <br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;button&gt;</span>Enviar<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;pre</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"pre"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/pre&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">muestraError</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">errorEnWebSocket</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/errorEnWebSocket.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">txtConectado</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/txt/txtConectado.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">txtConexionTerminada</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/txt/txtConexionTerminada.js"</span>
  </div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Cambia la url por la de tu</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;servicio. */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">WebSocket</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"wss://chatseriowss.gilbertopachec5.repl.co/"</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onopen</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">webSocketAbierto</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onmessage</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">recibeMensaje</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onerror</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">errorEnWebSocket</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onclose</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">webSocketCerrado</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">webSocketAbierto</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">console</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">log</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">txtConectado</span><span
     style="color: #000000;">())</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">pre</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">textContent</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">""</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">addEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"submit"</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">enviaMensaje</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{MessageEvent}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeMensaje</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">data</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">JSON</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">parse</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">pre</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">textContent</span><span
     style="color: #000000;"> +=</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">`</span><span
     style="color: #0000ff;">${</span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">alias</span><span
     style="color: #0000ff;">}</span></div>
  <div><span
     style="color: #0000ff;">${</span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">mensaje</span><span
     style="color: #0000ff;">}</span></div><br>
  <div><span
     style="color: #a31515;">`</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">enviaMensaje</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">preventDefault</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">alias</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">outAlias</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">value</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">trim</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">mensaje</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">outMensaje</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">value</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">trim</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ </span><span
     style="color: #001080;">alias</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">mensaje</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">JSON</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">stringify</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">send</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">webSocketCerrado</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">console</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">log</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">alert</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">txtConexionTerminada</span><span
     style="color: #000000;">())</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">removeEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"submit"</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">envia</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>