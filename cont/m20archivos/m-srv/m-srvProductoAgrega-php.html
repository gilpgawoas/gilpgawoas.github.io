<muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../lib/php/ejecuta.php"</span>;</div>
  <div><span
     style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../lib/php/leeBytes.php"</span>;</div>
  <div><span
     style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../lib/php/leeTexto.php"</span>;</div>
  <div><span
     style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/modelo/Archivo.php"</span>;</div>
  <div><span
     style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/modelo/Producto.php"</span>;</div>
  <div><span
     style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/dao/productoAgrega.php"</span>;</div><br>
  <div><span
     style="color: #795e26;">ejecuta</span>(<span
     style="color: #0000ff;">function</span> ()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">$bytes</span> = <span
     style="color: #795e26;">leeBytes</span>(<span
     style="color: #a31515;">"bytes"</span>);</div>
  <div>&nbsp;<span
     style="color: #001080;">$archivo</span> = <span
     style="color: #001080;">$bytes</span> === <span
     style="color: #a31515;">""</span> ? <span
     style="color: #0000ff;">null</span> : <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Archivo</span>(bytes: <span
     style="color: #001080;">$bytes</span>);</div><br>
  <div>&nbsp;<span
     style="color: #001080;">$nombre</span> = <span
     style="color: #795e26;">trim</span>(<span
     style="color: #795e26;">leeTexto</span>(<span
     style="color: #a31515;">"nombre"</span>));</div>
  <div>&nbsp;<span
     style="color: #001080;">$modelo</span> = <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Producto</span>(nombre: <span
     style="color: #001080;">$nombre</span>, archivo: <span
     style="color: #001080;">$archivo</span>);</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">productoAgrega</span>(<span
     style="color: #001080;">$modelo</span>);</div><br>
  <div>&nbsp;<span
     style="color: #008000;">// Los bytes se descargan con SrvArchivo; no desde
    aqu√≠.</span></div>
  <div>&nbsp;<span
     style="color: #001080;">$modelo</span>-&gt;<span
     style="color: #001080;">archivo</span>-&gt;<span
     style="color: #001080;">bytes</span> = <span
     style="color: #a31515;">""</span>;</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">$modelo</span>;</div>
  <div>});</div><br>
 </div>
</muestra-codigo>