<section>
 <h1>index.html</h1>
 <pre><code class="language-javascript"><span><span class="codeReserved">try</span> {</span>
<span> <span class="codeReserved">const</span> respuesta =</span>
<span class="resaltado3">  <span class="codeReserved">await</span> submitForm(</span>
<span class="resaltado3">   <span class="codeString">&quot;srv&#47;valida.php&quot;</span>, event)</span>
<span> alert(respuesta.body)</span>
<span>} <span class="codeReserved">catch</span> (error) {</span>
<span> muestraError(error)</span>
<span>}</span></code></pre>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section>
 <h1>srv/valida.php</h1>
 <pre><code class="language-php"><span class="resaltado">$saludo = leeTexto(<span class="codeString">&quot;saludo&quot;</span>);</span>
<span class="resaltado">$nombre = leeTexto(<span class="codeString">&quot;nombre&quot;</span>);</span>
<span><span class="codeReserved">if</span> (</span>
<span> $saludo === <span class="codeReserved">false</span></span>
<span> || $saludo === <span class="codeString">&quot;&quot;</span></span>
<span>) {</span>
<span> <span class="codeReserved">throw</span> <span class="codeReserved">new</span> ProblemDetails(</span>
<span>  status: ProblemDetails::BadRequest,</span>
<span>  type: <span class="codeString">&quot;&#47;error&#47;faltasaludo.html&quot;</span>,</span>
<span>  title: <span class="codeString">&quot;Falta el saludo.&quot;</span>,</span>
<span> );</span>
<span>}</span>
<span><span class="codeReserved">if</span> (</span>
<span> $nombre === <span class="codeReserved">false</span></span>
<span> || $nombre === <span class="codeString">&quot;&quot;</span></span>
<span>) {</span>
<span> <span class="codeReserved">throw</span> <span class="codeReserved">new</span> ProblemDetails(</span>
<span>  status: ProblemDetails::BadRequest,</span>
<span>  type: <span class="codeString">&quot;&#47;error&#47;faltanombre.html&quot;</span>,</span>
<span>  title: <span class="codeString">&quot;Falta el nombre.&quot;</span>,</span>
<span> );</span>
<span>}</span>
<span>$resultado =</span>
<span> <span class="codeString">&quot;{$saludo} {$nombre}.&quot;</span>;</span>
<span>devuelveJson($resultado);</span></code></pre>
</section>
<div class="section">
 <section>
  <h1>Request</h1>
  <details>
   <summary>
    POST /srv/valida.php HTTP/1.1
   </summary>
   Accept: application/json, application/problem+json<br>
   Accept-Encoding: gzip, deflate<br>
   Accept-Language: es-ES,es;q=0.9,en;q=0.8<br>
   Connection: keep-alive<br>
   Content-Length: 236<br>
   Content-Type: multipart/form-data;
   boundary=----WebKitFormBoundaryFZzsTiGaX53RKhff<br>
   Cookie:
   __gsas=ID=329641bd2728ff51:T=1743534294:RT=1743534294:S=ALNI_MavjA3FPY-hDE5wNZO5LxFSOVeIIQ;
   __test=6409d42a9d124b0fcecbb489e113453c<br>
   Host: srvvalida.rf.gd<br>
   Origin: http://srvvalida.rf.gd<br>
   Referer: http://srvvalida.rf.gd/?i=1<br>
   User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
   (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
  </details>
  <br>
  <details>
   <summary class="resaltado">
    saludo: hola<br>
    nombre: pp
   </summary>
   ------WebKitFormBoundaryFZzsTiGaX53RKhff<br>
   Content-Disposition: form-data; name="saludo"<br>
   <br>
   hola<br>
   ------WebKitFormBoundaryFZzsTiGaX53RKhff<br>
   Content-Disposition: form-data; name="nombre"<br>
   <br>
   pp<br>
   ------WebKitFormBoundaryFZzsTiGaX53RKhff--
  </details>
 </section>
 <section>
  <h1>Memoria (Servidor)</h1>
  <dl class="resaltado">
   <dt>$saludo</dt>
   <dd>"hola"</dd>
   <dt>$nombre</dt>
   <dd>"pp"</dd>
  </dl>
 </section>
</div>