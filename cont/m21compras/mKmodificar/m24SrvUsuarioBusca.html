<muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/usuarioBusca.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"txtUsuarioNoEncontrado.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvUsuarioBusca</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">usuarioBusca</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtUsuarioNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$roles</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">roles</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$rolIds</span><span
     style="color: #000000;"> = [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$roles</span><span
     style="color: #000000;"> as </span><span
     style="color: #001080;">$rol</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$rolIds</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$rol</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">] = </span><span
     style="color: #0000ff;">true</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$roles</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">rolConsulta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$roles</span><span
     style="color: #000000;"> as </span><span
     style="color: #001080;">$rol</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$checked</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">isset</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$rolIds</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$rol</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">])</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;? </span><span
     style="color: #a31515;">" checked"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;: </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$rol</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$descripcion</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$rol</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">descripcion</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.=</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"&lt;p&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label
    style='display: flex'&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input
    type='checkbox'</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$checked</span><span
     style="color: #a31515;"> name='rolIds[]'</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value='</span><span
     style="color: #001080;">$id</span><span
     style="color: #a31515;">'&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;{</span><span
     style="color: #001080;">$id</span><span
     style="color: #a31515;">}&lt;/strong&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;{</span><span
     style="color: #001080;">$descripcion</span><span
     style="color: #a31515;">}</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/label&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> [</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"modelo"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"render"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$render</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;];</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvUsuarioBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>