<!DOCTYPE html>
<html lang="es">

<head>
 <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" sizes="32x32" href="/favicon.ico">
<meta name="theme-color" content="#039623">
<link rel="manifest" href="/site.webmanifest">
<script src="/lib/js/muestra-codigo.js"></script>
 <title>Compras sencillas - GilPG AWOAS</title>
 <meta name="description" content="Página para imprimir de la lección «Compras sencillas».">
 <style>
 :root {
  --padTop: 2rem;
  --introDuracion: 2s;
  --introFuncion: ease-out;
  --padCont: 0.5rem;
  --padNav: 0.75rem 0.5rem;
  --anchoNav: 300px;
  --anchoLectura: 900px;
  --colLetra: black;
  --colFondo: white;
  --colTituloLetra: #00811c;
  --colTituloShadow: 3px 1px 2px #bdbdbd;
  --colTituloStrong: #684601;
  --colTituloStrongSel: #ffdc97;
  --colTarget: #cef4ff;
  --colSombra: #49494980;
  --navSombra: 0.5rem 0 0.5rem var(--colSombra);
  --padCtrl: 0.2rem 0.3rem;
  --borderCtrl: solid thin;
  --colFondoNav: #f2f2f2;
  --colNavResaltada: #7a2c99;
  --colSecundario: #ffff82;
  --colStack1: black;
  --colStack2: #224ba5;
  --colStack3: #92731f;
  --colScrollbar: #CFD8DC;
  --colThumb: #90a4ae;
  --colThumbActivo: #3f3f3f;
  --anchoThumb: 7px;
  --borderRadiusThumb: 3.5px;
  --gap: 0.5rem;
  --fontMono: monospace;
  --fontSans: sans-serif;
  --fontSerif: serif;
  font-family: var(--fontSerif);
  color: var(--colLetra);
  background-color: var(--colFondo);
  scrollbar-width: thin;
  scrollbar-color: var(--colThumb) var(--colScrollbar);
 }

 body::-webkit-scrollbar {
  width: var(--anchoThumb);
  height: var(--anchoThumb);
 }

 body::-webkit-scrollbar-track {
  background: var(--colScrollbar);
 }

 body::-webkit-scrollbar-thumb {
  background-color: var(--colThumb);
  border-radius: var(--borderRadiusThumb);
 }

 body::-webkit-scrollbar-thumb:active {
  background-color: var(--colThumbActivo);
 }

 .anterior,
 .siguiente {
  display: inline-block;
  text-decoration: none;
  padding: var(--padCtrl);
  border: var(--borderCtrl);
  cursor: pointer;
 }

 .anterior.bye,
 .siguiente.bye {
  display: none;
 }

 a[data-logo] {
  display: block;
  height: 54px;
  line-height: 54px;
  padding-left: 54px;
  margin-top: 1rem;
  background-image: url("/img/icono/maskable_icon_x48.png");
  background-position: 3px center;
  background-repeat: no-repeat;
 }

 a strong,
 a code,
 h1 strong,
 h1 code {
  color: var(--colTituloStrong);
 }

 nav a {
  font-family: var(--fontSans);
 }

 pre {
  font-family: var(--fontMono);
 }

 code {
  color: var(--colTituloStrong);
  font-family: var(--fontMono);
 }

 .tree {
  font-family: var(--fontSans);
 }

 .tree summary {
  text-decoration: underline;
  cursor: pointer;
 }

 .tree li {
  margin-top: 1em;
  margin-bottom: 1em;
 }

 h1:not(.default) {
  font-family: var(--fontSans);
  color: var(--colTituloLetra);
 }

 .autor {
  font-family: var(--fontSans);
  font-size: 1.5rem;
  color: var(--colTituloLetra);
 }

 figure {
  text-align: center;
 }

 figure img {
  width: 100%;
 }
/* 
 figure img.med {
  max-height: 55vh;
 } */

 figcaption {
  font-family: var(--fontMono);
 }

 .print .noPrint {
  display: none;
 }

 @media print {
  .noPrint {
   display: none;
  }

  .pruebaDeEscritorio {
   page-break-before: always;
  }
 }

 iframe {
  box-sizing: border-box;
  width: 100%;
 }

 .lectura {
  max-width: var(--anchoLectura);
  margin: 1rem auto;
 }

 .lectura p,
 .lectura blockquote {
  text-align: justify;
 }

 /* No funciona bien con display:flex en pantallas pequeñas. */
 .horizontal {
  text-align: center;
 }

 .horizontal>* {
  display: inline-block;
  vertical-align: top;
  text-align: left;
 }

 .horizontal>*:not(:first-child) {
  margin-left: 1rem;
 }

 .columnas4 {
  columns: 4 180px;
  column-gap: 1rem;
 }

 .columnas2 {
  columns: 2 360px;
  column-gap: 1rem;
 }

 .resaltado {
  background-color: rgb(255, 255, 89);
 }

 .resaltado2 {
  background-color: rgb(255, 214, 139);
 }

 .resaltado3 {
  background-color: rgb(235, 234, 233);
 }

 table.borde {
  margin-left: auto;
  margin-right: auto;
 }

 table.borde,
 table.borde td {
  border: thin solid;
  border-collapse: collapse;
 }

 table.borde th,
 table.borde td {
  padding: 0.4rem;
 }

 footer {
  margin-top: 1rem;
  display: block;
  text-align: center;
  font-family: var(--fontSans);
  font-size: small;
 }
</style>
 <style>
 .pruebaDeEscritorio section {
  display: inline-block;
  vertical-align: top;
  margin: 1em;
 }

 .pruebaDeEscritorio section pre {
  margin: 0;
 }

 .pruebaDeEscritorio samp {
  font-weight: bold;
 }

 .pruebaDeEscritorio .activo {
  display: inline-block;
  margin: 0 0.2rem 0 0;
  vertical-align: top;
  background-color: var(--colSecundario);
  border: 1px solid var(--colSecundario);
 }

 .pruebaDeEscritorio :target,
 .pruebaDeEscritorio :target caption {
  background-color: var(--colTarget);
 }

 .pruebaDeEscritorio .numero1 {
  display: inline-block;
  margin: 0 0.2rem 0 0;
  color: var(--colStack1);
  border: 1px solid var(--colStack1);
 }

 .pruebaDeEscritorio .numero2 {
  display: inline-block;
  color: var(--colStack2);
  border: 1px solid var(--colStack2);
 }

 .pruebaDeEscritorio .numero3 {
  display: inline-block;
  color: var(--colStack3);
  border: 1px solid var(--colStack3);
 }

 .pruebaDeEscritorio a.parametro1,
 .pruebaDeEscritorio .parametro1 {
  color: var(--colPar1);
 }

 .pruebaDeEscritorio a.parametro2,
 .pruebaDeEscritorio .parametro2 {
  color: var(--colPar2);
 }

 .pruebaDeEscritorio .descongela {
  color: var(--colDescongela);
 }

 .pruebaDeEscritorio table.tabla1,
 .pruebaDeEscritorio table.tabla1 th,
 .pruebaDeEscritorio table.tabla1 td {
  border: 1px solid var(--colStack1);
 }

 .pruebaDeEscritorio table.tabla2,
 .pruebaDeEscritorio table.tabla2 th,
 .pruebaDeEscritorio table.tabla2 td {
  border: 1px solid var(--colStack2);
 }

 .pruebaDeEscritorio table.tabla3,
 .pruebaDeEscritorio table.tabla3 th,
 .pruebaDeEscritorio table.tabla3 td {
  border: 1px solid var(--colStack3);
 }

 .pruebaDeEscritorio .frame {
  font-family: var(--fontMono);
  border-collapse: collapse;
 }

 .pruebaDeEscritorio .frame,
 .pruebaDeEscritorio .frame th,
 .pruebaDeEscritorio .frame td {
  border: thin solid;
 }

 .pruebaDeEscritorio .frame caption {
  font-style: italic;
 }

 .pruebaDeEscritorio .objeto caption {
  text-decoration: underline;
  font-style: italic;
 }

 .pruebaDeEscritorio .creación {
  display: flex;
 }
</style>
</head>

<body class="print">
   <h1 >24. Compras sencillas</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    
   <li>
    <p>
     <a href="/m21compras/mAintro.html">Introducción</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mBder.html">Diagrama entidad relación</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mBrel.html">Diagrama relacional</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mBpaquetes.html">Diagrama de paquetes</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mCdeploy.html">Diagrama de despliegue</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mDinstrucciones.html">Instrucciones</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mEarchivos.html">Archivos</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mFjsconfigJson.html">jsconfig.json</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/">Textos que se mustran al usuario</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mHbd/">Archivos relacionados con la estructura de los datos</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mIlistados/">Listados y transacciones</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mJagregar/">Archivos para agregar registros</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mKmodificar/">Archivos para modificar registros</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/">Custom elements</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/">librería de JavaScript</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/">librería de PHP</a>
    </p>
   </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <ul>
  <li>
   <p>
    En esta lección se muestra la base de una aplicación que vende o compra.
   </p>
  </li>
  <li>
   <p>
    Para poder manejar compras en línea, es necesario que la venta incluya la
    referencia al cliente.
   </p>
  </li>
  <li>
   <p>
    Puedes probar la app en
    <a rel="noopener" href="https://srvcompras.gilbertopachec5.repl.co/"
      target="_blank">https://srvcompras.gilbertopachec5.repl.co/</a>
   </p>
  </li>
  <li>
   <p>
    Para que sea más fácil entender la lección, los archivos se presentan
    agrupados de acuerdo a lo que hacen.
   </p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >B. Diagrama entidad relación</h1><figure>
 <img style="max-height: none;"
   src="/img/m21compras/comprasder.drawio.svg"
   alt="Diagrama entidad relación">
</figure>
      </section>
     <section >
         <h1 >C. Diagrama relacional</h1><figure>
 <img style="max-height: none;"
   src="/img/m21compras/comprasrel.drawio.svg"
   alt="Diagrama relacional">
</figure>
      </section>
     <section >
         <h1 >D. Diagrama de paquetes</h1><div class="lectura">
 <ul>
  <li>
   <p>
    Para este ejemplo se utilizan algunos principios de diseño conocidos como
    SOLID.
   </p>
  </li>
  <li>
   <p>
    Cada uno de los paquetes apunta con una flecha <q>use</q> a los que utiliza
    para realizar sus funciones.
   </p>
  </li>
  <li>
   <p>
    Cada paquete oculta los detalles de su implementación y tecnología.
   </p>
  </li>
  <li>
   <p>
    Los detalles de como se generan los textos, por ejemplo de como se cambian
    de idioma, se mantienen dentro del paquete <q>txt</q> y no se exponen fuera de
    dicho paquete.
   </p>
  </li>
  <li>
   <p>
    Los detalles de la base de datos, por ejemplo del producto de base de datos
    y su configuración, se mantienen dentro del paquete <q>dao</q> y no se
    exponen fuera de dicho paquete.
   </p>
  </li>
  <li>
   <p>
    Los detalles de la interfaz gráfica, por ejemplo las api del navegador web,
    o de las interfaces en Android, se mantienen dentro del paquete
    <q>access</q> y no se exponen fuera de dicho paquete.
   </p>
  </li>
  <li>
   <p>
    El intercambio de datos entre los paquetes <q>access</q> y <q>service</q>
    de acuerdo al contenido de las lecciones anteriores.
   </p>
  </li>
  <li>
   <p>
    El intercambio de datos entre los paquetes <q>service</q> y <q>dao</q>
    se realiza con el contenido del paquete <q>modelo</q>.
   </p>
  </li>
 </ul>
</div>
<figure>
 <img style="max-height: none;"
   src="/img/m21compras/compraspaquetes.drawio.svg"
   alt="Diagrama de paquetes">
</figure>
      </section>
     <section >
         <h1 >E. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m21compras/comprasdeploy.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section >
         <h1 >F. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m21compras/srvcompras.zip" download>Descarga el ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/srvcompras?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/srvcompras?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >G. Archivos</h1><div class="lectura">
 <p>Haz clic en los triángulos para expandir las carpetas</p>
 <ul class="tree">
  <li>
   <details>
    <summary>js</summary>
    <ul>
     <li>
      <details>
       <summary>custom</summary>
       <ul>
        <li>
         <p><a
            href="mLcustom/mAcampo-cantidadJs.html">campo-cantidad.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/mBcampo-precioJs.html">campo-precio.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/mCcampo-productoJs.html">campo-producto.js</a>
         </p>
        </li>
       </ul>
      </details>
     </li>
     <li>
      <details>
       <summary>txt</summary>
       <ul>
        <li>
         <p><a
            href="mGtextos/mJtxtConfirmaProcesamientoJs.html">txtConfirmaProcesamiento.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mGtextos/mKtxtProductoAgregadoJs.html">txtProductoAgregado.js</a>
         </p>
        </li>
       </ul>
      </details>
     </li>
    </ul>
   </details>
  </li>
  <li>
   <details>
    <summary>lib</summary>
    <ul>
     <li>
      <details>
       <summary>js</summary>
       <ul>
        <li>
         <details>
          <summary>custom</summary>
          <ul>
           <li>
            <p><a
               href="mLcustom/m35boton-agregarJs.html">boton-agregar.js</a>
            </p>
           </li>
           <li>
            <p><a
               href="mLcustom/m36boton-eliminarJs.html">boton-eliminar.js</a>
            </p>
           </li>
           <li>
            <p><a
               href="mLcustom/m37boton-guardarJs.html">boton-guardar.js</a>
            </p>
           </li>
           <li>
            <p><a
               href="mLcustom/m38campo-id-ocultoJs.html">campo-id-oculto.js</a>
            </p>
           </li>
           <li>
            <p><a
               href="mLcustom/m42hipervinculo-cancelar-indexJs.html">hipervinculo-cancelar-index.js</a>
            </p>
           </li>
           <li>
            <p><a
               href="mLcustom/m43indica-campos-obligatoriosJs.html">indica-campos-obligatorios.js</a>
            </p>
           </li>
           <li>
            <p><a
               href="mLcustom/m44indicador-cargandoJs.html">indicador-cargando.js</a>
            </p>
           </li>
           <li>
            <p><a
               href="mLcustom/m45lista-principalJs.html">lista-principal.js</a>
            </p>
           </li>
          </ul>
         </details>
        </li>
        <li>
         <details>
          <summary>plantilla</summary>
          <ul>
           <li>
            <p><a
               href="mGtextos/mEplantillaNoEsNumeroJs.html">plantillaNoEsNumero.js</a>
            </p>
           </li>
           <li>
            <p><a
               href="mGtextos/mFplantillaNoEsTextoJs.html">plantillaNoEsTexto.js</a>
            </p>
           </li>
          </ul>
         </details>
        </li>
        <li>
         <details>
          <summary>txt</summary>
          <ul>
           <li>
            <p><a
               href="mGtextos/mBtxtConfirmaEliminarJs.html">txtConfirmaEliminar.js</a>
            </p>
           </li>
          </ul>
         </details>
        </li>
        <li>
         <p><a href="mMlibjs/m48confirmaEliminarJs.html">confirmaEliminar.js</a>
         </p>
        </li>
        <li>
         <p><a href="mMlibjs/m49ejecutaJs.html">ejecuta.js</a></p>
        </li>
        <li>
         <p><a
            href="mMlibjs/m50escuchaEventosAgregaJs.html">escuchaEventosAgrega.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mMlibjs/m51escuchaEventosModificaJs.html">escuchaEventosModifica.js</a>
         </p>
        </li>
        <li>
         <p><a href="mMlibjs/m52MetodoHttpJs.html">MetodoHttp.js</a></p>
        </li>
        <li>
         <p><a href="mMlibjs/m53muestraErrorJs.html">muestraError.js</a></p>
        </li>
        <li>
         <p><a href="mMlibjs/m54muestraNumeroJs.html">muestraNumero.js</a></p>
        </li>
        <li>
         <p><a href="mMlibjs/m54muestraPrecioJs.html">muestraPrecio.js</a></p>
        </li>
        <li>
         <p><a href="mMlibjs/m55muestraRenderJs.html">muestraRender.js</a></p>
        </li>
        <li>
         <p><a href="mMlibjs/m56muestraTextoJs.html">muestraTexto.js</a></p>
        </li>
        <li>
         <p><a
            href="mMlibjs/m57parametrosDePaginaJs.html">parametrosDePagina.js</a>
         </p>
        </li>
        <li>
         <p><a href="mMlibjs/m58saltaAIndexJs.html">msaltaAIndex.js</a></p>
        </li>
        <li>
         <p><a href="mMlibjs/m59submitJs.html">submit.js</a></p>
        </li>
       </ul>
      </details>
     </li>
     <li>
      <details>
       <summary>php</summary>
       <ul>
        <li>
         <details>
          <summary>txt</summary>
          <ul>
           <li>
            <p>
             <a href="mGtextos/mCtxtFaltaElNombrePhp.html">txtFaltaElNombre.php</a>
            </p>
           </li>
          </ul>
         </details>
        </li>
        <li>
         <p><a href="mNlibphp/mQautoloadPhp.html">autoload.php</a></p>
        </li>
        <li>
         <p><a href="mNlibphp/mTleeArrayPhp.html">leeArray.php</a></p>
        </li>
        <li>
         <p><a href="mNlibphp/mTleeDecimalPhp.html">leeDecimal.php</a></p>
        </li>
        <li>
         <p><a href="mNlibphp/mTleeEnteroPhp.html">leeEntero.php</a></p>
        </li>
        <li>
         <p><a
            href="mNlibphp/mUleeSinEspaciosInFinPhp.html">leeSinEspaciosInFin.php</a>
         </p>
        </li>
        <li>
         <p><a href="mNlibphp/mLleeTextoPhp.html">leeTexto.php</a></p>
        </li>
        <li>
         <p><a href="mNlibphp/mRpathPhp.html">path.php</a></p>
        </li>
        <li>
         <p><a href="mNlibphp/mVrecibeFetchAllPhp.html">recibeFetchAll.php</a>
         </p>
        </li>
        <li>
         <p><a href="mNlibphp/mSservicioPhp.html">servicio.php</a></p>
        </li>
        <li>
         <p><a href="mNlibphp/mWvalidaPhp.html">valida.php</a></p>
        </li>
        <li>
         <p><a
            href="mNlibphp/mXvalidaNombreNoVacioPhp.html">validaNombreNoVacio.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mNlibphp/mYvalidaTextoNoVacioPhp.html">validaTextoNoVacio.php</a>
         </p>
        </li>
       </ul>
      </details>
     </li>
    </ul>
   </details>
  </li>
  <li>
   <details>
    <summary>srv</summary>
    <ul>
     <li>
      <details>
       <summary>dao</summary>
       <ul>
        <li>
         <p><a href="mHbd/mCaccesobdPhp.html">accesobd.php</a></p>
        </li>
        <li>
         <p><a href="mHbd/mAbdCreaPhp.html">bdCrea.php</a></p>
        </li>
        <li>
         <p><a href="mJagregar/mCdetalleVentaAgregaPhp.html">detalleVentaAgrega.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mKmodificar/m21detalleVentaBuscaPhp.html">detalleVentaBusca.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mIlistados/mCdetalleVentaConsultaPhp.html">detalleVentaConsulta.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mKmodificar/m23detalleVentaEliminaPhp.html">detalleVentaElimina.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mKmodificar/m22detalleVentaModificaPhp.html">detalleVentaModifica.php</a>
         </p>
        </li>
        <li>
         <p><a href="mHbd/mDproductoAgregaPhp.html">productoAgrega.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mJagregar/mCproductoBuscaPhp.html">productoBusca.php</a>
         </p>
        </li>
        <li>
         <p><a href="mIlistados/mCproductoConsultaPhp.html">productoConsulta.php</a>
         </p>
        </li>
        <li>
         <p>
          <a href="mHbd/mEproductoCuentaPhp.html">productoCuenta.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mIlistados/mCventaActivaBuscaPhp.html">ventaActivaBusca.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mIlistados/mCventaActivaProcesaPhp.html">ventaActivaProcesa.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mHbd/mFventaAgregaPhp.html">ventaAgrega.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mHbd/mGventaCuentaPhp.html">ventaCuenta.php</a>
         </p>
        </li>
       </ul>
      </details>
     </li>
     <li>
      <details>
       <summary>modelo</summary>
       <ul>
        <li>
         <p><a href="mHbd/mBdetalleventaPhp.html">detalleventa.php</a></p>
        </li>
        <li>
         <p><a href="mHbd/mBproductoPhp.html">producto.php</a></p>
        </li>
        <li>
         <p><a href="mHbd/mBventaPhp.html">venta.php</a></p>
        </li>
       </ul>
      </details>
     </li>
     <li>
      <details>
       <summary>txt</summary>
       <ul>
        <li>
         <p><a
            href="mGtextos/mDtxtCantidadIncorrectaPhp.html">txtCantidadIncorrecta.php</a>
         </p>
        </li>
        <li>
         <p><a href="mGtextos/mDtxtDetalleVentaNoEncontradoPhp.html">txtDetalleVentaNoEncontrado.php</a></p>
        </li>
        <li>
         <p><a
            href="mGtextos/mFtxtExistenciasIncorrectasPhp.html">txtExistenciasIncorrectas.php</a>
         </p>
        </li>
        <li>
         <p><a
            href="mGtextos/mFtxtHamburguesaPhp.html">txtHamburguesa.php</a>
         </p>
        </li>
        <li>
         <p><a href="mGtextos/mGtxtHotDogPhp.html">txtHotDog.php</a></p>
        </li>
        <li>
         <p><a
            href="mGtextos/mHtxtNoEsDetallePhp.html">txtNoEsDetalle.php</a>
         </p>
        </li>
        <li>
         <p>
          <a
            href="mGtextos/mItxtPrecioIncorrectoPhp.html">txtPrecioIncorrecto.php</a>
         </p>
        </li>
        <li>
         <p>
          <a
            href="mGtextos/mItxtProductoNoEncontradoPhp.html">txtProductoNoEncontrado.php</a>
         </p>
        </li>
        <li>
         <p>
          <a
            href="mGtextos/mItxtSandwichPhp.html">txtSandwich.php</a>
         </p>
        </li>
        <li>
         <p>
          <a
            href="mGtextos/mItxtVentaNoEncontradaPhp.html">txtVentaNoEncontrada.php</a>
         </p>
        </li>
       </ul>
      </details>
     </li>
     <li>
      <p><a
         href="mJagregar/mBSrvDetalleVentaAgregaPhp.html">SrvDetalleVentaAgrega.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mKmodificar/m24SrvDetalleVentaBuscaPhp.html">SrvDetalleVentaBusca.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mKmodificar/m26SrvDetalleVentaEliminaPhp.html">SrvDetalleVentaElimina.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mKmodificar/m25SrvDetalleVentaModificaPhp.html">SrvDetalleVentaModifica.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mJagregar/mBSrvProductoBuscaPhp.html">SrvProductoBusca.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mIlistados/mBSrvProductoConsultaPhp.html">SrvProductoConsulta.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mIlistados/mBSrvVentaActivaBuscaPhp.html">SrvVentaActivaBusca.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mIlistados/mBSrvVentaActivaProcesaPhp.html">SrvVentaActivaProcesa.php</a>
      </p>
     </li>
    </ul>
   </details>
  </li>
  <li>
   <p><a href="mJagregar/mAagregaHtml.html">agrega.html</a></p>
  </li>
  <li>
   <p><a href="mIlistados/mAcarritoHtml.html">carrito.html</a></p>
  </li>
  <li>
   <p><a href="mIlistados/mAindexHtml.html">index.html</a></p>
  </li>
  <li>
   <p><a href="mFjsconfigJson.html">jsconfig.json</a></p>
  </li>
  <li>
   <p><a href="mKmodificar/m27modificaHtml.html">modifica.html</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >H. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aquí su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section>
         <h1 >I. Textos que se mustran al usuario</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    
   <li>
    <p>
     <a href="/m21compras/mGtextos/mAintro.html">Introducción</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mJtxtConfirmaProcesamientoJs.html">js / txt / txtConfirmaProcesamiento.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mKtxtProductoAgregadoJs.html">js / txt / txtProductoAgregado.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mDtxtCantidadIncorrectaPhp.html">srv / txt / txtCantidadIncorrecta.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mDtxtDetalleVentaNoEncontradoPhp.html">srv / txt / txtDetalleVentaNoEncontrado.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mFtxtExistenciasIncorrectasPhp.html">srv / txt / txtExistenciasIncorrectas.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mFtxtHamburguesaPhp.html">srv / txt / txtHamburguesa.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mGtxtHotDogPhp.html">srv / txt / txtHotDog.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mHtxtNoEsDetallePhp.html">srv / txt / txtNoEsDetalle.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mItxtPrecioIncorrectoPhp.html">srv / txt / txtPrecioIncorrecto.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mItxtProductoNoEncontradoPhp.html">srv / txt / txtProductoNoEncontrado.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mItxtSandwichPhp.html">srv / txt / txtSandwich.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mItxtVentaNoEncontradaPhp.html">srv / txt / txtVentaNoEncontrada.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mBtxtConfirmaEliminarJs.html">lib /js / txt / txtConfirmaEliminar.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mCtxtFaltaElNombrePhp.html">lib / php / txt / txtFaltaElNombre.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mEplantillaNoEsNumeroJs.html">lib /js / plantilla / plantillaNoEsNumero.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mGtextos/mFplantillaNoEsTextoJs.html">lib /js / plantilla / plantillaNoEsTexto.js</a>
    </p>
   </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. Introducción</h1><div class="lectura">
 <p>
  Estos archivos están en carpetas fácilmente reconocibles para ubicarse
  rápidamente.
 </p>
 <p>
  Devuelven los textos desde funciones para que posteriormente sea fácil
  modificarse para manejar distintos idiomas.
 </p>
 <p>
  Las plantillas reciben parámetros para poder generar correctamente el texto.
  La posición de los parámetros puede cambiar con el idioma.
 </p>
</div>
      </section>
     <section >
         <h1 >2. js / txt / txtConfirmaProcesamiento.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">txtConfirmaProcesamiento</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Confirma procesar"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. js / txt / txtProductoAgregado.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #795e26;">txtProductoAgregado</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Producto agregado."</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / txt / txtCantidadIncorrecta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtCantidadIncorrecta</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"La cantidad no puede ser NAN."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. srv / txt / txtDetalleVentaNoEncontrado.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #795e26;">txtDetalleVentaNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Detalle de venta no "</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"encontrado."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. srv / txt / txtExistenciasIncorrectas.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #795e26;">txtExistenciasIncorrectas</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Las existencias no "</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"pueden ser NAN."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. srv / txt / txtHamburguesa.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtHamburguesa</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Hamburguesa"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. srv / txt / txtHotDog.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtHotDog</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Hot dog"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. srv / txt / txtNoEsDetalle.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtNoEsDetalle</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"Detalle de tipo incorrecto."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. srv / txt / txtPrecioIncorrecto.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtPrecioIncorrecto</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"El precio no puede ser NAN."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. srv / txt / txtProductoNoEncontrado.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtProductoNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Producto no encontrado."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >12. srv / txt / txtSandwich.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtSandwich</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Sandwich"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >13. srv / txt / txtVentaNoEncontrada.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtVentaNoEncontrada</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Venta no encontrada."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >14. lib /js / txt / txtConfirmaEliminar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">txtConfirmaEliminar</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Confirma la eliminación"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >15. lib / php / txt / txtFaltaElNombre.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtFaltaElNombre</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Falta el nombre."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >16. lib /js / plantilla / plantillaNoEsNumero.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">plantillaNoEsNumero</span>(<span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">+</span> <span
     style="color: #a31515;">" no es número."</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >17. lib /js / plantilla / plantillaNoEsTexto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{any}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">plantillaNoEsTexto</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">+</span> <span
     style="color: #a31515;">" no es texto."</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >J. Archivos relacionados con la estructura de los datos</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    
   <li>
    <p>
     <a href="/m21compras/mHbd/mAbdCreaPhp.html">srv / dao / bdCrea.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mHbd/mBproductoPhp.html">srv / modelo / producto.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mHbd/mBdetalleventaPhp.html">srv / modelo / detalleventa.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mHbd/mBventaPhp.html">srv / modelo / venta.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mHbd/mCaccesobdPhp.html">srv / dao / accesobd.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mHbd/mDproductoAgregaPhp.html">srv / productoAgrega.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mHbd/mEproductoCuentaPhp.html">srv / productoCuenta.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mHbd/mFventaAgregaPhp.html">srv / ventaAgrega.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mHbd/mGventaCuentaPhp.html">srv / ventaCuenta.php</a>
    </p>
   </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. srv / dao / bdCrea.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">bdCrea</span><span
     style="color: #000000;">(</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">exec</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">'</span><span
     style="color: #0000ff;">CREATE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">TABLE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">IF</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">EXISTS</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;VENTA (</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VENT_ID </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VENT_ACTIVA
   </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> VENT_PK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">PRIMARY KEY</span><span
     style="color: #a31515;">(VENT_ID)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;)</span><span
     style="color: #a31515;">'</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">exec</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">'</span><span
     style="color: #0000ff;">CREATE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">TABLE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">IF</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">EXISTS</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PRODUCTO (</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROD_ID </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROD_NOMBRE
   </span><span
     style="color: #0000ff;">TEXT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROD_EXISTENCIAS
   </span><span
     style="color: #0000ff;">REAL</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROD_PRECIO
   </span><span
     style="color: #0000ff;">REAL</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> PROD_PK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">PRIMARY KEY</span><span
     style="color: #a31515;">(PROD_ID),</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> PROD_NOM_UNQ</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">UNIQUE</span><span
     style="color: #a31515;">(PROD_NOMBRE)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;)</span><span
     style="color: #a31515;">'</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">exec</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">'</span><span
     style="color: #0000ff;">CREATE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">TABLE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">IF</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">EXISTS</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DET_VENTA (</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VENT_ID </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROD_ID </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTV_CANTIDAD
   </span><span
     style="color: #0000ff;">REAL</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTV_PRECIO
   </span><span
     style="color: #0000ff;">REAL</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> DTV_PK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">PRIMARY KEY</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(VENT_ID,
    PROD_ID),</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> DTV_VENT_FK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FOREIGN KEY</span><span
     style="color: #a31515;"> (VENT_ID)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">REFERENCES</span><span
     style="color: #a31515;"> VENTA(VENT_ID),</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> DTV_PROD_FK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FOREIGN KEY</span><span
     style="color: #a31515;"> (PROD_ID)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">REFERENCES</span><span
     style="color: #a31515;"> PRODUCTO(PROD_ID)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;)</span><span
     style="color: #a31515;">'</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / modelo / producto.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\modelo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/valida.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/validaNombreNoVacio.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"txtExistenciasIncorrectas.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtPrecioIncorrecto.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Producto</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">float</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$existencias</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">float</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$precio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">validaNombreNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">validaExistencias</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">validaPrecio</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaExistencias</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;!</span><span
     style="color: #795e26;">is_nan</span><span
     style="color: #000000;">(</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">existencias</span><span
     style="color: #000000;">),</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtExistenciasIncorrectas</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaPrecio</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;!</span><span
     style="color: #795e26;">is_nan</span><span
     style="color: #000000;">(</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">),</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtPrecioIncorrecto</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / modelo / detalleventa.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\modelo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/valida.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"txtCantidadIncorrecta.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtPrecioIncorrecto.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">DetalleVenta</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">float</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$cantidad</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">float</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$precio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">validaCantidad</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">validaPrecio</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaCantidad</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;!</span><span
     style="color: #795e26;">is_nan</span><span
     style="color: #000000;">(</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;">),</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtCantidadIncorrecta</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaPrecio</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;!</span><span
     style="color: #795e26;">is_nan</span><span
     style="color: #000000;">(</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">),</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtPrecioIncorrecto</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / modelo / venta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\modelo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/valida.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtNoEsDetalle.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Venta</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">bool</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$activa</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@var</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #0000ff;">[]</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">array</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$detalles</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">validaDetalles</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaDetalles</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;as </span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalle</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instanceof
   </span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtNoEsDetalle</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. srv / dao / accesobd.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\dao</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/dao/bdCrea.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/productoCuenta.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/productoAgrega.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/ventaCuenta.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/ventaAgrega.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtSandwich.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtHotDog.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtHamburguesa.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">\PDO</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">AccesoBd</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span><span
     style="color: #000000;"> ?</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">(): </span><span
     style="color: #267f99;">PDO</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">conecta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">prepara</span><span
     style="color: #000000;">(</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">conecta</span><span
     style="color: #000000;">(): </span><span
     style="color: #267f99;">PDO</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">// cadena de conexión</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"sqlite:srvcompras.db"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">// usuario</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">// contraseña</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::ATTR_ERRMODE</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;=&gt; </span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::ERRMODE_EXCEPTION]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">prepara</span><span
     style="color: #000000;">(</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">bdCrea</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #795e26;">productoCuenta</span><span
     style="color: #000000;">()=== </span><span
     style="color: #098658;">0</span><span
     style="color: #000000;">)&nbsp;{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtSandwich</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">existencias</span><span
     style="color: #000000;"> = </span><span
     style="color: #098658;">50</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;"> = </span><span
     style="color: #098658;">15</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">productoAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">);</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">txtHotDog</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">existencias</span><span
     style="color: #000000;"> = </span><span
     style="color: #098658;">40</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;"> = </span><span
     style="color: #098658;">30</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">productoAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">);</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtHamburguesa</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">existencias</span><span
     style="color: #000000;"> = </span><span
     style="color: #098658;">30</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;"> = </span><span
     style="color: #098658;">40</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">productoAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #795e26;">ventaCuenta</span><span
     style="color: #000000;">() === </span><span
     style="color: #098658;">0</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">activa</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">true</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;"> = [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">ventaAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. srv / productoAgrega.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">productoAgrega</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">INSERT INTO</span><span
     style="color: #a31515;"> PRODUCTO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(PROD_NOMBRE,
    PROD_EXISTENCIAS,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROD_PRECIO)</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">VALUES</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(:nombre,
    :existencias,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:precio)</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":existencias"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;=&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">existencias</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":precio"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span></div>
  <div><span
     style="color: #000000;">&nbsp;]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si usas una secuencia para</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;generar el id, pasa como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;parámetro de lastInsertId
    el</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;nombre de dicha secuencia.
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">lastInsertId</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. srv / productoCuenta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">productoCuenta</span><span
     style="color: #000000;">(): </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">|</span><span
     style="color: #0000ff;">int</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">query</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span><span
     style="color: #a31515;"> </span><span
     style="color: #795e26;">COUNT</span><span
     style="color: #a31515;">(</span><span
     style="color: #000000;">*</span><span
     style="color: #a31515;">)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PRODUCTO</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetchColumn</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. srv / ventaAgrega.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ventaAgrega</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">exec</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">INSERT INTO</span><span
     style="color: #a31515;"> VENTA</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(VENT_ACTIVA)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">VALUES</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(</span><span
     style="color: #098658;">1</span><span
     style="color: #a31515;">)</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si usas una secuencia para</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;generar el id, pasa como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;parámetro de lastInsertId
    el</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;nombre de dicha secuencia.
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">lastInsertId</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. srv / ventaCuenta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ventaCuenta</span><span
     style="color: #000000;">(): </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">|</span><span
     style="color: #0000ff;">int</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">query</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span><span
     style="color: #a31515;"> </span><span
     style="color: #795e26;">COUNT</span><span
     style="color: #a31515;">(</span><span
     style="color: #000000;">*</span><span
     style="color: #a31515;">)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> VENTA</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetchColumn</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >K. Listados y transacciones</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    
   <li>
    <p>
     <a href="/m21compras/mIlistados/mAindexHtml.html">index.html</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mIlistados/mAcarritoHtml.html">carrito.html</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mIlistados/mBSrvProductoConsultaPhp.html">srv / SrvProductoConsulta.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mIlistados/mBSrvVentaActivaBuscaPhp.html">srv / SrvVentaActivaBusca.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mIlistados/mBSrvVentaActivaProcesaPhp.html">srv / SrvVentaActivaProcesa.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mIlistados/mCproductoConsultaPhp.html">srv / dao / productoConsulta.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mIlistados/mCventaActivaBuscaPhp.html">srv / dao / ventaActivaBusca.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mIlistados/mCventaActivaProcesaPhp.html">srv / dao / ventaActivaProcesa.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mIlistados/mCdetalleVentaConsultaPhp.html">srv / dao / detalleVentaConsulta.php</a>
    </p>
   </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Productos<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/lista-principal.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Productos<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;a</span> <span
     style="color: #e50000;">href</span>=<span
     style="color: #0000ff;">"carrito.html"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;Ver carrito<span
     style="color: #800000;">&lt;/a&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;lista-principal&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/lista-principal&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">ejecuta</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraRender</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraRender.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">render</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">consultaServidor</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraRender</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">lista</span><span
     style="color: #000000;">, </span><span
     style="color: #0070c1;">render</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">consultaServidor</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/SrvProductoConsulta.php"</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. carrito.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Carrito<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indicador-cargando.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Carrito<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;a</span> <span
     style="color: #e50000;">href</span>=<span
     style="color: #0000ff;">"index.html"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;Productos<span
     style="color: #800000;">&lt;/a&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"procesa"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">'button'</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;Procesar compra</div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;Folio</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;output</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"folio"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/output&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;fieldset&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;legend&gt;</span>Detalle<span
     style="color: #800000;">&lt;/legend&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;ul</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"detalles"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/ul&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/fieldset&gt;</span>`</div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">ejecuta</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">parametrosDePagina</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/parametrosDePagina.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraRender</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraRender.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraNumero</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraNumero.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">saltaAIndex</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/saltaAIndex.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">txtConfirmaProcesamiento</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./js/txt/txtConfirmaProcesamiento.js"</span></div>
  <br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">parametrosDePagina</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">json</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">json</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraRender</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">json</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">render</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">escuchaEventos</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvVentaActivaBusca.php"</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraNumero</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">folio</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">escuchaEventos</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">procesa</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">addEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"click"</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">procesaVenta</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">procesaVenta</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #795e26;">confirm</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtConfirmaProcesamiento</span><span
     style="color: #000000;">()))&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvVentaActivaProcesa.php"</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">location</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">href</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">"index.html"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / SrvProductoConsulta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/productoConsulta.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvProductoConsulta</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">productoConsulta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> as </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$precio</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"$"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">number_format</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #098658;">2</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$existencias</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">number_format</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">existencias</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #098658;">2</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.=</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"&lt;li&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #a31515;">&lt;/strong&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$precio</span><span
     style="color: #a31515;"> / </span><span
     style="color: #001080;">$existencias</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a
    href='agrega.html?id=</span><span
     style="color: #001080;">$id</span><span
     style="color: #a31515;">'&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agregar
    al carrito&lt;/a&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvProductoConsulta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / SrvVentaActivaBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/ventaActivaBusca.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"txtVentaNoEncontrada.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvVentaActivaBusca</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">ventaActivaBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtVentaNoEncontrada</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalles</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$productoIds</span><span
     style="color: #000000;"> = [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$detalles</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;as </span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$productoIds</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">] = </span><span
     style="color: #0000ff;">true</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$detalles</span><span
     style="color: #000000;"> as </span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$prodId</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$prodNombre</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$precio</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"$"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">number_format</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #098658;">2</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$cantidad</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">number_format</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #098658;">2</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.=</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"&lt;li&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$prodNombre</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/strong&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$cantidad</span><span
     style="color: #a31515;"> x </span><span
     style="color: #001080;">$precio</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&lt;a href=</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;'modifica.html?prodId=</span><span
     style="color: #001080;">$prodId</span><span
     style="color: #a31515;">'&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;Modificar o
    eliminar&lt;/a&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;"> = [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> [</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"modelo"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"render"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$render</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvVentaActivaBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. srv / SrvVentaActivaProcesa.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/ventaActivaProcesa.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvVentaActivaProcesa</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">ventaActivaProcesa</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvVentaActivaProcesa</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. srv / dao / productoConsulta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/recibeFetchAll.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@return</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">Producto</span><span
     style="color: #0000ff;">[]</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">productoConsulta</span><span
     style="color: #000000;">(): </span><span
     style="color: #0000ff;">array</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">query</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PROD_ID </span><span
     style="color: #0000ff;">as</span><span
     style="color: #a31515;"> id,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PROD_NOMBRE </span><span
     style="color: #0000ff;">as</span><span
     style="color: #a31515;"> nombre,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PROD_PRECIO </span><span
     style="color: #0000ff;">as</span><span
     style="color: #a31515;"> precio,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PROD_EXISTENCIAS
   </span><span
     style="color: #0000ff;">as</span><span
     style="color: #a31515;"> existencias</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PRODUCTO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">ORDER BY</span><span
     style="color: #a31515;"> PROD_NOMBRE</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetchAll</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_CLASS,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">::</span><span
     style="color: #0000ff;">class</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeFetchAll</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. srv / dao / ventaActivaBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/dao/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"detalleVentaConsulta.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ventaActivaBusca</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">query</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;VENT_ID </span><span
     style="color: #0000ff;">as</span><span
     style="color: #a31515;"> id</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> VENTA</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> VENT_ACTIVA </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> </span><span
     style="color: #098658;">1</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">setFetchMode</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_OBJ</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">activa</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">true</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">detalleVentaConsulta</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. srv / dao / ventaActivaProcesa.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/dao/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/ventaActivaBusca.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/ventaAgrega.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"txtVentaNoEncontrada.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ventaActivaProcesa</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">beginTransaction</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">ventaActivaBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtVentaNoEncontrada</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalles</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">UPDATE</span><span
     style="color: #a31515;"> PRODUCTO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">SET</span><span
     style="color: #a31515;"> PROD_EXISTENCIAS </span><span
     style="color: #000000;">=</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;:existencias</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> PROD_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :prodId</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$detalles</span><span
     style="color: #000000;"> as </span><span
     style="color: #001080;">$dtv</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$dtv</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">(([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":prodId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":existencias"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;=&gt; </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">existencias</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- </span><span
     style="color: #001080;">$dtv</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;]));</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">UPDATE</span><span
     style="color: #a31515;"> VENTA</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">SET</span><span
     style="color: #a31515;"> VENT_ACTIVA </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> </span><span
     style="color: #098658;">0</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> VENT_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :id</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":id"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;]);</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">activa</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">true</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;"> = [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">ventaAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">commit</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. srv / dao / detalleVentaConsulta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/recibeFetchAll.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">detalleVentaConsulta</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">Venta</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$venta</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">query</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DV.PROD_ID </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> prodId,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;P.PROD_NOMBRE </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> prodNombre,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;P.PROD_EXISTENCIAS</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> prodExistencias,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;P.PROD_PRECIO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> prodPrecio,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DV.DTV_CANTIDAD
   </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> cantidad,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DV.DTV_PRECIO </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> precio</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> DET_VENTA DV, PRODUCTO P</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DV.PROD_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> P.PROD_ID</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">AND</span><span
     style="color: #a31515;"> DV.VENT_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :ventId</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">ORDER BY</span><span
     style="color: #a31515;"> P.PROD_NOMBRE</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":ventId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span></div>
  <div><span
     style="color: #000000;">&nbsp;]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetchAll</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_OBJ</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$objs</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">recibeFetchAll</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@var</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #0000ff;">[]</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$detalles</span><span
     style="color: #000000;"> = [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$objs</span><span
     style="color: #000000;"> as </span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">prodId</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">prodNombre</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">existencias</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">prodExistencias</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">prodPrecio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$detalles</span><span
     style="color: #000000;">[] = </span><span
     style="color: #001080;">$detalle</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$detalles</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>OF
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >L. Archivos para agregar registros</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    
   <li>
    <p>
     <a href="/m21compras/mJagregar/mAagregaHtml.html">agrega.html</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mJagregar/mBSrvProductoBuscaPhp.html">srv / SrvProductoBusca.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mJagregar/mBSrvDetalleVentaAgregaPhp.html">srv / SrvDetalleVentaAgrega.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mJagregar/mCproductoBuscaPhp.html">srv / dao / productoBusca.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mJagregar/mCdetalleVentaAgregaPhp.html">srv / dao / detalleVentaAgrega.php</a>
    </p>
   </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. agrega.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Agregar<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/campo-id-oculto.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/hipervinculo-cancelar-index.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/boton-agregar.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indica-campos-obligatorios.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indicador-cargando.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./js/custom/campo-producto.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./js/custom/campo-precio.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./js/custom/campo-cantidad.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Agregar<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-id-oculto&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/campo-id-oculto&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-producto&gt;&lt;/campo-producto&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-precio&gt;&lt;/campo-precio&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-cantidad&gt;&lt;/campo-cantidad&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;boton-agregar&gt;&lt;/boton-agregar&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">escuchaEventosAgrega</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/escuchaEventosAgrega.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">submit</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/submit.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">parametrosDePagina</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/parametrosDePagina.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">saltaAIndex</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/saltaAIndex.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">ejecuta</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraNumero</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraNumero.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraTexto</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraTexto.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraPrecio</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraPrecio.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">txtProductoAgregado</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./js/txt/txtProductoAgregado.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">parametrosDePagina</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">modelo</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">modelo</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">escuchaEventosAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">agrega</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/SrvProductoBusca.php?"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraNumero</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraPrecio</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">agrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">m</span><span
     style="color: #000000;"> = </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">submit</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvDetalleVentaAgrega.php"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">alert</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">txtProductoAgregado</span><span
     style="color: #000000;">())</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / SrvProductoBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/productoBusca.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"txtProductoNoEncontrado.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvProductoBusca</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">productoBusca</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtProductoNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvProductoBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / SrvDetalleVentaAgrega.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeDecimal.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/detalleVentaAgrega.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvDetalleVentaAgrega</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">leeDecimal</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"cantidad"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">detalleVentaAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;"> = [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvDetalleVentaAgrega</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / dao / productoBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">productoBusca</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">|</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PROD_ID </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> id,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PROD_NOMBRE </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> nombre,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PROD_PRECIO </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> precio</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PRODUCTO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> PROD_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :id</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span><span
     style="color: #a31515;">":id"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">setFetchMode</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_CLASS,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">::</span><span
     style="color: #0000ff;">class</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. srv / dao / detalleVentaAgrega.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"txtVentaNoEncontrada.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"txtProductoNoEncontrado.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/ventaActivaBusca.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/productoBusca.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">detalleVentaAgrega</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">productoBusca</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtProductoNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">ventaActivaBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtVentaNoEncontrada</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">INSERT INTO</span><span
     style="color: #a31515;"> DET_VENTA</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(VENT_ID,
    PROD_ID,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTV_CANTIDAD,
    DTV_PRECIO)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">VALUES</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(:ventId,
    :prodId,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cantidad,
    :precio)</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":ventId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":prodId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":cantidad"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;=&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":precio"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;]</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >M. Archivos para modificar registros</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    
   <li>
    <p>
     <a href="/m21compras/mKmodificar/m27modificaHtml.html">modifica.html</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mKmodificar/m24SrvDetalleVentaBuscaPhp.html">srv / SrvDetalleVentaBusca.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mKmodificar/m25SrvDetalleVentaModificaPhp.html">srv / SrvDetalleVentaModifica.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mKmodificar/m26SrvDetalleVentaEliminaPhp.html">srv / SrvDetalleVentaElimina.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mKmodificar/m21detalleVentaBuscaPhp.html">srv / dao / detalleVentaBusca.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mKmodificar/m22detalleVentaModificaPhp.html">srv / dao / detalleVentaModifica.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mKmodificar/m23detalleVentaEliminaPhp.html">srv / dao / detalleVentaElimina.php</a>
    </p>
   </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. modifica.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Modificar<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/boton-guardar.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/boton-eliminar.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./js/custom/campo-producto.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./js/custom/campo-precio.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./js/custom/campo-cantidad.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Modificar<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"hidden"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"prodId"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;a</span> <span
     style="color: #e50000;">href</span>=<span
     style="color: #0000ff;">"carrito.html"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Cancelar<span
     style="color: #800000;">&lt;/a&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-producto&gt;&lt;/campo-producto&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-precio&gt;&lt;/campo-precio&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-cantidad&gt;&lt;/campo-cantidad&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;boton-guardar&gt;&lt;/boton-guardar&gt;</span>
  </div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;boton-eliminar&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/boton-eliminar&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">ejecuta</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">submit</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/submit.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">parametrosDePagina</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/parametrosDePagina.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraNumero</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraNumero.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraTexto</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraTexto.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraPrecio</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraPrecio.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">escuchaEventosModifica</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/escuchaEventosModifica.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">confirmaEliminar</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/confirmaEliminar.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">parametrosDePagina</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">modelo</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">modelo</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">escuchaEventosModifica</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">modifica</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">btnElimina</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">elimina</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaACarrito</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">saltaACarrito</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">location</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">href</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">"carrito.html"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"srv/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ </span><span
     style="color: #a31515;">"SrvDetalleVentaBusca.php?"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraNumero</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">prodId</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraPrecio</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraNumero</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">modifica</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">m</span><span
     style="color: #000000;"> = </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">submit</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvDetalleVentaModifica.php"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaACarrito</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">elimina</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #795e26;">confirmaEliminar</span><span
     style="color: #000000;">())&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvDetalleVentaElimina.php?"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaACarrito</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / SrvDetalleVentaBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"txtDetalleVentaNoEncontrado.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/detalleVentaBusca.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvDetalleVentaBusca</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$prodId</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"prodId"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">detalleVentaBusca</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$prodId</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtDetalleVentaNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;"> = [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvDetalleVentaBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / SrvDetalleVentaModifica.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeDecimal.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/dao/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"detalleVentaModifica.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvDetalleVentaModifica</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Producto</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"prodId"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">leeDecimal</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"cantidad"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">detalleVentaModifica</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">detalles</span><span
     style="color: #000000;"> = [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvDetalleVentaModifica</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / SrvDetalleVentaElimina.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/detalleVentaElimina.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvDetalleVentaElimina</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$prodId</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"prodId"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">detalleVentaElimina</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$prodId</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvDetalleVentaElimina</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. srv / dao / detalleVentaBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/ventaActivaBusca.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/productoBusca.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">detalleVentaBusca</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$prodId</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">ventaActivaBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">productoBusca</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$prodId</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DV.PROD_ID </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> prodId,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;P.PROD_NOMBRE </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> prodNombre,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DV.DTV_CANTIDAD
   </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> cantidad,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DV.DTV_PRECIO </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> precio</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> DET_VENTA DV, PRODUCTO P</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DV.PROD_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> P.PROD_ID</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">AND</span><span
     style="color: #a31515;"> DV.VENT_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :ventId</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">AND</span><span
     style="color: #a31515;"> DV.PROD_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :prodId</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":ventId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":prodId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$prodId</span></div>
  <div><span
     style="color: #000000;">&nbsp;]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">setFetchMode</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_OBJ</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$dtv</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$dtv</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$dtv</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$dtv</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$dtv</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$obj</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$dtv</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. srv / dao / detalleVentaModifica.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"txtVentaNoEncontrada.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"txtProductoNoEncontrado.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/ventaActivaBusca.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/productoBusca.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">detalleVentaModifica</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">DetalleVenta</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">productoBusca</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtProductoNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">ventaActivaBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtVentaNoEncontrada</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">producto</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">UPDATE</span><span
     style="color: #a31515;"> DET_VENTA</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">SET</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DTV_CANTIDAD </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :cantidad,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;DTV_PRECIO </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :precio</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> </span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;VENT_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :ventId</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">AND</span><span
     style="color: #a31515;"> PROD_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :prodId</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":ventId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":prodId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$producto</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":cantidad"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;=&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">cantidad</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":precio"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">precio</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;]</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. srv / dao / detalleVentaElimina.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/ventaActivaBusca.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">detalleVentaElimina</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$prodId</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">ventaActivaBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;"> !== </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">DELETE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> DET_VENTA</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> VENT_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :ventId</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">AND</span><span
     style="color: #a31515;"> PROD_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :prodId</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":ventId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$venta</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">":prodId"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$prodId</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >N. Custom elements</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    
   <li>
    <p>
     <a href="/m21compras/mLcustom/mAcampo-cantidadJs.html">js / custom / campo-cantidad.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/mBcampo-precioJs.html">js / custom / campo-precio.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/mCcampo-productoJs.html">js / custom / campo-producto.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/m35boton-agregarJs.html">lib / js / custom / boton-agregar.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/m36boton-eliminarJs.html">lib / js / custom / boton-eliminar.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/m37boton-guardarJs.html">lib / js / custom / boton-guardar.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/m38campo-id-ocultoJs.html">lib / js / custom / campo-id-oculto.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/m42hipervinculo-cancelar-indexJs.html">lib / js / custom / hipervinculo-cancelar-index.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/m43indica-campos-obligatoriosJs.html">lib / js / custom / indica-campos-obligatorios.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/m44indicador-cargandoJs.html">lib / js / custom / indicador-cargando.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mLcustom/m45lista-principalJs.html">lib / js / custom / lista-principal.js</a>
    </p>
   </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. js / custom / campo-cantidad.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoCantidad</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cantidad *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"cantidad"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">required</span> <span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"number"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">min</span>=<span
     style="color: #0000ff;">"0"</span> <span
     style="color: #e50000;">step</span>=<span
     style="color: #0000ff;">"0.01"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-cantidad"</span>, <span
     style="color: #267f99;">CampoCantidad</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. js / custom / campo-precio.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span> <span
     style="color: #a31515;">"../../lib/js/custom/indicador-cargando.js"</span>
  </div><br>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoPrecio</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Precio</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;output</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"precio"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/output&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-precio"</span>, <span
     style="color: #267f99;">CampoPrecio</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. js / custom / campo-producto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span> <span
     style="color: #a31515;">"../../lib/js/custom/indicador-cargando.js"</span>
  </div><br>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoProducto</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Producto</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;output</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"producto"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/output&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-producto"</span>, <span
     style="color: #267f99;">CampoProducto</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / js / custom / boton-agregar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">BotonAgregar</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;button&gt;</span>Agregar<span
     style="color: #800000;">&lt;/button&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"boton-agregar"</span>, <span
     style="color: #267f99;">BotonAgregar</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib / js / custom / boton-eliminar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">BotonEliminar</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"btnElimina"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"button"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Eliminar</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"boton-eliminar"</span>, <span
     style="color: #267f99;">BotonEliminar</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib / js / custom / boton-guardar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">BotonGuardar</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;button&gt;</span>Guardar<span
     style="color: #800000;">&lt;/button&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"boton-guardar"</span>, <span
     style="color: #267f99;">BotonGuardar</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / js / custom / campo-id-oculto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoIdOculto</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"hidden"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"id"</span><span
     style="color: #800000;">&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-id-oculto"</span>, <span
     style="color: #267f99;">CampoIdOculto</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / js / custom / hipervinculo-cancelar-index.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Hipervínculo para cancelar que</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;redirecciona a la página</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;"index.html".</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoCancelarIndex</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;a</span> <span
     style="color: #e50000;">href</span>=<span
     style="color: #0000ff;">"index.html"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cancelar<span
     style="color: #800000;">&lt;/a&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"hipervinculo-cancelar-index"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoCancelarIndex</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / js / custom / indica-campos-obligatorios.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span>*&nbsp;Obligatorio<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indica-campos-obligatorios"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. lib / js / custom / indicador-cargando.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">IndicadorCargando</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;progress</span> <span
     style="color: #e50000;">max</span>=<span
     style="color: #0000ff;">"100"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cargando<span
     style="color: #0000ff;">&amp;hellip;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/progress&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indicador-cargando"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicadorCargando</span>)</div>
 </div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. lib / js / custom / lista-principal.js</h1><muestra-codigo>
 <div
   style="color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">
  <div><span
     style="color: #af00db;">import</span> <span
     style="color: #a31515;">"./indicador-cargando.js"</span></div><br>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">ListaPrincipal</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;ul</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"lista"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/ul&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"lista-principal"</span>, <span
     style="color: #267f99;">ListaPrincipal</span>)</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >O. librería de JavaScript</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m48confirmaEliminarJs.html">lib / js / confirmaEliminar.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m49ejecutaJs.html">lib / js / ejecuta.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m50escuchaEventosAgregaJs.html">lib / js / escuchaEventosAgrega.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m51escuchaEventosModificaJs.html">lib / js / escuchaEventosModifica.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m52MetodoHttpJs.html">lib / js / MetodoHttp.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m53muestraErrorJs.html">lib / js / muestraError.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m54muestraNumeroJs.html">lib / js / muestraNumero.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m54muestraPrecioJs.html">lib / js / muestraPrecio.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m55muestraRenderJs.html">lib / js / muestraRender.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m56muestraTextoJs.html">lib / js / muestraTexto.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m57parametrosDePaginaJs.html">lib / js / parametrosDePagina.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m58saltaAIndexJs.html">lib / js / saltaAIndex.js</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mMlibjs/m59submitJs.html">lib / js / submit.js</a>
    </p>
   </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. lib / js / confirmaEliminar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">txtConfirmaEliminar</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./txt/txtConfirmaEliminar.js"</span></div><br>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">confirmaEliminar</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #795e26;">confirm</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">txtConfirmaEliminar</span>())</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. lib / js / ejecuta.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Espera a que la promesa de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fetch termine. Si hay error</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;lanza una excepción. Si no hay</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;error, interpreta la respuesta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;del servidor como JSON y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la convierte en una literal de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;objeto. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta(fetch)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> resp = <span
     style="color: #0000ff;">await</span> fetch</div>
  <div>&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> <span
     style="color: #0000ff;">await</span> resp.json()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span> <span
     style="color: #0000ff;">if</span> (resp.status === <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(resp.statusText)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / js / escuchaEventosAgrega.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{EventListener}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">agrega</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">escuchaEventosAgrega</span>(<span
     style="color: #001080;">forma</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">agrega</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">forma</span>.<span
     style="color: #795e26;">addEventListener</span>(<span
     style="color: #a31515;">"submit"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">agrega</span>)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / js / escuchaEventosModifica.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{EventListener}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">modifica</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">btnElimina</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{EventListener}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elimina</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">escuchaEventosModifica</span>(<span
     style="color: #001080;">forma</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">modifica</span>, <span
     style="color: #001080;">btnElimina</span>, <span
     style="color: #795e26;">elimina</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">forma</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #a31515;">"submit"</span>, <span
     style="color: #795e26;">modifica</span>)</div>
  <div>&nbsp;<span
     style="color: #001080;">btnElimina</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #a31515;">"click"</span>, <span
     style="color: #795e26;">elimina</span>)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib / js / MetodoHttp.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@enum</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">const</span> <span
     style="color: #267f99;">MetodoHttp</span> <span
     style="color: #000000;">=</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">TRACE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"TRACE"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">OPTIONS</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"OPTIONS"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">CONNECT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"CONNECT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">GET</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"GET"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">HEAD</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"HEAD"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">POST</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"POST"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PUT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PUT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PATCH</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PATCH"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">DELETE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"DELETE"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / js / muestraNumero.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">plantillaNoEsNumero</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./plantilla/plantillaNoEsNumero.js"</span></div>
  <br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@template</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{&nbsp;{value:string}&nbsp;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">E</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{E}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elementoHtml</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{any}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraNumero</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">elementoHtml</span>, <span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">typeof</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">===</span> <span
     style="color: #a31515;">"number"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #000000;">&amp;&amp;</span> <span
     style="color: #000000;">!</span><span
     style="color: #795e26;">isNaN</span>(<span
     style="color: #001080;">valor</span>))&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">elementoHtml</span>.<span
     style="color: #001080;">value</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">valor</span>.<span
     style="color: #795e26;">toString</span>()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">plantillaNoEsNumero</span>(<span
     style="color: #001080;">valor</span>))</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / js / muestraPrecio.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">plantillaNoEsNumero</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./plantilla/plantillaNoEsNumero.js"</span></div>
  <br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@template</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{&nbsp;{value:string}&nbsp;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">E</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{E}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elementoHtml</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{any}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraPrecio</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">elementoHtml</span>, <span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">typeof</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">===</span> <span
     style="color: #a31515;">"number"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #000000;">&amp;&amp;</span> <span
     style="color: #000000;">!</span><span
     style="color: #795e26;">isNaN</span>(<span
     style="color: #001080;">valor</span>))&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">elementoHtml</span>.<span
     style="color: #001080;">value</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #a31515;">"$"</span> <span
     style="color: #000000;">+</span> <span
     style="color: #001080;">valor</span>.<span
     style="color: #795e26;">toFixed</span>(<span
     style="color: #098658;">2</span>)</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">plantillaNoEsNumero</span>(<span
     style="color: #001080;">valor</span>))</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / js / muestraRender.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">lista</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">render</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraRender</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">lista</span>, <span
     style="color: #001080;">render</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">lista</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #001080;">render</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. lib / js / muestraTexto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">plantillaNoEsTexto</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./plantilla/plantillaNoEsTexto.js"</span></div>
  <br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@template</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{&nbsp;{value:string}&nbsp;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">E</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{E}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elementoHtml</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraTexto</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">elementoHtml</span>, <span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">typeof</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">===</span> <span
     style="color: #a31515;">"string"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">elementoHtml</span>.<span
     style="color: #001080;">value</span> <span
     style="color: #000000;">=</span> <span
     style="color: #001080;">valor</span></div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">plantillaNoEsTexto</span>(<span
     style="color: #001080;">valor</span>))</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. lib / js / parametrosDePagina.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">parametrosDePagina</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">URL</span>(<span
     style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span>).</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0070c1;">searchParams</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >12. lib / js / saltaAIndex.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">saltaAIndex</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"index.html"</span></div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >13. lib / js / submit.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">ejecuta</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./ejecuta.js"</span></div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">MetodoHttp</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./MetodoHttp.js"</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Envía los datos de la forma a
    la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;url con el método POST usando
    la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función ejecuta. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">url</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">submit</span>(<span
     style="color: #001080;">evt</span>, <span
     style="color: #001080;">url</span>, <span
     style="color: #001080;">forma</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">evt</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(<span
     style="color: #795e26;">fetch</span>(<span
     style="color: #001080;">url</span></div>
  <div>&nbsp;&nbsp;,&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">method</span><span
     style="color: #001080;">:</span> <span
     style="color: #267f99;">MetodoHttp</span>.<span
     style="color: #001080;">POST</span></div>
  <div>&nbsp;&nbsp;&nbsp;, <span
     style="color: #001080;">body</span><span
     style="color: #001080;">:</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">FormData</span>(<span
     style="color: #001080;">forma</span>)</div>
  <div>&nbsp;&nbsp;}))</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >P. librería de PHP</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mQautoloadPhp.html">lib / php / autoload.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mTleeArrayPhp.html">lib / php / leeArray.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mTleeDecimalPhp.html">lib / php / leeDecimal.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mTleeEnteroPhp.html">lib / php / leeEntero.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mUleeSinEspaciosInFinPhp.html">lib / php / leeSinEspaciosInFin.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mLleeTextoPhp.html">lib / php / leeTexto.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mRpathPhp.html">lib / php / path.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mVrecibeFetchAllPhp.html">lib / php / recibeFetchAll.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mSservicioPhp.html">lib / php / servicio.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mWvalidaPhp.html">lib / php / valida.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mXvalidaNombreNoVacioPhp.html">lib / php / validaNombreNoVacio.php</a>
    </p>
   </li>
   <li>
    <p>
     <a href="/m21compras/mNlibphp/mYvalidaTextoNoVacioPhp.html">lib / php / validaTextoNoVacio.php</a>
    </p>
   </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. lib / php / leeArray.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera los valores asociados
    a</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;un parámetro multivaluado, por</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ejemplo un grupo de checkbox,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;enviados al servidor por medio</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de GET, POST o cookie. Si no se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;recibió el parámetro, devuelve</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;un arreglo vacío. Si el valor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;recibido no es un arreglo, lo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;coloca dentro de uno.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeArray</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">array</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">isset</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$parametro</span><span
     style="color: #000000;">])</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;? </span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$parametro</span><span
     style="color: #000000;">]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;: [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">is_array</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;? </span><span
     style="color: #001080;">$valor</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;: [</span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;">];</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / php / leeDecimal.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"leeSinEspaciosInFin.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el valor decimal de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro (que puede tener</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fracciones) enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeDecimal</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">float</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / php / leeEntero.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"leeSinEspaciosInFin.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el valor entero de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib / php / leeSinEspaciosInFin.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeTexto.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el texto de un</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie. Elimina los espacios al</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;inicio y al final.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">trim</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$parametro</span><span
     style="color: #000000;">));</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib / php / leeTexto.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el texto de un</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$paramwtro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si el parámetro está asignado</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;en $_REQUEST, devuelve su</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;valor; de lo contrario,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;devuelve "".</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*/</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">isset</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$paramwtro</span><span
     style="color: #000000;">])</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;? </span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$paramwtro</span><span
     style="color: #000000;">]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;: </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / php / recibeFetchAll.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeFetchAll</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">|</span><span
     style="color: #0000ff;">array</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$resultado</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. lib / php / valida.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">bool</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$condicion</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (!</span><span
     style="color: #001080;">$condicion</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. lib / php / validaNombreNoVacio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/validaTextoNoVacio.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/txt/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"txtFaltaElNombre.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaNombreNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$nombre</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #795e26;">validaTextoNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtFaltaElNombre</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >12. lib / php / validaTextoNoVacio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/valida.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaTextoNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$texto</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$texto</span><span
     style="color: #000000;"> !== </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
</body>

</html>