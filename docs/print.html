<!DOCTYPE html>
<html lang="es">
<head>
 <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" sizes="32x32" href="/favicon.ico">
<meta name="theme-color" content="#039623">
<link rel="manifest" href="/site.webmanifest">
<script src="/js/muestra-codigo.js"></script>
 <title>Aplicaciones web orientadas a servicios y mashups - GilPG AWOAS</title>
 <meta name="description" content="Página para imprimir todo el contenido de GilPG AWOAS, que introduce conceptos de desarrollo multiplataforma.">
 <style>
 :root {
  --padTop: 2rem;
  --introDuracion: 2s;
  --introFuncion: ease-out;
  --padCont: 0.5rem;
  --padNav: 0.75rem 0.5rem;
  --anchoNav: 300px;
  --anchoLectura: 900px;
  --colLetra: black;
  --colFondo: white;
  --colTituloLetra: #00811c;
  --colTituloShadow: 3px 1px 2px #bdbdbd;
  --colTituloStrong: #684601;
  --colTituloStrongSel: #ffdc97;
  --colTarget: #cef4ff;
  --colSombra: #49494980;
  --navSombra: 0.5rem 0 0.5rem var(--colSombra);
  --padCtrl: 0.2rem 0.3rem;
  --borderCtrl: solid thin;
  --colFondoNav: #f2f2f2;
  --colNavResaltada: #7a2c99;
  --colSecundario: #ffff82;
  --colStack1: black;
  --colStack2: #224ba5;
  --colStack3: #92731f;
  --colScrollbar: #CFD8DC;
  --colThumb: #90a4ae;
  --colThumbActivo: #3f3f3f;
  --anchoThumb: 7px;
  --borderRadiusThumb: 3.5px;
  --gap: 0.5rem;
  --fontMono: monospace;
  --fontSans: sans-serif;
  --fontSerif: serif;
  font-family: var(--fontSerif);
  color: var(--colLetra);
  background-color: var(--colFondo);
  scrollbar-width: thin;
  scrollbar-color: var(--colThumb) var(--colScrollbar);
 }

 body::-webkit-scrollbar {
  width: var(--anchoThumb);
  height: var(--anchoThumb);
 }

 body::-webkit-scrollbar-track {
  background: var(--colScrollbar);
 }

 body::-webkit-scrollbar-thumb {
  background-color: var(--colThumb);
  border-radius: var(--borderRadiusThumb);
 }

 body::-webkit-scrollbar-thumb:active {
  background-color: var(--colThumbActivo);
 }

 .anterior,
 .siguiente {
  display: inline-block;
  text-decoration: none;
  padding: var(--padCtrl);
  border: var(--borderCtrl);
  cursor: pointer;
 }

 .anterior.bye,
 .siguiente.bye {
  display: none;
 }

 a[data-logo] {
  display: block;
  height: 54px;
  line-height: 54px;
  padding-left: 54px;
  margin-top: 1rem;
  background-image: url("/img/icono/maskable_icon_x48.png");
  background-position: 3px center;
  background-repeat: no-repeat;
 }

 a strong,
 a code,
 h1 strong,
 h1 code {
  color: var(--colTituloStrong);
 }

 nav a {
  font-family: var(--fontSans);
 }

 pre {
  font-family: var(--fontMono);
 }

 code {
  color: var(--colTituloStrong);
  font-family: var(--fontMono);
 }

 h1:not(.default) {
  font-family: var(--fontSans);
  color: var(--colTituloLetra);
 }

 .autor {
  font-family: var(--fontSans);
  font-size: 1.5rem;
  color: var(--colTituloLetra);
 }

 figure {
  text-align: center;
 }

 figure img {
  max-width: 100%;
  max-height: 65vh;
 }

 figure img.med {
  max-height: 55vh;
 }

 figcaption {
  font-family: var(--fontMono);
 }

 .print .noPrint {
  display: none;
 }

 @media print {
  .noPrint {
   display: none;
  }

  .pruebaDeEscritorio {
   page-break-before: always;
  }
 }

 iframe {
  box-sizing: border-box;
  width: 100%;
 }

 .lectura {
  max-width: var(--anchoLectura);
  margin: 1rem auto;
 }

 .lectura p,
 .lectura blockquote {
  text-align: justify;
 }

 /* No funciona bien con display:flex en pantallas pequeñas. */
 .horizontal {
  text-align: center;
 }

 .horizontal>* {
  display: inline-block;
  vertical-align: top;
  text-align: left;
 }

 .horizontal>*:not(:first-child) {
  margin-left: 1rem;
 }

 .columnas4 {
  columns: 4 180px;
  column-gap: 1rem;
 }

 .columnas2 {
  columns: 2 360px;
  column-gap: 1rem;
 }

 .resaltado {
  background-color: rgb(255, 255, 89);
 }

 .resaltado2 {
  background-color: rgb(255, 214, 139);
 }

 .resaltado3 {
  background-color: rgb(235, 234, 233);
 }

 table.borde {
  margin-left: auto;
  margin-right: auto;
 }

 table.borde,
 table.borde td {
  border: thin solid;
  border-collapse: collapse;
 }

 table.borde th,
 table.borde td {
  padding: 0.4rem;
 }

 footer {
  margin-top: 1rem;
  display: block;
  text-align: center;
  font-family: var(--fontSans);
  font-size: small;
 }
</style>
 <style>
 .pruebaDeEscritorio section {
  display: inline-block;
  vertical-align: top;
  margin: 1em;
 }

 .pruebaDeEscritorio section pre {
  margin: 0;
 }

 .pruebaDeEscritorio samp {
  font-weight: bold;
 }

 .pruebaDeEscritorio .activo {
  display: inline-block;
  margin: 0 0.2rem 0 0;
  vertical-align: top;
  background-color: var(--colSecundario);
  border: 1px solid var(--colSecundario);
 }

 .pruebaDeEscritorio :target,
 .pruebaDeEscritorio :target caption {
  background-color: var(--colTarget);
 }

 .pruebaDeEscritorio .numero1 {
  display: inline-block;
  margin: 0 0.2rem 0 0;
  color: var(--colStack1);
  border: 1px solid var(--colStack1);
 }

 .pruebaDeEscritorio .numero2 {
  display: inline-block;
  color: var(--colStack2);
  border: 1px solid var(--colStack2);
 }

 .pruebaDeEscritorio .numero3 {
  display: inline-block;
  color: var(--colStack3);
  border: 1px solid var(--colStack3);
 }

 .pruebaDeEscritorio a.parametro1,
 .pruebaDeEscritorio .parametro1 {
  color: var(--colPar1);
 }

 .pruebaDeEscritorio a.parametro2,
 .pruebaDeEscritorio .parametro2 {
  color: var(--colPar2);
 }

 .pruebaDeEscritorio .descongela {
  color: var(--colDescongela);
 }

 .pruebaDeEscritorio table.tabla1,
 .pruebaDeEscritorio table.tabla1 th,
 .pruebaDeEscritorio table.tabla1 td {
  border: 1px solid var(--colStack1);
 }

 .pruebaDeEscritorio table.tabla2,
 .pruebaDeEscritorio table.tabla2 th,
 .pruebaDeEscritorio table.tabla2 td {
  border: 1px solid var(--colStack2);
 }

 .pruebaDeEscritorio table.tabla3,
 .pruebaDeEscritorio table.tabla3 th,
 .pruebaDeEscritorio table.tabla3 td {
  border: 1px solid var(--colStack3);
 }

 .pruebaDeEscritorio .frame {
  font-family: var(--fontMono);
  border-collapse: collapse;
 }

 .pruebaDeEscritorio .frame,
 .pruebaDeEscritorio .frame th,
 .pruebaDeEscritorio .frame td {
  border: thin solid;
 }

 .pruebaDeEscritorio .frame caption {
  font-style: italic;
 }

 .pruebaDeEscritorio .objeto caption {
  text-decoration: underline;
  font-style: italic;
 }

 .pruebaDeEscritorio .creación {
  display: flex;
 }
</style>
</head>
<body class="print">
   <h1 class="sitio">Aplicaciones web orientadas a servicios y mashups</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <p class="autor">por Gilberto Pacheco Gallegos</p>
 <ul>
  <li>
   <p>
    Este sitio es continuación de
    <a href="https://gilpgiti.github.io" rel="nooper"
      target="_blank">https://gilpgiti.github.io</a>,
    <a href="https://gilpgijs.github.io" rel="nooper"
      target="_blank">https://gilpgijs.github.io</a>,
    <a href="https://gilpgpoojs.github.io" rel="nooper"
      target="_blank">https://gilpgpoojs.github.io</a>,
    y
    <a href="https://gilpgihc.github.io" rel="nooper"
      target="_blank">https://gilpgihc.github.io</a>
   </p>
  </li>
  <li>
   <p>
    Puedes ver el listado de mis sitios educativos en
    <a href="https://gilpgcl.github.io" target="_blank"
      rel="noopener">https://gilpgcl.github.io</a>.
   </p>
  </li>
  <li>
   <p>
    Mucho contenido que originalmente aparecía en este sitio, se ha desplazado a
    los sitios anteriormente mencionados.
   </p>
  </li>
 </ul>
 <section class="noPrint">
 <h1>Instrucciones de navegación</h1>
 <ul>
  <li>
   <p>
    Los siguientes controles te permitirán navegar por todo el contenido del
    sitio.
   </p>
   <dl>
    <dt>
     <button type="button" title="Cierra">&#x2715;</button>
    </dt>
    <dd>
     <p>Oculta el menú de navegación.</p>
    </dd>
    <dt>
     <button type="button" title="Menú">&#x2630;</button>
    </dt>
    <dd>
     <p>Muestra el menú de navegación.</p>
    </dd>
    <dt>
     <span class="anterior" title="Página anterior">◀</span>
    </dt>
    <dt>
     <kbd>←</kbd> (Tecla flecha a la izquierda)
    </dt>
    <dt>
     Swipe hacia la derecha
    </dt>
    <dd>
     <p>Regresa a la página anterior.</p>
    </dd>
    <dt>
     <span class="siguiente" title="Página siguiente">▶</span>
    </dt>
    <dt>
     <kbd>→</kbd> (Tecla flecha a la derecha)
    </dt>
    <dt>
     Swipe hacia la izquierda
    </dt>
    <dd>
     <p>Avanza a la página siguiente.</p>
    </dd>
   </dl>
  </li>
 </ul>
</section>
 <nav>
  <h1>Lecciones</h1>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m01awoas/">Aplicaciones Orientadas a Servicios</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/">Ejemplo de servicio</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/">Arquitectura orientada a servicios</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m04geolocalizacion.html">Ejemplo de geolocalización</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m05sociales.html">Ejemplo de redes sociales</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m06ecommerce/">Características de un e-commerce</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/">Servicio que falla</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/">Servicio que devuelve un resultado JSON</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/">Servicio que recibe y devuelve JSON</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/">Servicio que procesa una forma</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/">Renderizado del lado del cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/">Renderizado del lado del servidor</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/">Bases de datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/">Chat sencillo - Protocolos de comunicación</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/">Chat serio</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m16streaming.html">Ejemplo de streaming</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/">Relaciones a uno en la base de datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17extra.html">Ejemplos adicionales</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section>
         <h1 class="leccion">1. Aplicaciones Orientadas a Servicios</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <p>
  En esta lección se presentan loa conceptos de aplicaciones web orientadas a
  servicios y mashups.
 </p>
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m01awoas/mAnube.html"><dfn>La nube</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m01awoas/mBaw.html"><dfn>Aplicación web</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m01awoas/mCservicio.html"><dfn>Servicio en la nube</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m01awoas/mDtipos.html">Tipos de servicios</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m01awoas/mEoferta.html">Servicios que se ofrecen en la nube</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m01awoas/mFmasUsados.html">Servicios de nube más usados</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m01awoas/mGaoas.html"><dfn>Aplicación orientada a servicios</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m01awoas/mHawoas.html"><dfn>Aplicación web orientada a servicios</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m01awoas/mImashups.html"><dfn>Aplicación web hibrida (Mashup)</dfn></a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. <dfn>La nube</dfn></h1><div class="lectura">
 <figure>
  <img src="/img/m01awoas/Imagen1.png">
 </figure>
 <p>
  Una <dfn>nube computacional</dfn> es el conjunto de servidores remotos en
  Internet para gestionar archivos y aplicaciones.
 </p>
 <p>
  Una de las ventajas de una nube es que permite que los usuarios utilicen
  archivos y aplicaciones sin tener que instalar programas en una computadora
  con acceso a Internet.
 </p>
 <p>
  El concepto de nube salió de los diagramas de red, donde Internet se
  representa como una nube, en una abstracción de la infraestructura que
  representa.
 </p>
</div>
      </section>
     <section >
         <h1 >B. <dfn>Aplicación web</dfn></h1><div class="lectura">
 <ul>
  <li>
   <p>
    Aplicación que los usuarios pueden utilizar accediendo a un servidor web a
    través de internet o de una intranet mediante un navegador.
   </p>
  </li>
  <li>
   <p>
    <small>
     Fuente:
     <a target="_blank" rel="nooper"
       href="https://es.wikipedia.org/wiki/Aplicaci%C3%B3n_web">https://es.wikipedia.org/wiki/Aplicaci%C3%B3n_web</a>
    </small>
   </p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >C. <dfn>Servicio en la nube</dfn></h1><div class="lectura">
 <p>
  Utilidad o función que se utiliza a través de Internet.
 </p>
</div>
      </section>
     <section >
         <h1 >D. Tipos de servicios</h1><div class="lectura">
 <dl>
  <dt><dfn>Software as a Service</dfn> <abbr>(SaaS)</abbr></dt>
  <dd>
   <p>
    El más utilizado. El software está alojado en servidores de los proveedores
    y el cliente accede a ellos a través del navegador web. Todo lo relacionado
    con mantenimiento, soporte y disponibilidad es manejado por el proveedor.
   </p>
  </dd>
  <dt><dfn>Platform as a Service</dfn> <abbr>(PaaS)</abbr></dt>
  <dd>
   <p>
    En este tipo de servicios en la nube el proveedor ofrece acceso a un entorno
    basado en cloud en el cual los usuarios pueden crear y distribuir sus
    propias aplicaciones. El proveedor proporciona la infraestructura
    subyacente.
   </p>
  </dd>
  <dt><dfn>Infrastructure as a Service</dfn> <abbr>(IaaS)</abbr></dt>
  <dd>
   <p>
    Un proveedor de servicios proporciona el software y las aplicaciones a
    través de Internet. Los usuarios se suscriben al software y acceden a él a
    través de la web o las APIs del proveedor.
   </p>
  </dd>
 </dl>
</div>
      </section>
     <section >
         <h1 >E. Servicios que se ofrecen en la nube</h1><div class="lectura">
 <ul>
  <li>
   <p>Almacenamiento</p>
  </li>
  <li>
   <p>Herramientas de Productividad</p>
  </li>
  <li>
   <p>Desarrollo de Aplicaciones</p>
  </li>
  <li>
   <p>Hosting</p>
  </li>
  <li>
   <p>Videoconferencias</p>
  </li>
  <li>
   <p>Mapas</p>
  </li>
  <li>
   <p>Streamming</p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >F. Servicios de nube más usados</h1><div class="lectura">
 <dl>
  <dt>Amazon Web Services (AWS)</dt>
  <dd>
   <p>
    <a href="https://aws.amazon.com/" target="_blank"
      rel="nooper">https://aws.amazon.com/</a>
   </p>
  </dd>
  <dt>Microsoft Azure</dt>
  <dd>
   <p>
    <a href="https://azure.microsoft.com/" target="_blank"
      rel="nooper">https://azure.microsoft.com/</a>.
   </p>
  </dd>
  <dt>Google Cloud</dt>
  <dd>
   <p>
    <a href="https://cloud.google.com/" target="_blank"
      rel="nooper">https://cloud.google.com/</a>.
   </p>
  </dd>
 </dl>
</div>
      </section>
     <section >
         <h1 >G. <dfn>Aplicación orientada a servicios</dfn></h1><div class="lectura">
 <p>
  Es una aplicación en la que algunas partes se realizan en un servidor
  independiente.
 </p>
 <section>
  <h1>Características</h1>
  <ul>
   <li>
    <p>El procesamiento se reparte en varias computadoras.</p>
   </li>
   <li>
    <p>Un servicio puede ser utilizado por varias aplicaciones.</p>
   </li>
  </ul>
 </section>
</div>
      </section>
     <section >
         <h1 >H. <dfn>Aplicación web orientada a servicios</dfn></h1><div class="lectura">
 <ul>
  <li>
   <p>
    Aplicación web en la que algunas operaciones se realizan en el servidor web
    y sus resultados se descargan al navegador web sin cambiar la página
    desplegada.
   </p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >I. <dfn>Aplicación web hibrida (Mashup)</dfn></h1><div class="lectura">
 <p>Es una aplicación que usa otras aplicaciones web.</p>
 <section>
  <h1>Estructura</h1>
  <dl>
   <dt><dfn>Proveedor de contenidos</dfn></dt>
   <dd>
    <p>
     Fuente de los datos. Los datos están disponibles vía una API y diferentes
     protocolos web como RSS, REST y Web Service.
    </p>
   </dd>
   <dt><dfn>El sitio mashup</dfn></dt>
   <dd>
    <p>
     Es la nueva aplicación web que provee un nuevo servicio utilizando
     diferente información y de la que no es dueña.
    </p>
   </dd>
   <dt><dfn>El navegador web cliente</dfn></dt>
   <dd>
    <p>
     Interfaz de usuario del mashup. En una aplicación web, el contenido puede
     ser mezclado por los web browser clientes usando lenguaje web del lado del
     cliente, por ejemplo, HTML y JavaScript.
    </p>
   </dd>
  </dl>
 </section>
 <p><small>Fuente: Wikipedia</small></p>
</div>
      </section>
      </section>
     <section>
         <h1 class="leccion">2. Ejemplo de servicio</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m02servicio/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mBdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mCfuncionamiento/">Funcionamiento</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mDinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mEarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mFindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mGservicioPhp.html">servicio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  En esta lección se explica el funcionamiento de un servicio muy sencillo.
 </p>
 <p>
  Puedes probar el ejemplo en
  <a rel="noopener" href="https://servicio--gilbertopachec5.repl.co/"
    target="_blank">https://servicio--gilbertopachec5.repl.co/</a>.
 </p>
</div>
      </section>
     <section >
         <h1 >B. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m02servicio/serviciodistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section>
         <h1 >C. Funcionamiento</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m02servicio/mCfuncionamiento/m1cliente.html">Iniciamos al ejecutar código en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mCfuncionamiento/m2invoca.html">Se invoca el servicio en el servidor</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mCfuncionamiento/m3procesa.html">El servicio procesa la request y genera la response</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mCfuncionamiento/m4devuelve.html">El servicio devuelve la response, que es recibida en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mCfuncionamiento/m5verifica.html">Verifica si la conexión terminó con éxito</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mCfuncionamiento/m6recupera.html">Como la conexión terminó con éxito, recupera el texto de response</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mCfuncionamiento/m7muestra.html">Muestra el texto en un alert</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m02servicio/mCfuncionamiento/m8termina.html">Al cerrar el alert, termina el evento</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section class="pruebaDeEscritorio">
         <h1 >1. Iniciamos al ejecutar código en el cliente</h1><section>
 <h1>index.html</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resp</span> =</div>
   <div>&nbsp;<span style="color: #af00db;">await</span> <span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"servicio.php"</span>)</div>
   <div><span style="color: #af00db;">if</span> (<span
      style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">ok</span>) {</div>
   <div>&nbsp;<span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">texto</span> =</div>
   <div>&nbsp; <span style="color: #af00db;">await</span> <span
      style="color: #0070c1;">resp</span>.<span
      style="color: #795e26;">text</span>()</div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">texto</span>)</div>
   <div>} <span style="color: #af00db;">else</span> {</div>
   <div>&nbsp;<span style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Error</span>(</div>
   <div>&nbsp; <span style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">statusText</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >2. Se invoca el servicio en el servidor</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resp</span> =</div>
   <div><span class="resaltado">&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"servicio.php"</span>)</span></div>
   <div><span style="color: #af00db;">if</span> (<span
      style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">ok</span>) {</div>
   <div>&nbsp;<span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">texto</span> =</div>
   <div>&nbsp; <span style="color: #af00db;">await</span> <span
      style="color: #0070c1;">resp</span>.<span
      style="color: #795e26;">text</span>()</div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">texto</span>)</div>
   <div>} <span style="color: #af00db;">else</span> {</div>
   <div>&nbsp;<span style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Error</span>(</div>
   <div>&nbsp; <span style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">statusText</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Ejecuta fetch y envía request (solicitud).</p>
</section>
<section style="vertical-align: middle;">
 <h1>Request</h1>
 <dl style="background-color: yellow;">
  <dt>URL</dt>
  <dd>
   <p>
    <a rel="noopener"
      href="https://phpsrv1.gilbertopacheco.repl.co/servicio.php"
      target="_blank">servicio.php</a>
   </p>
  </dd>
  <dt>Method</dt>
  <dd>
   <p>GET</p>
  </dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>servicio.php</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span style="color: #800000;">&lt;?php</span></div>
   <div><span style="color: #795e26;">echo</span> <span
      style="color: #a31515;">"Hola"</span>;</div><br>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despierta y recibe request.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >3. El servicio procesa la request y genera la response</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resp</span> =</div>
   <div><span class="resaltado3">&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"servicio.php"</span>)</span></div>
   <div><span style="color: #af00db;">if</span> (<span
      style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">ok</span>) {</div>
   <div>&nbsp;<span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">texto</span> =</div>
   <div>&nbsp; <span style="color: #af00db;">await</span> <span
      style="color: #0070c1;">resp</span>.<span
      style="color: #795e26;">text</span>()</div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">texto</span>)</div>
   <div>} <span style="color: #af00db;">else</span> {</div>
   <div>&nbsp;<span style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Error</span>(</div>
   <div>&nbsp; <span style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">statusText</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>servicio.php</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #800000;">&lt;?php</span></div>
   <div><span class="resaltado"><span style="color: #795e26;">echo</span> <span
      style="color: #a31515;">"Hola"</span>;</span></div><br>
  </div>
 </muestra-codigo>
 <p class="resaltado2">
  Procesa la request y genera
  <br>la response (respuesta).</p>
</section>
<section style="vertical-align: middle;">
 <h1>Response</h1>
 <dl class="resaltado">
  <dt>code</dt>
  <dd>200</dd>
  <dt>contenido</dt>
  <dd>Hola</dd>
 </dl>
 <p class="resaltado2">
  El code (o código) 200
  <br>indica que terminó
  <br>con éxito.
 </p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >4. El servicio devuelve la response, que es recibida en el cliente</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span class="resaltado"><span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resp</span> =</span></div>
   <div>&nbsp;<span class="resaltado"><span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"servicio.php"</span>)</span></div>
   <div><span style="color: #af00db;">if</span> (<span
      style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">ok</span>) {</div>
   <div>&nbsp;<span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">texto</span> =</div>
   <div>&nbsp; <span style="color: #af00db;">await</span> <span
      style="color: #0070c1;">resp</span>.<span
      style="color: #795e26;">text</span>()</div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">texto</span>)</div>
   <div>} <span style="color: #af00db;">else</span> {</div>
   <div>&nbsp;<span style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Error</span>(</div>
   <div>&nbsp; <span style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">statusText</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despiesta y recibe response.</p>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Response</h1>
  <dl class="resaltado">
   <dt>code</dt>
   <dd>200</dd>
   <dt>contenido</dt>
   <dd>Hola</dd>
  </dl>
 </section>
 <section style="display: block;">
  <h1>Memoria</h1>
  <dl class="resaltado">
   <dt>resp</dt>
   <dd>
    <dl>
     <dt>ok</dt>
     <dd>true</dd>
     <dt>text</dt>
     <dd>Hola</dd>
    </dl>
   </dd>
  </dl>
  <p class="resaltado2">
   <var>resp</var> tiene lo mismo
   <br>que la response,
   <br>pero en un objeto
   <br>de JavaScript.
  </p>
 </section>
</section>
<section style="vertical-align: middle;">
 <h1>servicio.php</h1>
 <muestra-codigo class="resaltado3">
  <div>
   <div><span style="color: #800000;">&lt;?php</span></div>
   <div><span style="color: #795e26;">echo</span> <span
      style="color: #a31515;">"Hola"</span>;</div><br>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Devuelve response y se duerme.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >5. Verifica si la conexión terminó con éxito</h1><section style="display: inline-block; vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resp</span> =</div>
   <div>&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"servicio.php"</span>)</div>
   <div><span class="resaltado"><span
      style="color: #af00db;">if</span> (<span
      style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">ok</span>) {</span></div>
   <div>&nbsp;<span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">texto</span> =</div>
   <div>&nbsp; <span style="color: #af00db;">await</span> <span
      style="color: #0070c1;">resp</span>.<span
      style="color: #795e26;">text</span>()</div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">texto</span>)</div>
   <div>} <span style="color: #af00db;">else</span> {</div>
   <div>&nbsp;<span style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Error</span>(</div>
   <div>&nbsp; <span style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">statusText</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl style="padding: 0.5rem;">
  <dt>resp</dt>
  <dd>
   <dl>
    <dt class="resaltado">ok</dt>
    <dd class="resaltado">true</dd>
    <dt>text</dt>
    <dd>Hola</dd>
   </dl>
  </dd>
 </dl>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >6. Como la conexión terminó con éxito, recupera el texto de response</h1><section style="display: inline-block; vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resp</span> =</div>
   <div>&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"servicio.php"</span>)</div>
   <div><span
      style="color: #af00db;">if</span> (<span
      style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">ok</span>) {</div>
   <div><span class="resaltado">&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">texto</span> =</span></div>
   <div><span class="resaltado">&nbsp; <span
      style="color: #af00db;">await</span> <span
      style="color: #0070c1;">resp</span>.<span
      style="color: #795e26;">text</span>()</span></div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">texto</span>)</div>
   <div>} <span style="color: #af00db;">else</span> {</div>
   <div>&nbsp;<span style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Error</span>(</div>
   <div>&nbsp; <span style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">statusText</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl style="padding: 0.5rem;">
  <dt>resp</dt>
  <dd>
   <dl>
    <dt>ok</dt>
    <dd>true</dd>
    <dt class="resaltado">text</dt>
    <dd class="resaltado">Hola</dd>
   </dl>
  </dd>
  <dt class="resaltado">texto</dt>
  <dd class="resaltado">Hola</dd>
 </dl>
 <p class="resaltado2">
  El texto recuperado
  <br>queda en la
  <br>constante <var>texto</var>.
 </p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >7. Muestra el texto en un alert</h1><section style="display: inline-block; vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resp</span> =</div>
   <div>&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"servicio.php"</span>)</div>
   <div><span
      style="color: #af00db;">if</span> (<span
      style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">ok</span>) {</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">texto</span> =</div>
   <div>&nbsp; <span
      style="color: #af00db;">await</span> <span
      style="color: #0070c1;">resp</span>.<span
      style="color: #795e26;">text</span>()</div>
   <div><span class="resaltado">&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">texto</span>)</span></div>
   <div>} <span style="color: #af00db;">else</span> {</div>
   <div>&nbsp;<span style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Error</span>(</div>
   <div>&nbsp; <span style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">statusText</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section>
 <h1>Memoria</h1>
 <dl>
  <dt>resp</dt>
  <dd>
   <dl>
    <dt>ok</dt>
    <dd>true</dd>
    <dt>text</dt>
    <dd>Hola</dd>
   </dl>
  </dd>
  <dt>texto</dt>
  <dd>Hola</dd>
 </dl>
</section>
<section>
 <h1>Alert</h1>
 <div class="resaltado" style="border: thin solid; padding: 0 0.5rem;">
  <p>Hola</p>
  <p style="text-align: end;">
   <button type="button">Aceptar</button>
  </p>
  </div>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >8. Al cerrar el alert, termina el evento</h1><section style="display: inline-block; vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resp</span> =</div>
   <div>&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"servicio.php"</span>)</div>
   <div><span
      style="color: #af00db;">if</span> (<span
      style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">ok</span>) {</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">texto</span> =</div>
   <div>&nbsp; <span
      style="color: #af00db;">await</span> <span
      style="color: #0070c1;">resp</span>.<span
      style="color: #795e26;">text</span>()</div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">texto</span>)</div>
   <div>} <span style="color: #af00db;">else</span> {</div>
   <div>&nbsp;<span style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Error</span>(</div>
   <div>&nbsp; <span style="color: #0070c1;">resp</span>.<span
      style="color: #0070c1;">statusText</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section>
 <h1>Memoria</h1>
 <dl>
  <dt>resp</dt>
  <dd>
   <dl>
    <dt>ok</dt>
    <dd>true</dd>
    <dt>text</dt>
    <dd>Hola</dd>
   </dl>
  </dd>
  <dt>texto</dt>
  <dd>Hola</dd>
 </dl>
</section>
      </section>
      </section>
     <section >
         <h1 >D. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    Revisa el proyecto en Replit con la URL
    <a href="https://replit.com/@GilbertoPachec5/servicio?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/servicio?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de spotlight del
     proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1wdg7LKHR8L21FQGsRr2bXpXqAcaEGxCx/view?usp=sharing"
      target="_blank" rel="nooper">Observa paso a paso la comunicación entre
     ciente y servidor.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >E. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p><a href="mFindexHtml.html">index.html</a></p>
  </li>
  <li>
   <p><a href="mGservicioPhp.html">servicio.php</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >F. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Servicio<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Servicio<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #e50000;">onclick</span>=<span
     style="color: #0000ff;">"</span><span
     style="color: #0000ff;">ejecuta()"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;Ejecuta</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta()&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #008000;">/*&nbsp;Se conecta a servicio.php</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;y recibe su
    respuesta. */</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> resp =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> fetch(<span
     style="color: #a31515;">"servicio.php"</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> texto =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text()</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(texto)</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resp.statusText)</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (e)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;console.error(e)</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;alert(e.message)</div>
  <div>&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >G. servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div>echo <span
     style="color: #a31515;">"Hola"</span>;</div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 class="leccion">3. Arquitectura orientada a servicios</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <p>
  En esta lección se presenta la arquitectura orientada a servicios.
 </p>
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m03soa/mAsoa.html"><dfn>Arquitectura orientada a servicios</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mBventajas.html">Ventajas</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mCprincipios.html">Principios de diseño de un servicio</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mDcapas.html">Capas</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mEdiagrama.html"><dfn>Diagrama de Arquitectura</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mFxml.html">Introducción a XML</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mGdefXml.html"><dfn>XML</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mHejXml.html">Ejemplo de XML</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mIdtdXml.html">DTD MiContacto</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mJsoap.html">Introducción a SOAP</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mKdefSoap.html"><dfn>SOAP</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mLestrSoap.html">Estructura de los mensajes de SOAP</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mMsolSoap.html">Ejemplo de solicitud SOAP</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mNrespSoap.html">Ejemplo de respuesta SOAP</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mOwsdl.html">Introducción a WSDL</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mPdefWsdl.html"><dfn>WSDL</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mQelemWsdl.html">Elementos de WSDL</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mRejemWsdl.html">Ejemplo de WSDL</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mSuddi.html">Introducción a UDDI</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mTdefUddi.html"><dfn>UDDI</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mUrest.html">Introducción a REST</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mVdefRest.html"><dfn>REST</dfn></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m03soa/mWestrRest.html">Estructura de REST</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. <dfn>Arquitectura orientada a servicios</dfn></h1><div class="lectura">
 <ul>
  <li>
   <p>
    Estilo de arquitectura de TI que se apoya en la orientación a
    servicios.
   </p>
  </li>
  <li>
   <p>
    La orientación a servicios es una forma de pensar en servicios, su
    construcción y sus resultados.
   </p>
  </li>
  <li>
   <p>
    Un servicio es una representación lógica de una actividad de negocio
    que tiene un resultado de negocio específico (ejemplo: comprobar el
    crédito de un cliente, obtener datos de clima, consolidar reportes
    de perforación).
   </p>
  </li>
 </ul>
 <p>
  <small>
   Fuente:
   <a href="https://es.wikipedia.org/wiki/Arquitectura_orientada_a_servicios"
     target="_blank" rel="nooper">https://es.wikipedia.org/wiki/Arquitectura_orientada_a_servicios</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >B. Ventajas</h1><div class="lectura">
 <ul>
  <li>
   <p>Reduce el nivel de acoplamiento.</p>
  </li>
  <li>
   <p>Clara definición de roles de desarrollo.</p>
  </li>
  <li>
   <p>Definición de seguridad más clara.</p>
  </li>
  <li>
   <p>Fácil de probar.</p>
  </li>
  <li>
   <p>Mejora el mantenimiento.</p>
  </li>
  <li>
   <p>Favorece la reutilización.</p>
  </li>
  <li>
   <p>Favorece el desarrollo en paralelo.</p>
  </li>
  <li>
   <p>Favorece la escalabilidad.</p>
  </li>
  <li>
   <p>Permite un mapeo directo entre los procesos y los sistemas.</p>
  </li>
  <li>
   <p>Permite un monitoreo preciso.</p>
  </li>
  <li>
   <p>Permite la interoperabilidad.</p>
  </li>
 </ul>
 <p>
  <small>
   Fuente:
   <a href="http://soa-fpuna.blogspot.com/2011/11/ventajas-y-desventajas.html"
     target="_blank" rel="nooper">http://soa-fpuna.blogspot.com/2011/11/ventajas-y-desventajas.html</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >C. Principios de diseño de un servicio</h1><div class="lectura">
 <ul>
  <li>
   <p>
    Definición clara y estandarizada mediante descriptores de servicio, donde se
    indique:
   </p>
   <ul>
    <li>
     <p>Nombre del Servicio.</p>
    </li>
    <li>
     <p>Forma de accesos.</p>
    </li>
    <li>
     <p>Funcionalidades que ofrece.</p>
    </li>
    <li>
     <p>
      Descripción de los datos de entrada de cada funcionalidad que ofrece.
     </p>
    </li>
    <li>
     <p>
      Descripción de los datos de salida de cada funcionalidad que ofrece.
     </p>
    </li>
   </ul>
  </li>
  <li>
   <p>
    Sin estado: no guardan valores para ser usados en otras llamadas. (es
    posible acceder a bases de datos.)
   </p>
  </li>
  <li>
   <p>
    Pueden también ejecutar unidades discretas de trabajo como serían editar y
    procesar una transacción.
   </p>
  </li>
  <li>
   <p>No dependen del estado de otras funciones o procesos.</p>
  </li>
 </ul>
 <p>
  <small>
   Fuente:
   <a href="https://ederluisdsd.wordpress.com/2013/03/17/principios-de-diseno-soa/"
     target="_blank rel="nooper">https://ederluisdsd.wordpress.com/2013/03/17/principios-de-diseno-soa/</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >D. Capas</h1><div class="marco-lectura">
 <figure>
  <img src="/img/m03soa/capas_soa.svg" alt="Capas de SOA">
 </figure>
 <dl>
  <dt>Capa de acceso</dt>
  <dd>
   <ul>
    <li>
     <p>Interfaz de usuario que invoca a los procesos de negocio.</p>
    </li>
    <li>
     <p>Interfaces web, escritorio, móvil, etc.</p>
    </li>
    <li>
     <p>Pueden ejecutarse en varios dispositivos.</p>
    </li>
   </ul>
  </dd>
  <dt>Capa de procesos de negocio</dt>
  <dd>
   <ul>
    <li>
     <p>
      Integración de uno o más servicios que resuelven un problema de negocio.
     </p>
    </li>
   </ul>
  </dd>
  <dt>Capa de servicio</dt>
  <dd>
   <ul>
    <li>
     <p>Componentes que se han desarrollado como servicios.</p>
    </li>
   </ul>
  </dd>
  <dt>Capa de recursos</dt>
  <dd>
   <ul>
    <li>
     <p>Recursos operacionales: CRM, ERP, HR, BD.</p>
    </li>
    <li>
     <p>Tecnologías (Java, .NET, PHP).</p>
    </li>
   </ul>
  </dd>
 </dl>
 <p>
  <small>
   Fuente:
   <a href="https://www.slideshare.net/imcinstitute/service-oriented-architecture-soa-15-introduction-to-soa"
     target="_blank" rel="nooper">https://www.slideshare.net/imcinstitute/service-oriented-architecture-soa-15-introduction-to-soa</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >E. <dfn>Diagrama de Arquitectura</dfn></h1><div class="lectura">
 <ul>
  <li>
   <p>
    A continuación se muestra como quedaría un ejemplo de bases de datos
    si se adaptara a SOA.
   </p>
  </li>
  <li>
   <p>
    <a href="https://www.uml-diagrams.org/component-diagrams.html"
      target="_blank" rel="nooper">Diagramas de Componentes para SOA.</a>
   </p>
  </li>
 </ul>
</div>
<figure>
 <img style="max-height: none;" src="/img/m03soa/arquitectura_soa.svg"
   alt="Capas de SOA">
</figure>
<div class="lectura">
 <p>
  <small>
   Fuente:
   <a href="https://www.slideshare.net/imcinstitute/service-oriented-architecture-soa-15-introduction-to-soa"
     target="_blank"
     rel="nooper">https://www.slideshare.net/imcinstitute/service-oriented-architecture-soa-15-introduction-to-soa</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >F. Introducción a XML</h1>
      </section>
     <section >
         <h1 >G. <dfn>XML</dfn></h1><div class="lectura">
 <ul>
  <li>
   <p>
    Siglas en inglés de
    e<strong>Xtensible Markup Language</strong>,
    traducido como
    <strong>Lenguaje de Marcado Extensible o Lenguaje de Marcas
     Extensible</strong>.
   </p>
  </li>
  <li>
   <p>Metalenguaje que permite definir lenguajes de marcas.</p>
  </li>
  <li>
   <p>
    Desarrollado por el
    <a href="https://www.w3.org/">World Wide Web Consortium</a>
    (W3C).
   </p>
  </li>
  <li>
   <p>Utilizado para almacenar datos en forma legible.</p>
  </li>
 </ul>
 <p>
  <small>
   Fuente:
   <a href="https://es.wikipedia.org/wiki/Extensible_Markup_Language"
     target="_blank"
     rel="nooper">https://es.wikipedia.org/wiki/Extensible_Markup_Language</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >H. Ejemplo de XML</h1><muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;?xml</span><span
     style="color: #ff0000;">&nbsp;version</span>=<span
     style="color: #0000ff;">"1.0"</span><span
     style="color: #ff0000;">&nbsp;encoding</span>=<span
     style="color: #0000ff;">"UTF-8"</span>&nbsp;<span
     style="color: #800000;">?&gt;</span></div>
  <div><span style="color: #800000;">&lt;!</span><span
     style="color: #0000ff;">DOCTYPE</span>&nbsp;<span
     style="color: #0000ff;">MiContacto</span>&nbsp;SYSTEM&nbsp;"MiContacto.dtd"<span
     style="color: #800000;">&gt;</span></div>
  <div><span style="color: #800000;">&lt;Contacto&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;Nombre&gt;</span>Juan<span
     style="color: #800000;">&lt;/Nombre&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;Email&gt;</span>juan@gm.com<span
     style="color: #800000;">&lt;/Email&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;Telefonos&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;Telefono&gt;</span>5555555555<span
     style="color: #800000;">&lt;/Telefono&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;Telefono&gt;</span>8888888888<span
     style="color: #800000;">&lt;/Telefono&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/Telefonos&gt;</span></div>
  <div><span style="color: #800000;">&lt;/Contacto&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >I. DTD MiContacto</h1><muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;?xml</span><span
     style="color: #ff0000;">&nbsp;version</span>=<span
     style="color: #0000ff;">"1.0"</span><span
     style="color: #ff0000;">&nbsp;encoding</span>=<span
     style="color: #0000ff;">"ISO-8859-1"</span>&nbsp;<span
     style="color: #800000;">?&gt;</span></div>
  <div><span
     style="color: #008000;">&lt;!--&nbsp;Este&nbsp;es&nbsp;el&nbsp;DTD&nbsp;de&nbsp;Contacto&nbsp;--&gt;</span>
  </div>
  <div>
   &lt;!ELEMENT&nbsp;Contacto&nbsp;(Nombre,&nbsp;Email,&nbsp;Telefonos)&gt;
  </div>
  <div>&lt;!ELEMENT&nbsp;Nombre&nbsp;(#PCDATA)&gt;</div>
  <div>&lt;!ELEMENT&nbsp;Email&nbsp;(#PCDATA)&gt;</div>
  <div>&lt;!ELEMENT&nbsp;Telefonos&nbsp;(Telefono)*&gt;</div>
  <div>&lt;!ELEMENT&nbsp;Telefono&nbsp;(#PCDATA)&gt;</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >J. Introducción a SOAP</h1>
      </section>
     <section >
         <h1 >K. <dfn>SOAP</dfn></h1><div class="lectura">
 <ul>
  <li>
   <p>
    Originalmente siglas de Simple Object Access Protocol, Protocolo de Acceso
    Simple a Objetos.
   </p>
  </li>
  <li>
   <p>Hoy en día solo es SOAP, sin un significado especial.</p>
  </li>
  <li>
   <p>
    Protocolo estándar que define cómo dos objetos en diferentes procesos pueden
    comunicarse por medio de intercambio de datos XML.
   </p>
  </li>
  <li>
   <p>
    Es uno de los protocolos utilizados para implementar servicios web.
   </p>
  </li>
 </ul>
 <p>
  <small>
   Fuente:
   <a href="https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol"
     target="_blank"
     rel="nooper">https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >L. Estructura de los mensajes de SOAP</h1><div class="marco-lectura">
 <figure>
  <img src="/img/m03soa/mensajes_soap.svg" alt="Mensajes SOAP">
 </figure>
 <ul>
  <li>
   <p>Usan formato XML.</p>
  </li>
  <li>
   <p>3 elementos:</p>
   <dl>
    <dt><dfn>Envelope</dfn> o <dfn>sobre</dfn></dt>
    <dd>
     <p>El elemento raíz.</p>
    </dd>
    <dt><dfn>Header</dfn> o <dfn>encabezado</dfn></dt>
    <dd>
     <p>Especificación de como procesar los datos.</p>
    </dd>
    <dt><dfn>Body</dfn> o <dfn>cuerpo</dfn></dt>
    <dd>
     <p>El conenido del mensaje.</p>
    </dd>
   </dl>
  </li>
 </ul>
 <p>
  <small>
   Fuente:
   <a href="https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol"
     target="_blank"
     rel="nooper">https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >M. Ejemplo de solicitud SOAP</h1><muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;soap:Envelope</span>&nbsp;<span
     style="color: #ff0000;">xmlns:soap</span>=<span
     style="color: #0000ff;">"http://schemas.xmlsoap.org/soap/envelope/"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;soap:Header&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;t:Transaction</span>&nbsp;<span
     style="color: #ff0000;">xmlns:t</span>=<span
     style="color: #0000ff;">"alguna-URI"</span>&nbsp;<span
     style="color: #ff0000;">soap:mustUnderstand</span>=<span
     style="color: #0000ff;">"1"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/t:Transaction&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/soap:Header&gt;</span>&nbsp;</div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;soap:Body&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;getDetalleDeProducto</span>&nbsp;<span
     style="color: #ff0000;">xmlns</span>=<span
     style="color: #0000ff;">"http://warehouse.example.com/ws"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;productoId&gt;</span>827635<span
     style="color: #800000;">&lt;/productoId&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/getDetalleDeProducto&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/soap:Body&gt;</span></div>
  <div><span style="color: #800000;">&lt;/soap:Envelope&gt;</span></div>
 </div>
</muestra-codigo>
<div class="lectura">
 <p>
  <small>
   Fuente:
   <a href="https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol"
     target="_blank"
     rel="nooper">https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >N. Ejemplo de respuesta SOAP</h1><muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;soap:Envelope</span>&nbsp;<span
     style="color: #ff0000;">xmlns:soap</span>=<span
     style="color: #0000ff;">"http://schemas.xmlsoap.org/soap/envelope/"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;soap:Body&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;getRespuestaDetalleDeProducto</span>&nbsp;<span
     style="color: #ff0000;">xmlns</span>=<span
     style="color: #0000ff;">"http://warehouse.example.com/ws"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;getResultadoDetalleDeProducto&gt;</span>
  </div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;productId&gt;</span>827635<span
     style="color: #800000;">&lt;/productId&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;nombre&gt;</span>Balón&nbsp;de&nbsp;Futbol&lt;/&nbsp;nombre&gt;
  </div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;descripción&gt;</span>Balón&nbsp;de&nbsp;futbol&nbsp;de&nbsp;11”&nbsp;de&nbsp;vinil.<span
     style="color: #800000;">&lt;/descripción&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;precio&gt;</span>300.0<span
     style="color: #800000;">&lt;/precio&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/getResultadoDetalleDeProducto&gt;</span>
  </div>
  <div>
   &nbsp;&nbsp;&nbsp;&nbsp;&lt;/&nbsp;getRespuestaDetalleDeProducto&nbsp;&gt;
  </div>
  <div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/soap:Body&gt;</span>
  </div>
  <div><span style="color: #800000;">&lt;/soap:Envelope&gt;</span></div>
 </div>
</muestra-codigo>
<div class="lectura">
 <p>
  <small>
   Fuente:
   <a href="https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol"
     target="_blank"
     rel="nooper">https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >O. Introducción a WSDL</h1>
      </section>
     <section >
         <h1 >P. <dfn>WSDL</dfn></h1><div class="lectura">
 <ul>
  <li>
   <p>
    Siglas de
    <strong>Web Services Description Language</strong>,
    es un formato de XML que se utiliza para describir servicios Web.
   </p>
  </li>
  <li>
   <p>
    Describe los requisitos del protocolo y los formatos de los mensajes
    necesarios para interactuar con los servicios listados en su catálogo.
   </p>
  </li>
  <li>
   <p>
    Las operaciones y mensajes que soporta se describen en abstracto y se ligan
    después al protocolo concreto de red y al formato del mensaje.
   </p>
  </li>
  <li>
   <p>Se usa a menudo en combinación con SOAP y XML Schema.</p>
  </li>
  <li>
   <p>
    Los tipos de datos especiales se incluyen en el archivo WSDL en forma de XML
    Schema.
   </p>
  </li>
  <li>
   <p>
    El cliente puede usar SOAP para hacer la llamada a una de las funciones
    listadas en el WSDL.
   </p>
  </li>
 </ul>
 <p>
  <small>
   Fuente:
   <a href="https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol"
     target="_blank"
     rel="nooper">https://es.wikipedia.org/wiki/Simple_Object_Access_Protocol</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >Q. Elementos de WSDL</h1><div class="lectura">
 <dl>
  <dt><dfn>types</dfn></dt>
  <dd>
   <p>
    Define los tipos de datos usados en los mensajes. Se utilizan los tipos
    definidos en la especificación XML Schema.
   </p>
  </dd>
  <dt><dfn>message</dfn></dt>
  <dd>
   <p>
    Define los elementos de mensaje. Cada mensaje puede consistir en una serie
    de partes lógicas. Las partes pueden ser de cualquiera de los tipos
    definidos en el elemento message.
   </p>
  </dd>
  <dt><dfn>portType</dfn></dt>
  <dd>
   <p>
    Define las operaciones permitidas y los mensajes intercambiados en el
    Servicio.
   </p>
  </dd>
  <dt><dfn>binding</dfn></dt>
  <dd>
   <p>Especifica los protocolos de comunicación usados.</p>
  </dd>
  <dt><dfn>service</dfn></dt>
  <dd>
   <p>
    Conjunto de puertos y dirección de los mismos. Esta parte final hace
    referencia a lo aportado por las secciones anteriores.
   </p>
  </dd>
 </dl>
 <p>
  Con estos elementos no sabemos qué hace un servicio pero sí disponemos de la
  información necesaria para interactuar con él (funciones, mensajes de
  entrada/salida, protocolos, etcétera).
 </p>
</div>
      </section>
     <section >
         <h1 >R. Ejemplo de WSDL</h1><muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;definitions</span>&nbsp;<span
     style="color: #ff0000;">name</span>=“PrecioProd“</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">targetNamespace</span>=<span
     style="color: #0000ff;">"http://example.com/stockquote.wsdl"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">xmlns:tns</span>=<span
     style="color: #0000ff;">"http://example.com/stockquote.wsdl"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">xmlns:xsd1</span>=<span
     style="color: #0000ff;">"http://example.com/stockquote.xsd"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">xmlns:soap</span>=<span
     style="color: #0000ff;">"http://schemas.xmlsoap.org/wsdl/soap/"</span>
  </div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">xmlns</span>=<span
     style="color: #0000ff;">"http://schemas.xmlsoap.org/wsdl/"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span style="color: #800000;">&lt;types&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;schema</span>&nbsp;<span
     style="color: #ff0000;">targetNamespace</span>=<span
     style="color: #0000ff;">"http://example.com/stockquote.xsd"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">xmlns</span>=<span
     style="color: #0000ff;">"http://www.w3.org/2000/10/XMLSchema"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;element</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"SolPrecioProd"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;complexType&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;all&gt;&lt;element</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"productoId"</span>&nbsp;<span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"decimal"</span><span
     style="color: #800000;">/&gt;&lt;/all&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/complexType&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/element&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;element</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"PrecioProd"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;complexType&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;all&gt;&lt;element</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"precio"</span>&nbsp;<span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"float"</span><span
     style="color: #800000;">/&gt;&lt;/all&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/complexType&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/element&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/schema&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/types&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;message</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"InputGetPrecioProd"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;part</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"body"</span>&nbsp;<span
     style="color: #ff0000;">element</span>=<span
     style="color: #0000ff;">"xsd1:SolPrecioProd"</span><span
     style="color: #800000;">/&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/message&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;message</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"OutputGetPrecioProd"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;part</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"body"</span>&nbsp;<span
     style="color: #ff0000;">element</span>=<span
     style="color: #0000ff;">"xsd1:PrecioProd"</span><span
     style="color: #800000;">/&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/message&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;portType</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"PortTypePrecioProd"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;operation</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"GetPrecioProd"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span>&nbsp;<span
     style="color: #ff0000;">message</span>=<span
     style="color: #0000ff;">"tns:InputGetPrecioProd"</span><span
     style="color: #800000;">/&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;output</span>&nbsp;<span
     style="color: #ff0000;">message</span>=<span
     style="color: #0000ff;">"tns:OutputGetPrecioProd"</span><span
     style="color: #800000;">/&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/operation&gt;</span></div>
  <div>&nbsp;&nbsp;<span
    style="color: #800000;">&lt;/portType&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;binding</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"BindPrecioProdSoap"</span>&nbsp;<span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"tns:PortTypePrecioProd"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;soap:binding</span>&nbsp;<span
     style="color: #ff0000;">style</span>=<span
     style="color: #0000ff;">"document"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">transport</span>=<span
     style="color: #0000ff;">"http://schemas.xmlsoap.org/soap/http"</span><span
     style="color: #800000;">/&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;operation</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"GetPrecioProd"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;soap:operation</span>&nbsp;<span
     style="color: #ff0000;">soapAction</span>=<span
     style="color: #0000ff;">"http://example.com/GetPrecioProd"</span><span
     style="color: #800000;">/&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input&gt;&lt;soap:body</span>&nbsp;<span
     style="color: #ff0000;">use</span>=<span
     style="color: #0000ff;">"literal"</span><span
     style="color: #800000;">/&gt;&lt;/input&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;output&gt;&lt;soap:body</span>&nbsp;<span
     style="color: #ff0000;">use</span>=<span
     style="color: #0000ff;">"literal"</span><span
     style="color: #800000;">/&gt;&lt;/output&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/operation&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/binding&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;service</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"ServPrecioProd"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;documentation&gt;</span>Devuelve&nbsp;el&nbsp;precio&nbsp;de&nbsp;un&nbsp;producto.<span
     style="color: #800000;">&lt;/documentation&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;port</span>&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"PuertoPrecioProd"</span>&nbsp;<span
     style="color: #ff0000;">binding</span>=<span
     style="color: #0000ff;">"tns:BindPrecioProdSoap"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;soap:address</span>&nbsp;<span
     style="color: #ff0000;">location</span>=<span
     style="color: #0000ff;">"http://example.com/precioprod"</span><span
     style="color: #800000;">/&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/port&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/service&gt;</span></div>
  <div><span style="color: #800000;">&lt;/definitions&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >S. Introducción a UDDI</h1>
      </section>
     <section >
         <h1 >T. <dfn>UDDI</dfn></h1><div class="lectura">
 <p><strong>Este estándar no se usa.</strong></p>
 <ul>
  <li>
   <p>
    Siglas del catálogo de negocios de Internet denominado
    <strong>Universal Description, Discovery and Integration</strong>.
   </p>
  </li>
  <li>
   <p>El registro en el catálogo se hace en XML.</p>
  </li>
  <li>
   <p>
    Es una iniciativa industrial abierta (sufragada por la OASIS) entroncada en
    el contexto de los servicios Web.
   </p>
  </li>
  <li>
   <p>El registro de un negocio en UDDI tiene tres partes:</p>
   <dl>
    <dt><dfn>Páginas blancas</dfn></dt>
    <dd>
     <p>dirección, contacto y otros identificadores conocidos.</p>
    </dd>
    <dt><dfn>Páginas amarillas</dfn></dt>
    <dd>
     <p>categorización industrial basada en taxonomías.</p>
    </dd>
    <dt><dfn>Páginas verdes</dfn></dt>
    <dd>
     <p>
      información técnica sobre los servicios que aportan las propias empresas.
     </p>
    </dd>
   </dl>
  </li>
  <li>
   <p>
    Es uno de los estándares básicos de los servicios web, cuyo objetivo es ser
    accedido por los mensajes SOAP y dar paso a documentos WSDL, en los que se
    describen los requisitos del protocolo y los formatos del mensaje solicitado
    para interactuar con los servicios Web del catálogo de registros.
   </p>
  </li>
 </ul>
 <p>
  <small>
   Fuente:
   <a href="https://es.wikipedia.org/wiki/UDDI"
     target="_blank" rel="nooper">https://es.wikipedia.org/wiki/UDDI</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >U. Introducción a REST</h1>
      </section>
     <section >
         <h1 >V. <dfn>REST</dfn></h1><div class="lectura">
 <ul>
  <li>
   <p>
    Siglas para
    <strong>Representational State Transfer</strong>
    o
    <em>transferencia de estado representacional</em>.
   </p>
  </li>
  <li>
   <p>
    Estilo de arquitectura de software para sistemas distribuidos en la World
    Wide Web.
   </p>
  </li>
  <li>
   <p>
    Es cualquier interfaz entre sistemas que use HTTP para obtener datos o
    realizar operaciones sobre esos datos usando formatos para intercambio de
    datos como XML, YAML o JSON.
   </p>
  </li>
 </ul>
 <p>
  <small>
   Fuentes:
   <a href="https://es.wikipedia.org/wiki/Transferencia_de_Estado_Representacional"
     target="_blank"
     rel="nooper">https://es.wikipedia.org/wiki/Transferencia_de_Estado_Representacional</a>
   y
   <a href="https://bbvaopen4u.com/es/actualidad/api-rest-que-es-y-cuales-son-sus-ventajas-en-el-desarrollo-de-proyectos"
     target="_blank"
     rel="nooper">https://bbvaopen4u.com/es/actualidad/api-rest-que-es-y-cuales-son-sus-ventajas-en-el-desarrollo-de-proyectos</a>
  </small>
 </p>
</div>
      </section>
     <section >
         <h1 >W. Estructura de REST</h1><div class="lectura">
 <ul>
  <li>
   <p>
    Toda página web tiene una URL asociada, pero también puede representar una
    entidad, que puede ser una colección de datos, por ejemplo,
    <q>https://mirest.com/contactos</q>, o un objeto, por ejemplo,
    <q>https://mirest.com/contactos/69</q>.
   </p>
  </li>
  <li>
   <p>
    Para interactuar con la URL hay que enviarle una solicitud, que consta de:
   </p>
   <dl>
    <dt><dfn>URL</dfn>
    <dd>
     <p>
      Con parámetros opcionales que consisten en nombre y
      valor asociado, separados por & (como cuando buscas en Google).
     </p>
    </dd>
    <dt><dfn>conjunto de encabezados</dfn></dt>
    <dd>
     <p>
      Proporcionan información sobre la computadora y el programa que envían los
      datos, así como la informacion que esperan recibir.
     </p>
    </dd>
    <dt><dfn>cuerpo</dfn></dt>
    <dt><dfn>carga útil</dfn></dt>
    <dd>
     <p>
      Contiene datos adicionales, también llamados
     </p>
    </dd>
    <dfn>Método de envío</dfn>
    <dd>
     <p>
      Indica la acción que debe realizarse sobre la URL, usando los datos
      adicionales.
     </p>
    </dd>
   </dl>
  </li>
  <li>
   <p>Los métodos de envío son:</p>
   <dl>
    <dt><dfn>TRACE</dfn></dt>
    <dd>
     <p>
      Realiza una prueba de enviar un mensaje mensaje al servidor de la URL
      y recibirlo de regreso sin modificaciones.
     </p>
    </dd>
    <dt><dfn>OPTIONS</dfn></dt>
    <dd>
     <p>
      Devuelve una descripción de las opciones de comunicación de laURL.
     </p>
    </dd>
    <dt><dfn>CONNECT</dfn></dt>
    <dd>
     <p>
      Establece un tunel bidireccional hacia el servidor.
     </p>
    </dd>
    <dt><dfn>GET</dfn></dt>
    <dd>
     <p>
      Devuelve los datos de la colección u objeto asociados con la URL, sin
      modificar el estado del servidor.
     </p>
     <p>
      Puede tomarse en cuenta los parámetros que lleva la URL, como si
      fueran las condiciones de una cláusula WHERE de SQL.
     </p>
    </dd>
    <dt><dfn>HEAD</dfn></dt>
    <dd>
     <p>
      Devuelve una respuesta como la de GET, pero sin el cuerpo de la
      respuesta.
     </p>
    </dd>
    <dt><dfn>POST</dfn></dt>
    <dd>
     <p>Envía una entidad a una URL.</p>
     <p>
      Si la URL representa una lista que no contiene esa entidad, la agrega.
     </p>
     <p>
      Los datos de la entidad se indican en el cuerpo de la solicitud.
     </p>
     <p>
      A menudo causa un cambio o efectos secundarios en el servidor.
     </p>
    </dd>
    <dt><dfn>PUT</dfn></dt>
    <dd>
     <p>
      Reemplaza toda la entidad indicada en la URL con el contenido del
      cuerpo de la solicitud.
     </p>
    </dd>
    <dt><dfn>PATCH</dfn></dt>
    <dd>
     <p>
      Modifica parcialmente la entidad de la URL, modificando solamente los
      datos enviados en el cuerpo de la solicitud.
     </p>
    </dd>
    <dt><dfn>DELETE</dfn></dt>
    <dd>
     <p>Eliminar la entidad de la URL</p>
    </dd>
   </dl>
  </li>
  <li>
   <p>
    Los datos de la solicitud que van dentro de la información adicional,
    pueden enviarse en los siguientes formatos:
   </p>
   <ul>
    <li>application/x-www-form-urlencoded</li>
    <li>multipart/form-data</li>
    <li>text/plain</li>
    <li>XML</li>
    <li>JSON</li>
    <li>YAML</li>
   </ul>
  </li>
 </ul>
 <p>
  <small>
   Fuente:
   <a href="https://developer.mozilla.org/es/docs/Web/HTTP/Methods" rel="nooper"
     target="_blank">https://developer.mozilla.org/es/docs/Web/HTTP/Methods</a>
  </small>
 </p>
</div>
      </section>
      </section>
     <section >
         <h1 >4. Ejemplo de geolocalización</h1><iframe src="/src/m04geolocalizacion/maps.html" height="550"></iframe>
<p class="noPrint">
 <a href="/src/m04geolocalizacion/maps.html" target="_blank"
   rel="nooper">Ábrelo en otra pestaña.</a>
</p>
<muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #ff0000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span style="color: #800000;">&lt;html</span> <span
     style="color: #ff0000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Maps<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Maps<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;iframe</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">src</span>=<span
     style="color: #0000ff;">"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7526.355841517565!2d-98.98640932835467!3d19.40471709504528!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d1e319b9413c4f%3A0x1d391ad53ddf65d1!2sUniversidad%20Tecnol%C3%B3gica%20de%20Nezahualc%C3%B3yotl!5e0!3m2!1ses-419!2smx!4v1574352931317!5m2!1ses-419!2smx"</span>
  </div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">width</span>=<span
     style="color: #0000ff;">"600"</span> <span
     style="color: #ff0000;">height</span>=<span
     style="color: #0000ff;">"450"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">frameborder</span>=<span
     style="color: #0000ff;">"0"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">style</span>=<span
     style="color: #0000ff;">"</span><span
     style="color: #0000ff;">border:0;</span><span
     style="color: #0000ff;">"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">allowfullscreen</span>=<span
     style="color: #0000ff;">""</span><span
     style="color: #800000;">&gt;&lt;/iframe&gt;</span></div>
  <div><span style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. Ejemplo de redes sociales</h1><div class="lectura">
 <p>
  Generado en
  <a href="https://developers.facebook.com/docs/plugins/page-plugin/"
    target="_blank">https://developers.facebook.com/docs/plugins/page-plugin/</a>
 </p>
</div>
<iframe src="/src/m05sociales/face.html" height="600"></iframe>
<p class="noPrint">
 <a href="/src/m05sociales/face.html" target="_blank" rel="nooper">Ábrelo en
  otra pestaña.</a>
</p>
<muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #ff0000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span style="color: #800000;">&lt;html</span> <span
     style="color: #ff0000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Face<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Face<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;iframe</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">src</span>=<span
     style="color: #0000ff;">"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Ffacebook&amp;tabs=timeline&amp;width=340&amp;height=500&amp;small_header=false&amp;adapt_container_width=true&amp;hide_cover=false&amp;show_facepile=true&amp;appId=437040163649483"</span>
  </div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">width</span>=<span
     style="color: #0000ff;">"340"</span> <span
     style="color: #ff0000;">height</span>=<span
     style="color: #0000ff;">"500"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">style</span>=<span
     style="color: #0000ff;">"</span><span
     style="color: #0000ff;">border:none;overflow:hidden</span><span
     style="color: #0000ff;">"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">scrolling</span>=<span
     style="color: #0000ff;">"no"</span> <span
     style="color: #ff0000;">frameborder</span>=<span
     style="color: #0000ff;">"0"</span></div>
  <div>&nbsp; &nbsp;<span
     style="color: #ff0000;">allowTransparency</span>=<span
     style="color: #0000ff;">"true"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">allow</span>=<span
     style="color: #0000ff;">"encrypted-media"</span><span
     style="color: #800000;">&gt;&lt;/iframe&gt;</span></div>
  <div><span style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section>
         <h1 class="leccion">6. Características de un e-commerce</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <p>
  En esta lección se presentan las características principales de un e-commerce.
 </p>
 <p>
  <small>
   Fuente:
   <a href="https://www.actualidadecommerce.com/las-5-principales-caracteristicas-de-un-sitio-ecommerce-bien-disenado/"
     target="_blank"
     rel="nooper">https://www.actualidadecommerce.com/las-5-principales-caracteristicas-de-un-sitio-ecommerce-bien-disenado/</a>
  </small>
 </p>
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m06ecommerce/mAfacilidad.html">Facilidad de navegación</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m06ecommerce/mBnoDestaca.html">El diseño no destaca por encima de los productos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m06ecommerce/mCfacil.html">Fácil proceso de compra</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m06ecommerce/mDpopulares.html">Exhibir los productos más populares</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m06ecommerce/mEdetalle.html">Fotos de productos a detalle</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Facilidad de navegación</h1><div class="lectura">
 <ul>
  <li>
   <p>
    Cuando se trata de vender productos, el primer requisito a cumplir para una
    tienda e-commerce es que el comprador tiene que ser capaz de encontrar
    rápida y de forma especifica, lo que el o ella están buscando. Una
    navegación eficaz es fundamental para los sitios e-commerce ya que los
    visitantes que no pueden encontrar lo que buscan se traducen en ventas
    perdidas.
   </p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >B. El diseño no destaca por encima de los productos</h1><div class="lectura">
 <ul>
  <li>
   <p>
    En un negocio e-commerce, el foco de atención siempre debe estar en los
    productos que están disponibles para su compra. Un diseño que es
    extravagante sin sentido, generalmente hace más daño que beneficio, puesto
    que al final, el diseño no es lo que se vende, sino los productos.
   </p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >C. Fácil proceso de compra</h1><div class="lectura">
 <ul>
  <li>
   <p>
    La experiencia del usuario en sitios de comercio electrónico es fundamental
    para el éxito. Es decir, si el proceso de compra implica demasiados pasos o
    incluso es confuso, los compradores simplemente terminarán abandonando su
    carrito de compras. Por ello, el checkout siempre debe implicar la mínima
    cantidad de pasos y debe ser lo más fácil e intuitivo para los compradores.
   </p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >D. Exhibir los productos más populares</h1><div class="lectura">
 <ul>
  <li>
   <p>
    Muchos negocios e-commerce se esfuerzan por mostrar los elementos que pueden
    ser de interés para los potenciales compradores. Un gran número de sitios de
    comercio electrónico están utilizando espacios muy amplios en la página de
    inicio para promover las ventas actuales, el lanzamiento de un nuevo
    producto o lo que sea que genere interés.
   </p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >E. Fotos de productos a detalle</h1><div class="lectura">
 <ul>
  <li>
   <p>
    La venta de productos en Internet es diferente de vender en una tienda
    física porque el comprador no puede tocar o ver en persona el producto antes
    de tomar la decisión de compra. Al ofrecer fotos de los productos que
    resaltan a detalle las características principales del mismo, se consigue
    superar ese inconveniente y se hace más fácil para el comprador decidir si
    conviene o no comprar el producto.
   </p>
  </li>
 </ul>
</div>
      </section>
      </section>
     <section>
         <h1 class="leccion">7. Servicio que falla</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m07srverror/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mBejecuta.html">La función <code>ejecuta</code>.</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mCmuestraerror.html">La función <code>muestraError</code>.</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mDservicio.html">La clase <code>Servicio</code>.</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mEdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mFfunError/">Funcionamiento del ejemplo con errores</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mGinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mHarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mIindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mJSrvErrorPhp.html">srv / SrvError.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mKjsconfigJson.html">jsconfig.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mLejecutaJs.html">lib / js / ejecuta.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mMmuestraErrorJs.html">lib / js / muestraError.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mNautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mOpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mPservicioPhp.html">lib / php / servicio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  A partir de esta lección se estandariza la forma de procesar servicios.
 </p>
 <p>
  Este ejemplo muestra como procesar un servicio que detecta errores al
  ejecutarse.
 </p>
 <p>
  Puedes probar el ejemplo en
  <a rel="noopener" href="https://srverror.gilbertopachec5.repl.co/"
    target="_blank">https://srverror.gilbertopachec5.repl.co/</a>.
 </p>
</div>
      </section>
     <section >
         <h1 >B. La función <code>ejecuta</code>.</h1><div class="lectura">
 <p>
  El código que se muestra en el ejemplo de servicio se repite en muchos
  ejemplos posteriores; pero además debe realizar algunas cuastiones
  adicionales. Para no repetir tanto, se introduce la función
  <code>ejecuta</code>, que realiza todo lo necesario para controlar la conxión
  desde el navegador web hacia el servidor.
 </p>
 <p>
  Para usarla, debes importar el archivo donde está definida esta función y
  luego invocarla usando el resultado de la invocacíon de un fetch.
 </p>
 <p>
  A lo largo de esta lección y las siguientes, se profundiza en el uso y
  estructura de esta función.
 </p>
</div>
      </section>
     <section >
         <h1 >C. La función <code>muestraError</code>.</h1><div class="lectura">
 <p>
  También manejamos los errores de una manera uniforme con la función
  <code>muestraError</code>, la cual muestra la excepción correspondiente en la
  consola del navegador. El mensaje del error se despliega en un cuadro de
  alert.
 </p>
 <p>
  Para usarla, debes importar el archivo donde está definida esta función y
  colocarla dentro de un catch. Se le pasa como parámetro la excepción atrapada
  por el catch.
 </p>
 <p>
  A lo largo de esta lección y las siguientes, se profundiza en el uso y
  estructura de esta función.
 </p>
</div>
      </section>
     <section >
         <h1 >D. La clase <code>Servicio</code>.</h1><div class="lectura">
 <p>
  Para que el desarrollo de servicios del lado del servidor se realice de
  manera sencilla, uniforme y no repetir código, se introduce la clase
  <code>Servicio</code>, escrita en PHP.
 </p>
 <p>
  Para usarla, debes seguir los siguientes pasos, que se explican y ejemplifican
  detalladamente más adelante.
 </p>
 <ol>
  <li>
   <p>
    Importar el archivo donde está definida esta clase, usando autoload y
    la instrucción <code>use</code>.
   </p>
  </li>
  <li>
   <p>
    Se define una subclase que extienda la clase <code>Servicio</code> y defina
    el método <code>implementacion</code>, en el cual se coloca todo el código
    que debe realizar el servicio.
   </p>
  </li>
  <li>
   <p>
    Se crea un instancia de la clase que se está definiendo para el servicio.
   </p>
  </li>
  <li>
   <p>
    Al objeto resultante del paso anteriorm se le invoca el método
    <code>ejecuta</code>.
   </p>
  </li>
 </ol>
 <p>
  A lo largo de esta lección y las siguientes, se profundiza en el uso y
  estructura de esta clase.
 </p>
</div>
      </section>
     <section >
         <h1 >E. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m07srverror/srverrordistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section>
         <h1 >F. Funcionamiento del ejemplo con errores</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m07srverror/mFfunError/m1cliente.html">Iniciamos al ejecutar código en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mFfunError/m2servidor.html">Se invoca el servicio en el servidor</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mFfunError/m3procesa.html">El servicio procesa la request, lanza una excepción y genera la response</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mFfunError/m4devuelve.html">El servicio devuelve la response, que es recibida en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mFfunError/m5catch.html">Como hay error, lanza una excepción que atrapa el catch</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mFfunError/m6muestraerror.html">Muestra la excepción en la consola y el mensaje de la excepción en un alert</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m07srverror/mFfunError/m7termina.html">Al cerrar el alert, termina el evento</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section class="pruebaDeEscritorio">
         <h1 >1. Iniciamos al ejecutar código en el cliente</h1><section>
 <h1>index.html</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div>&nbsp;<span style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</div>
   <div>&nbsp;&nbsp;<span style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvError.php"</span>))</div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">"Ejecutado."</span>)</div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >2. Se invoca el servicio en el servidor</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div><span class="resaltado">&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</span></div>
   <div><span class="resaltado">&nbsp;&nbsp;<span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvError.php"</span>))</span></div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">"Ejecutado."</span>)</div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Ejecuta fetch y envía request (solicitud).</p>
</section>
<section style="vertical-align: middle;">
 <h1>Request</h1>
 <dl class="resaltado">
  <dt>URL</dt>
  <dd>
   <a rel="noopener"
     href="https://phpservs.gilbertopacheco.repl.co/srv/SrvError.php"
     target="_blank">SrvError.php</a>
  </dd>
  <dt>Method</dt>
  <dd>GET</dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>SrvError.php</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Exception</span>(<span
      style="color: #a31515;">"Ouch"</span>);</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despierta y recibe request.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >3. El servicio procesa la request, lanza una excepción y genera la response</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div><span class="resaltado3">&nbsp;<span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">ejecuta</span>(</span></div>
   <div><span class="resaltado3">&nbsp;&nbsp;<span
       style="color: #795e26;">fetch</span>(<span
       style="color: #a31515;">"srv/SrvError.php"</span>))</span></div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">"Ejecutado."</span>)</div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvError.php</h1>
 <muestra-codigo>
  <div>
   <div><span class="resaltado"><span
      style="color: #af00db;">throw</span> <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Exception</span>(<span
      style="color: #a31515;">"Ouch"</span>);</span></div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">
  Procesa la request, lanza una excepción,
  <br>genera la response y aborta el proceso
  <br>en el servidor.
 </p>
</section>
<section style="vertical-align: middle;">
 <h1>Response</h1>
 <dl class="resaltado">
  <dt>code</dt>
  <dd>500</dd>
  <dt>contenido</dt>
  <dd>Ouch</dd>
 </dl>
 <p class="resaltado2">
  El code 500
  <br>indica que
  <br>algo falló en
  <br>el servidor
  <br>y terminó con
  <br>error.
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >4. El servicio devuelve la response, que es recibida en el cliente</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div><span class="resaltado">&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</span></div>
   <div><span class="resaltado">&nbsp;&nbsp;<span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvError.php"</span>))</span></div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">"Ejecutado."</span>)</div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despiesta y recibe response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>Response</h1>
 <dl class="resaltado">
  <dt>code</dt>
  <dd>500</dd>
  <dt>contenido</dt>
  <dd>Ouch</dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>SrvError.php</h1>
 <muestra-codigo class="resaltado3">
  <div>
   <div><span style="color: #af00db;">throw</span>
    <span
      style="color: #0000ff;">new</span> <span
      style="color: #267f99;">Exception</span>(<span
      style="color: #a31515;">"Ouch"</span>);
   </div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Devuelve response y se duerme.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >5. Como hay error, lanza una excepción que atrapa el catch</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div>&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</div>
   <div>&nbsp;&nbsp;<span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvError.php"</span>))</div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">"Ejecutado."</span>)</div>
   <div><span class="resaltado">} <span
       style="color: #af00db;">catch</span> (<span
       style="color: #001080;">e</span>) {</span></div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section>
 <h1>Memoria</h1>
 <dl class="resaltado">
  <dt>e</dt>
  <dd>
   <dl>
    <dt>message</dt>
    <dd>"Ouch"</dd>
   </dl>
  </dd>
 </dl>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >6. Muestra la excepción en la consola y el mensaje de la excepción en un alert</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div>&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</div>
   <div>&nbsp;&nbsp;<span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvError.php"</span>))</div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">"Ejecutado."</span>)</div>
   <div>} <span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div><span class="resaltado">&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</span></div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl class="resaltado">
  <dt>e</dt>
  <dd>
   <dl>
    <dt>message</dt>
    <dd>"Ouch"</dd>
   </dl>
  </dd>
 </dl>
</section>
<section>
 <h1>Alert</h1>
 <div class="resaltado" style="border: thin solid; padding: 0 0.5rem;">
  <p>Ouch</p>
  <p style="text-align: end;">
   <button type="button">Aceptar</button>
  </p>
 </div>
</section>
<section>
 <h1>Consola</h1>
 <div class="resaltado" style="padding: 1rem;">
  <pre>Error: Ouch
   at ejecuta (ejecuta.js:19:9)
   at async HTMLButtonElement.error (VM5:64:5)</pre>
 </div>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >7. Al cerrar el alert, termina el evento</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div>&nbsp;<span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</div>
   <div>&nbsp;&nbsp;<span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvError.php"</span>))</div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">"Ejecutado."</span>)</div>
   <div>} <span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section>
 <h1>Consola</h1>
 <div style="padding: 1rem;">
  <pre>Error: Ouch
   at ejecuta (ejecuta.js:19:9)
   at async HTMLButtonElement.error (VM5:64:5)</pre>
 </div>
</section>
      </section>
      </section>
     <section >
         <h1 >G. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m07srverror/srverror.zip" download>Descarga el ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URL
    <a href="https://replit.com/@GilbertoPachec5/srverror?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/srverror?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >H. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>js</p>
     <ul>
      <li>
       <p><a href="mLejecutaJs.html">ejecuta.js</a></p>
      </li>
      <li>
       <p><a href="mMmuestraErrorJs.html">muestraError.js</a></p>
      </li>
     </ul>
    </li>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p><a href="mNautoloadPhp.html">autoload.php</a></p>
      </li>
      <li>
       <p><a href="mOpathPhp.html">path.php</a></p>
      </li>
      <li>
       <p><a href="mPservicioPhp.html">servicio.php</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>srv</p>
   <ul>
    <li>
     <p><a href="mJSrvErrorPhp.html">SrvError.php</a></p>
    </li>
   </ul>
  </li>
  <li>
   <p><a href="mIindexHtml.html">index.html</a></p>
  </li>
  <li>
   <p><a href="mKjsconfigJson.html">jsconfig.json</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >I. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Servicio que falla<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Servicio que falla<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"btnError"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;Error</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span> <span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">import</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;ejecuta</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">from</span> <span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">import</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;muestraError</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">from</span> <span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div><br>
  <div>&nbsp;&nbsp;btnError.addEventListener(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"click"</span>, error)</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> error()&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> ejecuta(</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch(<span
     style="color: #a31515;">"srv/SrvError.php"</span>))</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;alert(<span
     style="color: #a31515;">"Ejecutado."</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (e)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;muestraError(e)</div>
  <div>&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >J. srv / SrvError.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> .</div>
  <div>&nbsp;<span
     style="color: #a31515;">"/../lib/php/autoload.php"</span>;</div><br>
  <div><span
     style="color: #0000ff;">use</span> \lib\php\Servicio;</div><br>
  <div><span
     style="color: #0000ff;">class</span> SrvError <span
     style="color: #0000ff;">extends</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Exception(<span
     style="color: #a31515;">"Ouch"</span>);</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
  <div>$servicio = <span
     style="color: #0000ff;">new</span> SrvError();</div>
  <div>$servicio-&gt;ejecuta();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >K. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aquí su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >L. lib / js / ejecuta.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Espera a que la promesa de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fetch termine. Si hay error</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;lanza una excepción. Si no hay</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;error, interpreta la respuesta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;del servidor como JSON y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la convierte en una literal de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;objeto. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta(fetch)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> resp = <span
     style="color: #0000ff;">await</span> fetch</div>
  <div>&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> <span
     style="color: #0000ff;">await</span> resp.json()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span> <span
     style="color: #0000ff;">if</span> (resp.status === <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(resp.statusText)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >M. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >N. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >O. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >P. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 class="leccion">8. Servicio que devuelve un resultado JSON</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m08srvresultado/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mBdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mCfunRecibe/">Funcionamiento del servicio que devuelve JSON</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mDinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mEarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mFindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mGSrvResultadoPhp.html">srv / SrvResultado.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mHjsconfigJson.html">jsconfig.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mIejecutaJs.html">lib / js / ejecuta.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mJmuestraErrorJs.html">lib / js / muestraError.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mKautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mLpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mMservicioPhp.html">lib / php / servicio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  Este ejemplo recibe los datos JSON generados por un servicio.
 </p>
 <p>
  Puedes probar el ejemplo en
  <a rel="noopener" href="https://srvresultado.gilbertopachec5.repl.co/"
    target="_blank">https://srvresultado.gilbertopachec5.repl.co/</a>.
 </p>
</div>
      </section>
     <section >
         <h1 >B. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m08srvresultado/srvresultadodistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section>
         <h1 >C. Funcionamiento del servicio que devuelve JSON</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m08srvresultado/mCfunRecibe/m1cliente.html">Iniciamos al ejecutar código en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mCfunRecibe/m2servidor.html">Se invoca el servicio en el servidor</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mCfunRecibe/m3procesa.html">El servicio procesa la request y genera la response</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mCfunRecibe/m4devuelve.html">El servicio devuelve la response, que es recibida en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mCfunRecibe/m5muestra.html">Muestra el objeto recibido en un alert</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m08srvresultado/mCfunRecibe/m6termina.html">Al cerrar el alert, termina el evento</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section class="pruebaDeEscritorio">
         <h1 >1. Iniciamos al ejecutar código en el cliente</h1><section>
 <h1>index.html</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div>&nbsp;<span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">json</span> = <span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</div>
   <div>&nbsp;&nbsp;<span style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvResultado.php"</span>))</div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">`Nombre: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">nombre</span><span
      style="color: #0000ff;">}</span></div>
   <div><span style="color: #a31515;">Mensaje: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">mensaje</span><span
      style="color: #0000ff;">}</span><span
      style="color: #a31515;">`</span>)</div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >2. Se invoca el servicio en el servidor</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div><span class="resaltado">&nbsp;<span
       style="color: #0000ff;">const</span> <span
       style="color: #0070c1;">json</span> = <span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">ejecuta</span>(</span></div>
   <div><span class="resaltado">&nbsp;&nbsp;<span
       style="color: #795e26;">fetch</span>(<span
       style="color: #a31515;">"srv/SrvResultado.php"</span>))</span></div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">`Nombre: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">nombre</span><span
      style="color: #0000ff;">}</span></div>
   <div><span style="color: #a31515;">Mensaje: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">mensaje</span><span
      style="color: #0000ff;">}</span><span
      style="color: #a31515;">`</span>)</div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Ejecuta fetch y envía request (solicitud).</p>
</section>
<section style="vertical-align: middle;">
 <h1>Request</h1>
 <dl class="resaltado">
  <dt>URL</dt>
  <dd>
   <a rel="noopener"
     href="https://phpservs.gilbertopacheco.repl.co/srv/SrvResultado.php"
     target="_blank">SrvResultado.php</a>
  </dd>
  <dt>Method</dt>
  <dd>GET</dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>SrvResultado.php</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span style="color: #af00db;">return</span> [</div>
   <div>&nbsp;<span style="color: #a31515;">"nombre"</span> =&gt; <span
      style="color: #a31515;">"pp"</span>,</div>
   <div>&nbsp;<span style="color: #a31515;">"mensaje"</span> =&gt; <span
      style="color: #a31515;">"Hola."</span></div>
   <div>];</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despierta y recibe request.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >3. El servicio procesa la request y genera la response</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div><span class="resaltado3">&nbsp;<span
       style="color: #0000ff;">const</span> <span
       style="color: #0070c1;">json</span> = <span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">ejecuta</span>(</span></div>
   <div><span class="resaltado3">&nbsp;&nbsp;<span
       style="color: #795e26;">fetch</span>(<span
       style="color: #a31515;">"srv/SrvResultado.php"</span>))</span></div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">`Nombre: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">nombre</span><span
      style="color: #0000ff;">}</span></div>
   <div><span style="color: #a31515;">Mensaje: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">mensaje</span><span
      style="color: #0000ff;">}</span><span
      style="color: #a31515;">`</span>)</div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvResultado.php</h1>
 <muestra-codigo>
  <div>
   <div><span class="resaltado"><span
       style="color: #af00db;">return</span> [</span></div>
   <div><span class="resaltado">&nbsp;<span
       style="color: #a31515;">"nombre"</span> =&gt; <span
       style="color: #a31515;">"pp"</span>,</span></div>
   <div><span class="resaltado">&nbsp;<span
       style="color: #a31515;">"mensaje"</span> =&gt; <span
       style="color: #a31515;">"Hola."</span></span></div>
   <div><span class="resaltado">];</span></div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Procesa la request y genera response (respuesta).</p>
</section>
<section style="vertical-align: middle;">
 <h1>Response</h1>
 <dl class="resaltado">
  <dt>code</dt>
  <dd>200</dd>
  <dt>contenido</dt>
  <dd>{"nombre":"pp","mensaje":"Hola."}</dd>
 </dl>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >4. El servicio devuelve la response, que es recibida en el cliente</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div><span class="resaltado">&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">json</span> = <span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</span></div>
   <div><span class="resaltado">&nbsp;&nbsp;<span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvResultado.php"</span>))</span></div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">`Nombre: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">nombre</span><span
      style="color: #0000ff;">}</span></div>
   <div><span style="color: #a31515;">Mensaje: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">mensaje</span><span
      style="color: #0000ff;">}</span><span
      style="color: #a31515;">`</span>)</div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despiesta y recibe response.</p>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Response</h1>
  <dl class="resaltado">
   <dt>code</dt>
   <dd>200</dd>
   <dt>contenido</dt>
   <dd>{"nombre":"pp","mensaje":"Hola."}</dd>
  </dl>
 </section>
 <section style="display: block;">
  <h1>Memoria</h1>
  <dl class="resaltado">
   <dt>json</dt>
   <dd>
    <dl>
     <dt>nombre</dt>
     <dd>"pp"</dd>
     <dt>mensaje</dt>
     <dd>"Hola."</dd>
    </dl>
   </dd>
  </dl>
 </section>
</section>
<section style="vertical-align: middle;">
 <h1>SrvResultado.php</h1>
 <muestra-codigo>
  <div>
   <div><span class="resaltado3"><span
      style="color: #af00db;">return</span> [</span></div>
   <div><span class="resaltado3">&nbsp;<span
      style="color: #a31515;">"nombre"</span> =&gt; <span
      style="color: #a31515;">"pp"</span>,</span></div>
   <div><span class="resaltado3">&nbsp;<span
      style="color: #a31515;">"mensaje"</span> =&gt; <span
      style="color: #a31515;">"Hola."</span></span></div>
   <div><span class="resaltado3">];</span></div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Devuelve response y se duerme.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >5. Muestra el objeto recibido en un alert</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">json</span> = <span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</div>
   <div>&nbsp;&nbsp;<span
      style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvResultado.php"</span>))</div>
   <div><span class="resaltado">&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">`Nombre: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">nombre</span><span
      style="color: #0000ff;">}</span></span></div>
   <div><span class="resaltado"><span
      style="color: #a31515;">Mensaje: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">mensaje</span><span
      style="color: #0000ff;">}</span><span
      style="color: #a31515;">`</span>)</span></div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl>
  <dt>json</dt>
  <dd>
   <dl>
    <dt>nombre</dt>
    <dd>"pp"</dd>
    <dt>mensaje</dt>
    <dd>"Hola."</dd>
   </dl>
  </dd>
 </dl>
</section>
<section>
 <h1>Alert</h1>
 <div class="resaltado" style="border: thin solid; padding: 0 0.5rem;">
  <p>Nombre: pp<br>Mensaje: Hola.</p>
  <p style="text-align: end;">
   <button type="button">Aceptar</button>
  </p>
 </div>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >6. Al cerrar el alert, termina el evento</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span style="color: #af00db;">try</span> {</div>
   <div>&nbsp;<span style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">json</span> = <span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">ejecuta</span>(</div>
   <div>&nbsp;&nbsp;<span style="color: #795e26;">fetch</span>(<span
      style="color: #a31515;">"srv/SrvResultado.php"</span>))</div>
   <div>&nbsp;<span style="color: #795e26;">alert</span>(<span
      style="color: #a31515;">`Nombre: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">nombre</span><span
      style="color: #0000ff;">}</span></div>
   <div><span style="color: #a31515;">Mensaje: </span><span
      style="color: #0000ff;">${</span><span
      style="color: #0070c1;">json</span>.<span
      style="color: #001080;">mensaje</span><span
      style="color: #0000ff;">}</span><span
      style="color: #a31515;">`</span>)</div>
   <div>} <span style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>) {</div>
   <div>&nbsp;<span style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
      </section>
      </section>
     <section >
         <h1 >D. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m08srvresultado/srvresultado.zip" download>Descarga el
     ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URL
    <a href="https://replit.com/@GilbertoPachec5/srvresultado?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/srvresultado?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >E. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>js</p>
     <ul>
      <li>
       <p><a href="mIejecutaJs.html">ejecuta.js</a></p>
      </li>
      <li>
       <p><a href="mJmuestraErrorJs.html">muestraError.js</a></p>
      </li>
     </ul>
    </li>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p><a href="mKautoloadPhp.html">autoload.php</a></p>
      </li>
      <li>
       <p><a href="mLpathPhp.html">path.php</a></p>
      </li>
      <li>
       <p><a href="mMservicioPhp.html">servicio.php</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>srv</p>
   <ul>
    <li>
     <p><a href="mGSrvResultadoPhp.html">SrvResultado.php</a></p>
    </li>
   </ul>
  </li>
  <li>
   <p><a href="mFindexHtml.html">index.html</a></p>
  </li>
  <li>
   <p><a href="mHjsconfigJson.html">jsconfig.json</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >F. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span></div>
  <div>&nbsp;&nbsp;Servicio que devuelve un</div>
  <div>&nbsp;&nbsp;resultado</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span></div>
  <div>&nbsp;&nbsp;Servicio que devuelve un</div>
  <div>&nbsp;&nbsp;resultado</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"btnResultado"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;Resultado</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span> <span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">import</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;ejecuta</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">from</span> <span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">import</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;muestraError</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">from</span> <span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div><br>
  <div>&nbsp;&nbsp;btnResultado.addEventListener(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"click"</span>, resultado)</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> resultado()&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> json = <span
     style="color: #0000ff;">await</span> ejecuta(</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch(<span
     style="color: #a31515;">"srv/SrvResultado.php"</span>))</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;alert(<span
     style="color: #a31515;">`Nombre: </span><span
     style="color: #0000ff;">${</span>json.nombre<span
     style="color: #0000ff;">}</span></div>
  <div><span
     style="color: #a31515;">Mensaje: </span><span
     style="color: #0000ff;">${</span>json.mensaje<span
     style="color: #0000ff;">}</span><span
     style="color: #a31515;">`</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (e)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;muestraError(e)</div>
  <div>&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >G. srv / SrvResultado.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> .</div>
  <div>&nbsp;<span
     style="color: #a31515;">"/../lib/php/autoload.php"</span>;</div><br>
  <div><span
     style="color: #0000ff;">use</span> \lib\php\Servicio;</div><br>
  <div><span
     style="color: #0000ff;">class</span> SrvResultado</div>
  <div><span
     style="color: #0000ff;">extends</span> Servicio</div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"nombre"</span> =&gt; <span
     style="color: #a31515;">"pp"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"mensaje"</span> =&gt; <span
     style="color: #a31515;">"Hola."</span></div>
  <div>&nbsp;&nbsp;];</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
  <div>$servicio = <span
     style="color: #0000ff;">new</span> SrvResultado();</div>
  <div>$servicio-&gt;ejecuta();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >H. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aquí su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >I. lib / js / ejecuta.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Espera a que la promesa de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fetch termine. Si hay error</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;lanza una excepción. Si no hay</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;error, interpreta la respuesta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;del servidor como JSON y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la convierte en una literal de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;objeto. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta(fetch)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> resp = <span
     style="color: #0000ff;">await</span> fetch</div>
  <div>&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> <span
     style="color: #0000ff;">await</span> resp.json()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span> <span
     style="color: #0000ff;">if</span> (resp.status === <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(resp.statusText)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >J. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >K. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >L. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >M. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 class="leccion">9. Servicio que recibe y devuelve JSON</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m09srvjson/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mBenviaJson.html">La función <code>enviaJson</code></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mCleeJson.html">La función <code>leeJson</code></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mDdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/">Funcionamiento del ejemplo que recibe y devuelve JSON</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mFinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mGarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mHindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mISrvJsonPhp.html">srv / SrvJson.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mJenviaJsonJs.html">lib / js / enviaJson.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mKMethodoHttpJs.html">lib / js / MethodoHttp.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mLleeJsonPhp.html">lib / php / leeJson.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mMjsconfigJson.html">jsconfig.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mNejecutaJs.html">lib / js / ejecuta.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mOmuestraErrorJs.html">lib / js / muestraError.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mPautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mQpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mRservicioPhp.html">lib / php / servicio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  Este ejemplo envía y recibe datos JSON.
 </p>
 <p>
  Muchos servicios de Internet utilizan esta forma de comunicación.
 </p>
 <p>
  Puedes probar el ejemplo en
  <a rel="noopener" href="https://srvjson.gilbertopachec5.repl.co/"
    target="_blank">https://srvjson.gilbertopachec5.repl.co/</a>.
 </p>
</div>
      </section>
     <section >
         <h1 >B. La función <code>enviaJson</code></h1><div class="lectura">
 <p>
  Se introduce la función <code>enviaJson</code>, que convierte un dato en una
  cadena JSON y la manda desde el navegador web hacia el servidor.
 </p>
 <p>
  Para usarla, debes importar el archivo donde está definida esta función y
  luego invocarla pasándole los datos, el método de envío y la URL.
 </p>
 <p>
  A lo largo de esta lección, se profundiza en el uso y estructura de esta
  función.
 </p>
</div>
      </section>
     <section >
         <h1 >C. La función <code>leeJson</code></h1><div class="lectura">
 <p>
  Para que los servicios en el servidor puedan leer un texto en formato
  JSON, se introduce la función <code>leeJson</code>, escrita en PHP.
 </p>
 <p>
  Para usarla, debes importarla con <code>require_once</code>, invocarla y
  recibir la referencia al objeto resultante.
 </p>
 <p>
  A lo largo de esta lección, se profundiza en el uso y estructura de esta
  función.
 </p>
</div>
      </section>
     <section >
         <h1 >D. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m09srvjson/srvjsondistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section>
         <h1 >E. Funcionamiento del ejemplo que recibe y devuelve JSON</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/m1cliente.html">Iniciamos al ejecutar código en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/m2acreaJson.html">Se crea la literal de objeto</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/m3servicio.html">Se invoca el servicio en el servidor</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/m4aleeDatos.html">El servicio lee los datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/m5aprocesaDatos.html">El servicio procesa los datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/m6response.html">El servicio genera la response</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/m7devuelve.html">El servicio devuelve la response, que es recibida en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/m8muestra.html">Muestra el valor recibido recibido en un alert</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m09srvjson/mEfunJson/m9termina.html">Al cerrar el alert, termina el evento</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section class="pruebaDeEscritorio">
         <h1 >1. Iniciamos al ejecutar código en el cliente</h1><section>
 <h1>index.html</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span
      style="color: #0000ff;">const</span> datos =&nbsp;{</div>
   <div>&nbsp;saludo: <span
      style="color: #a31515;">"Hola"</span>,</div>
   <div>&nbsp;nombre: <span
      style="color: #a31515;">"pp"</span></div>
   <div>}</div>
   <div><span
      style="color: #0000ff;">const</span> resultado =</div>
   <div>&nbsp;<span
      style="color: #0000ff;">await</span> enviaJson(datos,</div>
   <div>&nbsp;&nbsp;MetodoHttp.POST,</div>
   <div>&nbsp;&nbsp;<span
      style="color: #a31515;">"srv/SrvJson.php"</span>)</div>
   <div>alert(resultado)</div>
  </div>
 </muestra-codigo>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >2. Se crea la literal de objeto</h1><section>
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span class="resaltado"><span
      style="color: #0000ff;">const</span> datos =&nbsp;{</span></div>
   <div><span class="resaltado">&nbsp;saludo: <span
      style="color: #a31515;">"Hola"</span>,</span></div>
   <div><span class="resaltado">&nbsp;nombre: <span
      style="color: #a31515;">"pp"</span></span></div>
   <div><span class="resaltado">}</span></div>
   <div><span
      style="color: #0000ff;">const</span> resultado =</div>
   <div>&nbsp;<span
      style="color: #0000ff;">await</span> enviaJson(datos,</div>
   <div>&nbsp;&nbsp;MetodoHttp.POST,</div>
   <div>&nbsp;&nbsp;<span
      style="color: #a31515;">"srv/SrvJson.php"</span>)</div>
   <div>alert(resultado)</div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl>
  <dt class="resaltado">datos</dt>
  <dd class="resaltado">
   <dl>
    <dt>saludo</dt>
    <dd>"Hola"</dd>
    <dt>nombre</dt>
    <dd>"pp"</dd>
   </dl>
  </dd>
 </dl>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >3. Se invoca el servicio en el servidor</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> datos =&nbsp;{</div>
   <div>&nbsp;saludo: <span
      style="color: #a31515;">"Hola"</span>,</div>
   <div>&nbsp;nombre: <span
      style="color: #a31515;">"pp"</span></div>
   <div>}</div>
   <div><span
      style="color: #0000ff;">const</span> resultado =</div>
   <div>&nbsp;<span class="resaltado"><span
       style="color: #0000ff;">await</span> enviaJson(datos,</span></div>
   <div>&nbsp;<span class="resaltado">&nbsp;MetodoHttp.POST,</span></div>
   <div>&nbsp;<span class="resaltado">&nbsp;<span
       style="color: #a31515;">"srv/SrvJson.php"</span>)</span></div>
   <div>alert(resultado)</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Ejecuta fetch y envía request (solicitud).</p>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Memoria</h1>
  <dl>
   <dt>datos</dt>
   <dd>
    <dl>
     <dt>saludo</dt>
     <dd>"Hola"</dd>
     <dt>nombre</dt>
     <dd>"pp"</dd>
    </dl>
   </dd>
  </dl>
 </section>
 <section style="display: block;">
  <h1>Request</h1>
  <dl class="resaltado">
   <dt>URL</dt>
   <dd>
    <a rel="noopener"
      href="https://phpservs--gilbertopacheco.repl.co/srv/SrvJson.php"
      target="_blank">SrvJson.php</a>
   </dd>
   <dt>Method</dt>
   <dd>POST</dd>
   <dt>body</dt>
   <dd>
    {"saludo":"Hola","nombre":"pp"}
   </dd>
  </dl>
 </section>
</section>
<section style="vertical-align: middle;">
 <h1>SrvJson.php</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span
      style="color: #001080;">$json</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeJson</span><span
      style="color: #000000;">();</span></div>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #001080;">$json</span><span
      style="color: #000000;">-&gt;</span><span
      style="color: #001080;">saludo</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #001080;">$json</span><span
      style="color: #000000;">-&gt;</span><span
      style="color: #001080;">nombre</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despierta y recibe request.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >4. El servicio lee los datos</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> datos =&nbsp;{</div>
   <div>&nbsp;saludo: <span
      style="color: #a31515;">"Hola"</span>,</div>
   <div>&nbsp;nombre: <span
      style="color: #a31515;">"pp"</span></div>
   <div>}</div>
   <div><span
      style="color: #0000ff;">const</span> resultado =</div>
   <div>&nbsp;<span class="resaltado3"><span
       style="color: #0000ff;">await</span> enviaJson(datos,</span></div>
   <div>&nbsp;<span class="resaltado3">&nbsp;MetodoHttp.POST,</span></div>
   <div>&nbsp;<span class="resaltado3">&nbsp;<span
       style="color: #a31515;">"srv/SrvJson.php"</span>)</span></div>
   <div>alert(resultado)</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl>
  <dt>datos</dt>
  <dd>
   <dl>
    <dt>saludo</dt>
    <dd>"Hola"</dd>
    <dt>nombre</dt>
    <dd>"pp"</dd>
   </dl>
  </dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>SrvJson.php</h1>
 <muestra-codigo>
  <div>
   <div><span class="resaltado"><span
       style="color: #001080;">$json</span><span
       style="color: #000000;"> = </span><span
       style="color: #795e26;">leeJson</span><span
       style="color: #000000;">();</span></span></div>
   <div><span class="resaltado"><span
       style="color: #001080;">$saludo</span><span
       style="color: #000000;"> = </span><span
       style="color: #001080;">$json</span><span
       style="color: #000000;">-&gt;</span><span
       style="color: #001080;">saludo</span><span
       style="color: #000000;">;</span></span></div>
   <div><span class="resaltado"><span
       style="color: #001080;">$nombre</span><span
       style="color: #000000;"> = </span><span
       style="color: #001080;">$json</span><span
       style="color: #000000;">-&gt;</span><span
       style="color: #001080;">nombre</span><span
       style="color: #000000;">;</span></span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Request</h1>
  <dlstyle="padding: 0.5rem;">
   <dt>URL</dt>
   <dd>
    <a rel="noopener"
      href="https://phpservs--gilbertopacheco.repl.co/srv/SrvJson.php"
      target="_blank">SrvJson.php</a>
   </dd>
   <dt>Method</dt>
   <dd>POST</dd>
   <dt class="resaltado">body</dt>
   <dd class="resaltado">
    {"saludo":"Hola","nombre":"pp"}
   </dd>
   </dl>
 </section>
 <section style="display: block;">
  <h1>Memoria (Servidor)</h1>
  <dl class="resaltado">
   <dt>$json</dt>
   <dd>
    <dl>
     <dt>saludo</dt>
     <dd>"Hola"</dd>
     <dt>nombre</dt>
     <dd>"pp"</dd>
    </dl>
   </dd>
   <dt>$saludo</dt>
   <dd>"Hola"</dd>
   <dt>$nombre</dt>
   <dd>"pp"</dd>
  </dl>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >5. El servicio procesa los datos</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> datos =&nbsp;{</div>
   <div>&nbsp;saludo: <span
      style="color: #a31515;">"Hola"</span>,</div>
   <div>&nbsp;nombre: <span
      style="color: #a31515;">"pp"</span></div>
   <div>}</div>
   <div><span
      style="color: #0000ff;">const</span> resultado =</div>
   <div>&nbsp;<span class="resaltado3"><span
       style="color: #0000ff;">await</span> enviaJson(datos,</span></div>
   <div>&nbsp;<span class="resaltado3">&nbsp;MetodoHttp.POST,</span></div>
   <div>&nbsp;<span class="resaltado3">&nbsp;<span
       style="color: #a31515;">"srv/SrvJson.php"</span>)</span></div>
   <div>alert(resultado)</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl>
  <dt>datos</dt>
  <dd>
   <dl>
    <dt>saludo</dt>
    <dd>"Hola"</dd>
    <dt>nombre</dt>
    <dd>"pp"</dd>
   </dl>
  </dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>SrvJson.php</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #001080;">$json</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeJson</span><span
      style="color: #000000;">();</span></div>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #001080;">$json</span><span
      style="color: #000000;">-&gt;</span><span
      style="color: #001080;">saludo</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #001080;">$json</span><span
      style="color: #000000;">-&gt;</span><span
      style="color: #001080;">nombre</span><span
      style="color: #000000;">;</span></div>
   <div><span class="resaltado"><span
       style="color: #001080;">$resultado</span><span
       style="color: #000000;"> =</span></span></div>
   <div><span class="resaltado"><span
       style="color: #000000;">&nbsp;</span><span
       style="color: #a31515;">"{</span><span
       style="color: #001080;">$saludo</span><span
       style="color: #a31515;">}&nbsp;{</span><span
       style="color: #001080;">$nombre</span><span
       style="color: #a31515;">}."</span><span
       style="color: #000000;">;</span></span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria (Servidor)</h1>
 <dl>
  <dt>$json</dt>
  <dd>
   <dl>
    <dt>saludo</dt>
    <dd>"Hola"</dd>
    <dt>nombre</dt>
    <dd>"pp"</dd>
   </dl>
  </dd>
  <dt>$saludo</dt>
  <dd>"Hola"</dd>
  <dt>$nombre</dt>
  <dd>"pp"</dd>
  <dt class="resaltado">$resultado</dt>
  <dd class="resaltado">"Hola pp."</dd>
 </dl>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >6. El servicio genera la response</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> datos =&nbsp;{</div>
   <div>&nbsp;saludo: <span
      style="color: #a31515;">"Hola"</span>,</div>
   <div>&nbsp;nombre: <span
      style="color: #a31515;">"pp"</span></div>
   <div>}</div>
   <div><span
      style="color: #0000ff;">const</span> resultado =</div>
   <div>&nbsp;<span class="resaltado3"><span
       style="color: #0000ff;">await</span> enviaJson(datos,</span></div>
   <div>&nbsp;<span class="resaltado3">&nbsp;MetodoHttp.POST,</span></div>
   <div>&nbsp;<span class="resaltado3">&nbsp;<span
       style="color: #a31515;">"srv/SrvJson.php"</span>)</span></div>
   <div>alert(resultado)</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl>
  <dt>datos</dt>
  <dd>
   <dl>
    <dt>saludo</dt>
    <dd>"Hola"</dd>
    <dt>nombre</dt>
    <dd>"pp"</dd>
   </dl>
  </dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>SrvJson.php</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #001080;">$json</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeJson</span><span
      style="color: #000000;">();</span></div>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #001080;">$json</span><span
      style="color: #000000;">-&gt;</span><span
      style="color: #001080;">saludo</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #001080;">$json</span><span
      style="color: #000000;">-&gt;</span><span
      style="color: #001080;">nombre</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span class="resaltado"><span
       style="color: #af00db;">return</span><span
       style="color: #000000;"> </span><span
       style="color: #001080;">$resultado</span><span
       style="color: #000000;">;</span></span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Memoria (Servidor)</h1>
  <dl>
   <dt>$json</dt>
   <dd>
    <dl>
     <dt>saludo</dt>
     <dd>"Hola"</dd>
     <dt>nombre</dt>
     <dd>"pp"</dd>
    </dl>
   </dd>
   <dt>$saludo</dt>
   <dd>"Hola"</dd>
   <dt>$nombre</dt>
   <dd>"pp"</dd>
   <dt class="resaltado">$resultado</dt>
   <dd class="resaltado">"Hola pp."</dd>
  </dl>
 </section>
 <section style="display: block;">
  <h1>Response</h1>
  <dl class="resaltado">
   <dt>code</dt>
   <dd>200</dd>
   <dt>contenido</dt>
   <dd>"Hola pp."</dd>
  </dl>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >7. El servicio devuelve la response, que es recibida en el cliente</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> datos =&nbsp;{</div>
   <div>&nbsp;saludo: <span
      style="color: #a31515;">"Hola"</span>,</div>
   <div>&nbsp;nombre: <span
      style="color: #a31515;">"pp"</span></div>
   <div>}</div>
   <div><span class="resaltado"><span
       style="color: #0000ff;">const</span> resultado =</span></div>
   <div><span class="resaltado">&nbsp;<span
       style="color: #0000ff;">await</span> enviaJson(datos,</span></div>
   <div><span class="resaltado">&nbsp;&nbsp;MetodoHttp.POST,</span></div>
   <div><span class="resaltado">&nbsp;&nbsp;<span
       style="color: #a31515;">"srv/SrvJson.php"</span>)</span></div>
   <div>alert(resultado)</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despiesta y recibe response.</p>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Response</h1>
  <dl class="resaltado">
   <dt>code</dt>
   <dd>200</dd>
   <dt>contenido</dt>
   <dd>"Hola pp."</dd>
  </dl>
 </section>
 <section style="display: block;">
  <h1>Memoria</h1>
  <dl>
   <dt>datos</dt>
   <dd>
    <dl>
     <dt>saludo</dt>
     <dd>"Hola"</dd>
     <dt>nombre</dt>
     <dd>"pp"</dd>
    </dl>
   </dd>
   <dt class="resaltado">resultado</dt>
   <dd class="resaltado">"Hola pp."</dd>
  </dl>
 </section>
</section>
<section style="vertical-align: middle;">
 <h1>SrvJson.php</h1>
 <muestra-codigo class="resaltado3">
  <div>
   <div><span
      style="color: #001080;">$json</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeJson</span><span
      style="color: #000000;">();</span></div>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #001080;">$json</span><span
      style="color: #000000;">-&gt;</span><span
      style="color: #001080;">saludo</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #001080;">$json</span><span
      style="color: #000000;">-&gt;</span><span
      style="color: #001080;">nombre</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Devuelve response y se duerme.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >8. Muestra el valor recibido recibido en un alert</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> datos =&nbsp;{</div>
   <div>&nbsp;saludo: <span
      style="color: #a31515;">"Hola"</span>,</div>
   <div>&nbsp;nombre: <span
      style="color: #a31515;">"pp"</span></div>
   <div>}</div>
   <div><span
      style="color: #0000ff;">const</span> resultado =</div>
   <div>&nbsp;<span
      style="color: #0000ff;">await</span> enviaJson(datos,</div>
   <div>&nbsp;&nbsp;MetodoHttp.POST,</div>
   <div>&nbsp;&nbsp;<span
      style="color: #a31515;">"srv/SrvJson.php"</span>)</div>
   <div><span class="resaltado">alert(resultado)</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl>
  <dt>datos</dt>
  <dd>
   <dl>
    <dt>saludo</dt>
    <dd>"Hola"</dd>
    <dt>nombre</dt>
    <dd>"pp"</dd>
   </dl>
  </dd>
  <dt class="resaltado">resultado</dt>
  <dd class="resaltado">"Hola pp."</dd>
 </dl>
</section>
<section>
 <h1>Alert</h1>
 <div class="resaltado" style="border: thin solid; padding: 0 0.5rem;">
  <p>Hola pp.</p>
  <p style="text-align: end;">
   <button type="button">Aceptar</button>
  </p>
 </div>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >9. Al cerrar el alert, termina el evento</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #0000ff;">const</span> datos =&nbsp;{</div>
   <div>&nbsp;saludo: <span
      style="color: #a31515;">"Hola"</span>,</div>
   <div>&nbsp;nombre: <span
      style="color: #a31515;">"pp"</span></div>
   <div>}</div>
   <div><span
      style="color: #0000ff;">const</span> resultado =</div>
   <div>&nbsp;<span
      style="color: #0000ff;">await</span> enviaJson(datos,</div>
   <div>&nbsp;&nbsp;MetodoHttp.POST,</div>
   <div>&nbsp;&nbsp;<span
      style="color: #a31515;">"srv/SrvJson.php"</span>)</div>
   <div>alert(resultado)</div>
  </div>
 </muestra-codigo>
</section>
      </section>
      </section>
     <section >
         <h1 >F. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m09srvjson/srvjson.zip" download>Descarga el ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/srvjson?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/srvjson?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >G. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>js</p>
     <ul>
      <li>
       <p><a href="mNejecutaJs.html">ejecuta.js</a></p>
      </li>
      <li>
       <p><a href="mJenviaJsonJs.html">enviaJson.js</a></p>
      </li>
      <li>
       <p><a href="mKMethodoHttpJs.html">MetodoHttp.js</a></p>
      </li>
      <li>
       <p><a href="mOmuestraErrorJs.html">muestraError.js</a></p>
      </li>
     </ul>
    </li>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p><a href="mPautoloadPhp.html">autoload.php</a></p>
      </li>
      <li>
       <p><a href="mLleeJsonPhp.html">leeJson.php</a></p>
      </li>
      <li>
       <p><a href="mQpathPhp.html">path.php</a></p>
      </li>
      <li>
       <p><a href="mRservicioPhp.html">servicio.php</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>srv</p>
   <ul>
    <li>
     <p><a href="mISrvJsonPhp.html">SrvJson.php</a></p>
    </li>
   </ul>
  </li>
  <li>
   <p><a href="mHindexHtml.html">index.html</a></p>
  </li>
  <li>
   <p><a href="mMjsconfigJson.html">jsconfig.json</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >H. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span></div>
  <div>&nbsp;&nbsp;Servicio que envía y recibe JSON</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span></div>
  <div>&nbsp;&nbsp;Servicio que envía y recibe JSON</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"btnEnviaJson"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;Envía JSON</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">MetodoHttp</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/MetodoHttp.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">enviaJson</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/enviaJson.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">btnEnviaJson</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">addEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"click"</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">enviaJsonPost</span><span
     style="color: #000000;">)</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">enviaJsonPost</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">datos</span><span
     style="color: #000000;"> =&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">saludo</span><span
     style="color: #001080;">:</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Hola"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #001080;">:</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"pp"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">resultado</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">enviaJson</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">datos</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">MetodoHttp</span><span
     style="color: #000000;">.</span><span
     style="color: #0070c1;">POST</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/SrvJson.php"</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">alert</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">resultado</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >I. srv / SrvJson.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeJson.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvJson</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$json</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeJson</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$saludo</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$json</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">saludo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$json</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"{</span><span
     style="color: #001080;">$saludo</span><span
     style="color: #a31515;">}&nbsp;{</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #a31515;">}."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvJson</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >J. lib / js / enviaJson.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">ejecuta</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./ejecuta.js"</span></div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">MetodoHttp</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./MetodoHttp.js"</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Object}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">datos</span></div>
  <div><span
     style="color: #008000;">*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{MetodoHttp}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">metodoHttp</span></div>
  <div><span
     style="color: #008000;">*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">url</span></div>
  <div><span
     style="color: #008000;">*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">enviaJson</span></div>
  <div>&nbsp;(<span
     style="color: #001080;">datos</span>, <span
     style="color: #001080;">metodoHttp</span>, <span
     style="color: #001080;">url</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(<span
     style="color: #795e26;">fetch</span>(<span
     style="color: #001080;">url</span>,</div>
  <div>&nbsp;&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">method</span><span
     style="color: #001080;">:</span> <span
     style="color: #001080;">metodoHttp</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">headers</span><span
     style="color: #001080;">:</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type"</span><span
     style="color: #001080;">:</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"application/json"</span></div>
  <div>&nbsp;&nbsp;&nbsp;},</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">body</span><span
     style="color: #001080;">:</span> <span
     style="color: #001080;">JSON</span>.<span
     style="color: #795e26;">stringify</span>(<span
     style="color: #001080;">datos</span>)</div>
  <div>&nbsp;&nbsp;}))</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >K. lib / js / MethodoHttp.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@enum</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">const</span> <span
     style="color: #267f99;">MetodoHttp</span> <span
     style="color: #000000;">=</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">TRACE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"TRACE"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">OPTIONS</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"OPTIONS"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">CONNECT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"CONNECT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">GET</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"GET"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">HEAD</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"HEAD"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">POST</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"POST"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PUT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PUT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PATCH</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PATCH"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">DELETE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"DELETE"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >L. lib / php / leeJson.php</h1><muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;?php</span></div>
  <div><span style="color: #0000ff;">function</span> <span
     style="color: #795e26;">leeJson</span>()</div>
  <div>{</div>
  <div>&nbsp;<span style="color: #af00db;">return</span> <span
     style="color: #795e26;">json_decode</span>(</div>
  <div>&nbsp; <span style="color: #795e26;">file_get_contents</span>(</div>
  <div>&nbsp; &nbsp;<span style="color: #a31515;">"php://input"</span></div>
  <div>&nbsp; )</div>
  <div>&nbsp;);</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >M. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aquí su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >N. lib / js / ejecuta.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Espera a que la promesa de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fetch termine. Si hay error</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;lanza una excepción. Si no hay</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;error, interpreta la respuesta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;del servidor como JSON y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la convierte en una literal de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;objeto. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta(fetch)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> resp = <span
     style="color: #0000ff;">await</span> fetch</div>
  <div>&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> <span
     style="color: #0000ff;">await</span> resp.json()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span> <span
     style="color: #0000ff;">if</span> (resp.status === <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(resp.statusText)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >O. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >P. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >Q. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >R. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 class="leccion">10. Servicio que procesa una forma</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m10form/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mBsubmit.html">La función <code>submit</code></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mCleeTexto.html">La función <code>leeTexto</code></a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mDdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/">Ejemplo que procesa forma con error</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/">Ejemplo que procesa forma con éxito</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mGinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mHarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mIindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mJSrvProcesaPhp.html">srv / SrvProcesa.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mKsubmitJs.html">lib / js / submit.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mLleeTextoPhp.html">lib / php / leeTexto.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mMjsconfigJson.html">jsconfig.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mNejecutaJs.html">lib / js / ejecuta.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mOMethodoHttpJs.html">lib / js / MethodoHttp.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mPmuestraErrorJs.html">lib / js / muestraError.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mQautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mRpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mSservicioPhp.html">lib / php / servicio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  Este ejemplo muestra como procesar el contenido de una forma usando servicios.
 </p>
 <p>
  Puedes probar el ejemplo en
  <a rel="noopener" href="https://srvform.gilbertopachec5.repl.co/"
    target="_blank">https://srvform.gilbertopachec5.repl.co/</a>.
 </p>
</div>
      </section>
     <section >
         <h1 >B. La función <code>submit</code></h1><div class="lectura">
 <p>
  Se introduce la función <code>submit</code>, que permite enviar los datos
  capturados en un formulario hacia una URL.
 </p>
 <p>
  Se utiliza el formato <q>mutipart/form-data</q>, lo cual permite transmitir el
  contenido de archivos.
 </p>
 <p>
  Se utiliza el método de envío POST.
 </p>
 <p>
  Si necesitas enviar los datos de otra forma, puedes usar directamente la
  función <code>ejecuta</code>.
 </p>
 <p>
  Para usarla, debes importar el archivo donde está definida esta función y
  luego invocarla pasándole el evento generado, la URL y la forma con los datos
  capturados.
 </p>
 <p>
  A lo largo de esta lección, se profundiza en el uso y estructura de esta
  función.
 </p>
</div>
      </section>
     <section >
         <h1 >C. La función <code>leeTexto</code></h1><div class="lectura">
 <p>
  Para que los servicios en el servidor puedan leer los datos tipo texto
  enviados por un formulario, por cookies o parámetros en la URL, se introduce
  la función <code>leeTexto</code>, escrita en PHP.
 </p>
 <p>
  Para usarla, debes importarla con <code>require_once</code>, invocarla
  pasándole el nombre del parámetro o campo que deseas leer y recibir el texto
  resultante. Si el nombre no está incluido en la solicitud, se recibe un texto
  vacío.
 </p>
 <p>
  A lo largo de esta lección, se profundiza en el uso y estructura de esta
  función.
 </p>
</div>
      </section>
     <section >
         <h1 >D. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m10form/srvformdistribucion.drawio.png"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section>
         <h1 >E. Ejemplo que procesa forma con error</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m1captura.html">El usuario activa la forma sin capturar datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m2submit.html">Se activa el código del evento submit.</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m3invoca.html">Se invoca el servicio, incluyendo los datos de la forma</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m4leeDatos.html">El servicio lee los datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m5validaDatos.html">El servicio valida que el saludo no sea un texto vacío</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m6aborta.html">Como el saludo está en blanco, aborta y genera la response</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m7devuelve.html">El servicio devuelve la response, que es recibida en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m8throwCliente.html">Como hay error, lanza una excepción que atrapa catch</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m9muestra.html">Muestra la excepción en la consola y el texto de la excepción en un alert</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mEfunFormError/m10termina.html">Al cerrar el alert, termina el evento</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section class="pruebaDeEscritorio">
         <h1 >1. El usuario activa la forma sin capturar datos</h1><section>
 <section style="display: block;">
  <h1>Forma</h1>
  <form action="javascript:;" class="resaltado"
    style="overflow: auto; padding: 0 1rem;">
   <p>
    <label>
     Saludo:
     <input name="saludo">
    </label>
   </p>
   <p>
    <label>
     Nombre:
     <input name="nombre">
    </label>
   </p>
   <p>
    <button>Procesa</button>
   </p>
  </form>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >2. Se activa el código del evento submit.</h1><section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Forma</h1>
  <form action="javascript:;"
    style="overflow: auto; padding: 0 1rem;">
   <p>
    <label>
     Saludo:
     <input name="saludo">
    </label>
   </p>
   <p>
    <label>
     Nombre:
     <input name="nombre">
    </label>
   </p>
   <p>
    <button>Procesa</button>
   </p>
  </form>
 </section>
 <section style="display: block;">
  <h1>index.html</h1>
  <muestra-codigo class="resaltado">
   <div>
    <div><span
       style="color: #af00db;">try</span>&nbsp;{</div>
    <div>&nbsp;<span
       style="color: #0000ff;">const</span> <span
       style="color: #0070c1;">resultado</span> <span
       style="color: #000000;">=</span> <span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</div>
    <div>&nbsp;&nbsp;<span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</div>
    <div>&nbsp;&nbsp;<span
       style="color: #001080;">forma</span>)</div>
    <div>&nbsp;<span
       style="color: #795e26;">alert</span>(<span
       style="color: #0070c1;">resultado</span>)</div>
    <div>}&nbsp;<span
       style="color: #af00db;">catch</span> (<span
       style="color: #001080;">e</span>)&nbsp;{</div>
    <div>&nbsp;<span
       style="color: #795e26;">muestraError</span>(<span
       style="color: #001080;">e</span>)</div>
    <div>}</div>
   </div>
  </muestra-codigo>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >3. Se invoca el servicio, incluyendo los datos de la forma</h1><section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Forma</h1>
  <form action="javascript:;"
    style="overflow: auto; padding: 0 1rem;">
   <p>
    <label>
     Saludo:
     <input name="saludo">
    </label>
   </p>
   <p>
    <label>
     Nombre:
     <input name="nombre">
    </label>
   </p>
   <p>
    <button>Procesa</button>
   </p>
  </form>
 </section>
 <section style="display: block;">
  <h1>index.html</h1>
  <muestra-codigo>
   <div>
    <div><span
       style="color: #af00db;">try</span>&nbsp;{</div>
    <div>&nbsp;<span
       style="color: #0000ff;">const</span> <span
       style="color: #0070c1;">resultado</span> <span
       style="color: #000000;">=</span> <span class="resaltado"><span
        style="color: #af00db;">await</span> <span
        style="color: #795e26;">submit</span>(</span></div>
    <div>&nbsp;&nbsp;<span class="resaltado"><span
        style="color: #001080;">evt</span>, <span
        style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
    <div>&nbsp;&nbsp;<span class="resaltado"><span
        style="color: #001080;">forma</span>)</span></div>
    <div>&nbsp;<span
       style="color: #795e26;">alert</span>(<span
       style="color: #0070c1;">resultado</span>)</div>
    <div>}&nbsp;<span
       style="color: #af00db;">catch</span> (<span
       style="color: #001080;">e</span>)&nbsp;{</div>
    <div>&nbsp;<span
       style="color: #795e26;">muestraError</span>(<span
       style="color: #001080;">e</span>)</div>
    <div>}</div>
   </div>
  </muestra-codigo>
 </section>
</section>
<section style="vertical-align: middle;">
 <h1>Request</h1>
 <dl class="resaltado">
  <dt>URL</dt>
  <dd>
   <a rel="noopener"
     href="https://phpservs.gilbertopacheco.repl.co/srv/SrvProcesa.php"
     target="_blank">SrvProcesa.php</a>
  </dd>
  <dt>Method</dt>
  <dd>POST</dd>
  <dt>body</dt>
  <dd>
   <dl>
    <dt>saludo</dt>
    <dd><em>vacío</em></dd>
    <dt>nombre</dt>
    <dd><em>vacío</em></dd>
   </dl>
  </dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"saludo"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"nombre"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despierta y recibe request.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >4. El servicio lee los datos</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span class="resaltado3"><span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span class="resaltado"><span
       style="color: #001080;">$saludo</span><span
       style="color: #000000;"> = </span><span
       style="color: #795e26;">leeTexto</span><span
       style="color: #000000;">(</span><span
       style="color: #a31515;">"saludo"</span><span
       style="color: #000000;">);</span></span></div>
   <div><span class="resaltado"><span
       style="color: #001080;">$nombre</span><span
       style="color: #000000;"> = </span><span
       style="color: #795e26;">leeTexto</span><span
       style="color: #000000;">(</span><span
       style="color: #a31515;">"nombre"</span><span
       style="color: #000000;">);</span></span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Request</h1>
  <dl>
   <dt>URL</dt>
   <dd>
    <a rel="noopener"
      href="https://phpservs.gilbertopacheco.repl.co/srv/SrvProcesa.php"
      target="_blank">SrvProcesa.php</a>
   </dd>
   <dt>Method</dt>
   <dd>POST</dd>
   <dt>body</dt>
   <dd>
    <dl>
     <dt class="resaltado">saludo</dt>
     <dd class="resaltado"><em>vacío</em></dd>
     <dt class="resaltado">nombre</dt>
     <dd class="resaltado"><em>vacío</em></dd>
    </dl>
   </dd>
  </dl>
 </section>
 <section style="display: block;">
  <h1>Memoria (Servidor)</h1>
  <dl class="resaltado">
   <dt>$saludo</dt>
   <dd>""</dd>
   <dt>$nombre</dt>
   <dd>""</dd>
  </dl>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >5. El servicio valida que el saludo no sea un texto vacío</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span class="resaltado3"><span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"saludo"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"nombre"</span><span
      style="color: #000000;">);</span></div>
   <div><span class="resaltado"><span
       style="color: #af00db;">if</span><span
       style="color: #000000;"> (</span><span
       style="color: #001080;">$saludo</span><span
       style="color: #000000;"> === </span><span
       style="color: #a31515;">""</span><span
       style="color: #000000;">)&nbsp;{</span></span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria (Servidor)</h1>
 <dl>
  <dt class="resaltado">$saludo</dt>
  <dd class="resaltado">""</dd>
  <dt>$nombre</dt>
  <dd>""</dd>
 </dl>
</section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >6. Como el saludo está en blanco, aborta y genera la response</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span class="resaltado3"><span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"saludo"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"nombre"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span class="resaltado"><span
       style="color: #af00db;">throw</span><span
       style="color: #000000;"> </span><span
       style="color: #0000ff;">new</span><span
       style="color: #000000;"> </span><span
       style="color: #267f99;">Exception</span><span
       style="color: #000000;">(</span></span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span class="resaltado"><span
       style="color: #a31515;">"Falta el saludo"</span></span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Response</h1>
 <dl class="resaltado">
  <dt>code</dt>
  <dd>500</dd>
  <dt>contenido</dt>
  <dd>Falta el saludo</dd>
 </dl>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >7. El servicio devuelve la response, que es recibida en el cliente</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span class="resaltado"><span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despiesta y recibe response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>Response</h1>
 <dl class="resaltado" style="padding: 0.5rem;">
  <dt>code</dt>
  <dd>500</dd>
  <dt>contenido</dt>
  <dd>Falta el saludo</dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo class="resaltado3">
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"saludo"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"nombre"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Devuelve response y se duerme.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >8. Como hay error, lanza una excepción que atrapa catch</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">submit</span>(</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">evt</span>, <span
      style="color: #a31515;">"srv/SrvProcesa.php"</span>,</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">forma</span>)</div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div><span class="resaltado">}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Response</h1>
  <dl style="padding: 0.5rem;">
   <dt>code</dt>
   <dd>500</dd>
   <dt>contenido</dt>
   <dd>Falta el saludo</dd>
  </dl>
 </section>
 <section style="display: block;">
  <h1>Memoria</h1>
  <dl class="resaltado">
   <dt>e</dt>
   <dd>
    <dl>
     <dt>message</dt>
     <dd>"Falta el saludo"</dd>
    </dl>
   </dd>
  </dl>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >9. Muestra la excepción en la consola y el texto de la excepción en un alert</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">submit</span>(</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">evt</span>, <span
      style="color: #a31515;">"srv/SrvProcesa.php"</span>,</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">forma</span>)</div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span class="resaltado"><span
       style="color: #795e26;">muestraError</span>(<span
       style="color: #001080;">e</span>)</span></div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl class="resaltado">
  <dt>e</dt>
  <dd>
   <dl>
    <dt>message</dt>
    <dd>"Falta el saludo"</dd>
   </dl>
  </dd>
 </dl>
</section>
<section>
 <h1>Alert</h1>
 <div class="resaltado" style="border: thin solid; padding: 0 0.5rem;">
  <p>Falta el saludo</p>
  <p style="text-align: end;">
   <button type="button">Aceptar</button>
  </p>
 </div>
</section>
<section>
 <h1>Consola</h1>
 <div class="resaltado">
  <pre>Error: Falta el saludo
   at ejecuta (ejecuta.js:19:9)
   at async submit (submit.js:17:9)
   at async HTMLFormElement.procesa ((índice):102:18)</pre>
 </div>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >10. Al cerrar el alert, termina el evento</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">submit</span>(</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">evt</span>, <span
      style="color: #a31515;">"srv/SrvProcesa.php"</span>,</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">forma</span>)</div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section>
 <h1>Consola</h1>
 <div>
  <pre>Error: Falta el saludo
   at ejecuta (ejecuta.js:19:9)
   at async submit (submit.js:17:9)
   at async HTMLFormElement.procesa ((índice):102:18)</pre>
 </div>
</section>
      </section>
      </section>
     <section>
         <h1 >F. Ejemplo que procesa forma con éxito</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m1captura.html">El usuario captura datos y activa la forma</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m2submit.html">Se activa el código del evento submit.</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m3invoca.html">Se invoca el servicio, incluyendo los datos de la forma</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m4leeDatos.html">El servicio lee los datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m5validaSaludo.html">El servicio valida que el saludo no sea un texto vacío</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m6validaNombre.html">Como el saludo no está vacío, el servicio valida que el nombre no sea un texto vacío</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m7procesaDatos.html">Como el nombre no está vacío, el servicio procesa los datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m8response.html">El servicio genera la response</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m9devuelve.html">El servicio devuelve la response, que es recibida en el cliente</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m10muestra.html">Muestra el texto recibido en un alert</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m10form/mFfunFormOk/m11termina.html">Al cerrar el alert, termina el evento</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section class="pruebaDeEscritorio">
         <h1 >1. El usuario captura datos y activa la forma</h1><section>
 <section style="display: block;">
  <h1>Forma</h1>
  <form action="javascript:;" class="resaltado"
    style="overflow: auto; padding: 0 1rem;">
   <p>
    <label>
     Saludo:
     <input name="saludo" value="hola">
    </label>
   </p>
   <p>
    <label>
     Nombre:
     <input name="nombre" value="pp">
    </label>
   </p>
   <p>
    <button>Procesa</button>
   </p>
  </form>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >2. Se activa el código del evento submit.</h1><section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Forma</h1>
  <form action="javascript:;"
    style="overflow: auto; padding: 0 1rem;">
   <p>
    <label>
     Saludo:
     <input name="saludo" value="hola">
    </label>
   </p>
   <p>
    <label>
     Nombre:
     <input name="nombre" value="pp">
    </label>
   </p>
   <p>
    <button>Procesa</button>
   </p>
  </form>
 </section>
 <section style="display: block;">
  <h1>index.html</h1>
  <muestra-codigo class="resaltado">
   <div>
    <div><span
       style="color: #af00db;">try</span>&nbsp;{</div>
    <div>&nbsp;<span
       style="color: #0000ff;">const</span> <span
       style="color: #0070c1;">resultado</span> <span
       style="color: #000000;">=</span> <span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</div>
    <div>&nbsp;&nbsp;<span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</div>
    <div>&nbsp;&nbsp;<span
       style="color: #001080;">forma</span>)</div>
    <div>&nbsp;<span
       style="color: #795e26;">alert</span>(<span
       style="color: #0070c1;">resultado</span>)</div>
    <div>}&nbsp;<span
       style="color: #af00db;">catch</span> (<span
       style="color: #001080;">e</span>)&nbsp;{</div>
    <div>&nbsp;<span
       style="color: #795e26;">muestraError</span>(<span
       style="color: #001080;">e</span>)</div>
    <div>}</div>
   </div>
  </muestra-codigo>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >3. Se invoca el servicio, incluyendo los datos de la forma</h1><section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Forma</h1>
  <form action="javascript:;"
    style="overflow: auto; padding: 0 1rem;">
   <p>
    <label>
     Saludo:
     <input name="saludo" value="hola">
    </label>
   </p>
   <p>
    <label>
     Nombre:
     <input name="nombre" value="pp">
    </label>
   </p>
   <p>
    <button>Procesa</button>
   </p>
  </form>
 </section>
 <section style="display: block;">
  <h1>index.html</h1>
  <muestra-codigo>
   <div>
    <div><span
       style="color: #af00db;">try</span>&nbsp;{</div>
    <div>&nbsp;<span
       style="color: #0000ff;">const</span> <span
       style="color: #0070c1;">resultado</span> <span
       style="color: #000000;">=</span> <span class="resaltado"><span
        style="color: #af00db;">await</span> <span
        style="color: #795e26;">submit</span>(</span></div>
    <div>&nbsp;&nbsp;<span class="resaltado"><span
        style="color: #001080;">evt</span>, <span
        style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
    <div>&nbsp;&nbsp;<span class="resaltado"><span
        style="color: #001080;">forma</span>)</span></div>
    <div>&nbsp;<span
       style="color: #795e26;">alert</span>(<span
       style="color: #0070c1;">resultado</span>)</div>
    <div>}&nbsp;<span
       style="color: #af00db;">catch</span> (<span
       style="color: #001080;">e</span>)&nbsp;{</div>
    <div>&nbsp;<span
       style="color: #795e26;">muestraError</span>(<span
       style="color: #001080;">e</span>)</div>
    <div>}</div>
   </div>
  </muestra-codigo>
 </section>
</section>
<section style="vertical-align: middle;">
 <h1>Request</h1>
 <dl class="resaltado">
  <dt>URL</dt>
  <dd>
   <a rel="noopener"
     href="https://phpservs.gilbertopacheco.repl.co/srv/SrvProcesa.php"
     target="_blank">SrvProcesa.php</a>
  </dd>
  <dt>Method</dt>
  <dd>POST</dd>
  <dt>body</dt>
  <dd>
   <dl>
    <dt>saludo</dt>
    <dd>hola</dd>
    <dt>nombre</dt>
    <dd>pp</dd>
   </dl>
  </dd>
 </dl>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo class="resaltado">
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"saludo"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"nombre"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despierta y recibe request.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >4. El servicio lee los datos</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span class="resaltado3"><span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span class="resaltado"><span
       style="color: #001080;">$saludo</span><span
       style="color: #000000;"> = </span><span
       style="color: #795e26;">leeTexto</span><span
       style="color: #000000;">(</span><span
       style="color: #a31515;">"saludo"</span><span
       style="color: #000000;">);</span></span></div>
   <div><span class="resaltado"><span
       style="color: #001080;">$nombre</span><span
       style="color: #000000;"> = </span><span
       style="color: #795e26;">leeTexto</span><span
       style="color: #000000;">(</span><span
       style="color: #a31515;">"nombre"</span><span
       style="color: #000000;">);</span></span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Request</h1>
  <dl>
   <dt>URL</dt>
   <dd>
    <a rel="noopener"
      href="https://phpservs.gilbertopacheco.repl.co/srv/SrvProcesa.php"
      target="_blank">SrvProcesa.php</a>
   </dd>
   <dt>Method</dt>
   <dd>POST</dd>
   <dt>body</dt>
   <dd>
    <dl>
     <dt class="resaltado">saludo</dt>
     <dd class="resaltado">hola</dd>
     <dt class="resaltado">nombre</dt>
     <dd class="resaltado">pp</dd>
    </dl>
   </dd>
  </dl>
 </section>
 <section style="display: block;">
  <h1>Memoria (Servidor)</h1>
  <dl class="resaltado">
   <dt>$saludo</dt>
   <dd>"hola"</dd>
   <dt>$nombre</dt>
   <dd>"pp"</dd>
  </dl>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >5. El servicio valida que el saludo no sea un texto vacío</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span class="resaltado3"><span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"saludo"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"nombre"</span><span
      style="color: #000000;">);</span></div>
   <div><span class="resaltado"><span
       style="color: #af00db;">if</span><span
       style="color: #000000;"> (</span><span
       style="color: #001080;">$saludo</span><span
       style="color: #000000;"> === </span><span
       style="color: #a31515;">""</span><span
       style="color: #000000;">)&nbsp;{</span></span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria (Servidor)</h1>
 <dl>
  <dt class="resaltado">$saludo</dt>
  <dd class="resaltado">"hola"</dd>
  <dt>$nombre</dt>
  <dd>"pp"</dd>
</dl>
</section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >6. Como el saludo no está vacío, el servicio valida que el nombre no sea un texto vacío</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span class="resaltado3"><span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"saludo"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"nombre"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span class="resaltado"><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria (Servidor)</h1>
 <dl>
  <dt>$saludo</dt>
  <dd>"hola"</dd>
  <dt class="resaltado">$nombre</dt>
  <dd class="resaltado">"pp"</dd>
 </dl>
</section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >7. Como el nombre no está vacío, el servicio procesa los datos</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span class="resaltado3"><span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"saludo"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"nombre"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span class="resaltado"><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span class="resaltado"><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria (Servidor)</h1>
 <dl>
  <dt class="resaltado">$saludo</dt>
  <dd class="resaltado">"hola"</dd>
  <dt class="resaltado">$nombre</dt>
  <dd class="resaltado">"pp"</dd>
  <dt class="resaltado">$resultado</dt>
  <dd class="resaltado">"hola pp"</dd>
 </dl>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >8. El servicio genera la response</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span class="resaltado3"><span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado3"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Hace wait esperando response.</p>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo>
  <div>
   <div><span
    style="color: #800000;">&lt;?php</span></div><br>
 <div><span
    style="color: #001080;">$saludo</span><span
    style="color: #000000;"> = </span><span
    style="color: #795e26;">leeTexto</span><span
    style="color: #000000;">(</span><span
    style="color: #a31515;">"saludo"</span><span
    style="color: #000000;">);</span></div>
 <div><span
    style="color: #001080;">$nombre</span><span
    style="color: #000000;"> = </span><span
    style="color: #795e26;">leeTexto</span><span
    style="color: #000000;">(</span><span
    style="color: #a31515;">"nombre"</span><span
    style="color: #000000;">);</span></div>
 <div><span
    style="color: #af00db;">if</span><span
    style="color: #000000;"> (</span><span
    style="color: #001080;">$saludo</span><span
    style="color: #000000;"> === </span><span
    style="color: #a31515;">""</span><span
    style="color: #000000;">)&nbsp;{</span></div>
 <div><span
    style="color: #000000;">&nbsp;</span><span
    style="color: #af00db;">throw</span><span
    style="color: #000000;"> </span><span
    style="color: #0000ff;">new</span><span
    style="color: #000000;"> </span><span
    style="color: #267f99;">Exception</span><span
    style="color: #000000;">(</span></div>
 <div><span
    style="color: #000000;">&nbsp;&nbsp;</span><span
    style="color: #a31515;">"Falta el saludo"</span></div>
 <div><span
    style="color: #000000;">&nbsp;);</span></div>
 <div><span
    style="color: #000000;">}</span></div>
 <div><span
    style="color: #af00db;">if</span><span
    style="color: #000000;"> (</span><span
    style="color: #001080;">$nombre</span><span
    style="color: #000000;"> === </span><span
    style="color: #a31515;">""</span><span
    style="color: #000000;">)&nbsp;{</span></div>
 <div><span
    style="color: #000000;">&nbsp;</span><span
    style="color: #af00db;">throw</span><span
    style="color: #000000;"> </span><span
    style="color: #0000ff;">new</span><span
    style="color: #000000;"> </span><span
    style="color: #267f99;">Exception</span><span
    style="color: #000000;">(</span></div>
 <div><span
    style="color: #000000;">&nbsp;&nbsp;</span><span
    style="color: #a31515;">"Falta el nombre"</span></div>
 <div><span
    style="color: #000000;">&nbsp;);</span></div>
 <div><span
    style="color: #000000;">}</span></div>
 <div><span
    style="color: #001080;">$resultado</span><span
    style="color: #000000;"> =</span></div>
 <div><span
    style="color: #000000;">&nbsp;</span><span
    style="color: #a31515;">"{</span><span
    style="color: #001080;">$saludo</span><span
    style="color: #a31515;">}&nbsp;{</span><span
    style="color: #001080;">$nombre</span><span
    style="color: #a31515;">}."</span><span
    style="color: #000000;">;</span></div>
 <div><span class="resaltado"><span
    style="color: #af00db;">return</span><span
    style="color: #000000;"> </span><span
    style="color: #001080;">$resultado</span><span
    style="color: #000000;">;</span></span></div>
</div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Memoria (Servidor)</h1>
  <dl>
   <dt>$saludo</dt>
   <dd>"hola"</dd>
   <dt>$nombre</dt>
   <dd>"pp"</dd>
   <dt class="resaltado">$resultado</dt>
   <dd class="resaltado">"hola pp"</dd>
   </dl>
 </section>
 <section style="display: block;">
  <h1>Response</h1>
  <dl class="resaltado">
   <dt>code</dt>
   <dd>200</dd>
   <dt>contenido</dt>
   <dd>"hola pp"</dd>
  </dl>
 </section>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >9. El servicio devuelve la response, que es recibida en el cliente</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span class="resaltado"><span
       style="color: #0000ff;">const</span> <span
       style="color: #0070c1;">resultado</span> <span
       style="color: #000000;">=</span> <span
       style="color: #af00db;">await</span> <span
       style="color: #795e26;">submit</span>(</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado"><span
       style="color: #001080;">evt</span>, <span
       style="color: #a31515;">"srv/SrvProcesa.php"</span>,</span></div>
   <div>&nbsp;&nbsp;<span class="resaltado"><span
       style="color: #001080;">forma</span>)</span></div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
 <p class="resaltado2">Despiesta y recibe response.</p>
</section>
<section style="vertical-align: middle;">
 <section style="display: block;">
  <h1>Response</h1>
  <dl class="resaltado">
   <dt>code</dt>
   <dd>200</dd>
   <dt>contenido</dt>
   <dd>"hola pp"</dd>
  </dl>
 </section>
 <section style="display: block;">
  <h1>Memoria</h1>
  <dl>
   <dt class="resaltado">resultado</dt>
   <dd class="resaltado">"hola pp"</dd>
  </dl>
 </section>
</section>
<section style="vertical-align: middle;">
 <h1>SrvProcesa.php</h1>
 <muestra-codigo class="resaltado3">
  <div>
   <div><span
      style="color: #800000;">&lt;?php</span></div><br>
   <div><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"saludo"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> = </span><span
      style="color: #795e26;">leeTexto</span><span
      style="color: #000000;">(</span><span
      style="color: #a31515;">"nombre"</span><span
      style="color: #000000;">);</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el saludo"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #af00db;">if</span><span
      style="color: #000000;"> (</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #000000;"> === </span><span
      style="color: #a31515;">""</span><span
      style="color: #000000;">)&nbsp;{</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #af00db;">throw</span><span
      style="color: #000000;"> </span><span
      style="color: #0000ff;">new</span><span
      style="color: #000000;"> </span><span
      style="color: #267f99;">Exception</span><span
      style="color: #000000;">(</span></div>
   <div><span
      style="color: #000000;">&nbsp;&nbsp;</span><span
      style="color: #a31515;">"Falta el nombre"</span></div>
   <div><span
      style="color: #000000;">&nbsp;);</span></div>
   <div><span
      style="color: #000000;">}</span></div>
   <div><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;"> =</span></div>
   <div><span
      style="color: #000000;">&nbsp;</span><span
      style="color: #a31515;">"{</span><span
      style="color: #001080;">$saludo</span><span
      style="color: #a31515;">}&nbsp;{</span><span
      style="color: #001080;">$nombre</span><span
      style="color: #a31515;">}."</span><span
      style="color: #000000;">;</span></div>
   <div><span
      style="color: #af00db;">return</span><span
      style="color: #000000;"> </span><span
      style="color: #001080;">$resultado</span><span
      style="color: #000000;">;</span></div>
  </div>
 </muestra-codigo>
 <p class="resaltado3">Devuelve response y se duerme.</p>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >10. Muestra el texto recibido en un alert</h1><section style="vertical-align: middle;">
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">submit</span>(</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">evt</span>, <span
      style="color: #a31515;">"srv/SrvProcesa.php"</span>,</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">forma</span>)</div>
   <div>&nbsp;<span class="resaltado"><span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</span></div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
<section style="vertical-align: middle;">
 <h1>Memoria</h1>
 <dl>
  <dt class="resaltado">resultado</dt>
  <dd class="resaltado">"hola pp"</dd>
 </dl>
</section>
<section>
 <h1>Alert</h1>
 <div class="resaltado" style="border: thin solid; padding: 0 0.5rem;">
  <p>hola pp</p>
  <p style="text-align: end;">
   <button type="button">Aceptar</button>
  </p>
 </div>
</section>
      </section>
     <section class="pruebaDeEscritorio">
         <h1 >11. Al cerrar el alert, termina el evento</h1><section>
 <h1>index.html</h1>
 <muestra-codigo>
  <div>
   <div><span
      style="color: #af00db;">try</span>&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #0000ff;">const</span> <span
      style="color: #0070c1;">resultado</span> <span
      style="color: #000000;">=</span> <span
      style="color: #af00db;">await</span> <span
      style="color: #795e26;">submit</span>(</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">evt</span>, <span
      style="color: #a31515;">"srv/SrvProcesa.php"</span>,</div>
   <div>&nbsp;&nbsp;<span
      style="color: #001080;">forma</span>)</div>
   <div>&nbsp;<span
      style="color: #795e26;">alert</span>(<span
      style="color: #0070c1;">resultado</span>)</div>
   <div>}&nbsp;<span
      style="color: #af00db;">catch</span> (<span
      style="color: #001080;">e</span>)&nbsp;{</div>
   <div>&nbsp;<span
      style="color: #795e26;">muestraError</span>(<span
      style="color: #001080;">e</span>)</div>
   <div>}</div>
  </div>
 </muestra-codigo>
</section>
      </section>
      </section>
     <section >
         <h1 >G. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m10form/srvform.zip" download>Descarga el ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/srvform?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/srvform?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >H. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>js</p>
     <ul>
      <li>
       <p><a href="mNejecutaJs.html">ejecuta.js</a></p>
      </li>
      <li>
       <p><a href="mOMethodoHttpJs.html">MetodoHttp.js</a></p>
      </li>
      <li>
       <p><a href="mPmuestraErrorJs.html">muestraError.js</a></p>
      </li>
      <li>
       <p><a href="mKsubmitJs.html">submit.js</a></p>
      </li>
     </ul>
    </li>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p><a href="mQautoloadPhp.html">autoload.php</a></p>
      </li>
      <li>
       <p><a href="mLleeTextoPhp.html">leeTexto.php</a></p>
      </li>
      <li>
       <p><a href="mRpathPhp.html">path.php</a></p>
      </li>
      <li>
       <p><a href="mSservicioPhp.html">servicio.php</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>srv</p>
   <ul>
    <li>
     <p><a href="mJSrvProcesaPhp.html">SrvProcesa.php</a></p>
    </li>
   </ul>
  </li>
  <li>
   <p><a href="mIindexHtml.html">index.html</a></p>
  </li>
  <li>
   <p><a href="mMjsconfigJson.html">jsconfig.json</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >I. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span></div>
  <div>&nbsp;&nbsp;Servicio que procesa un</div>
  <div>&nbsp;&nbsp;formulario</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span></div>
  <div>&nbsp;&nbsp;Servicio que procesa un</div>
  <div>&nbsp;&nbsp;formulario</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Saludo:</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"saludo"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Nombre:</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"nombre"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;button&gt;</span>Procesa<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">submit</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/submit.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">addEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"submit"</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">procesa</span><span
     style="color: #000000;">)</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">procesa</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">resultado</span><span
     style="color: #000000;"> = </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">submit</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">, </span><span
     style="color: #a31515;">"srv/SrvProcesa.php"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">alert</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">resultado</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >J. srv / SrvProcesa.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeTexto.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvProcesa</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$saludo</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"saludo"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$saludo</span><span
     style="color: #000000;"> === </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"Falta el saludo"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;"> === </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"Falta el nombre"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"{</span><span
     style="color: #001080;">$saludo</span><span
     style="color: #a31515;">}&nbsp;{</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #a31515;">}."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvProcesa</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >K. lib / js / submit.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">ejecuta</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./ejecuta.js"</span></div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">MetodoHttp</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./MetodoHttp.js"</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Envía los datos de la forma a
    la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;url con el método POST usando
    la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función ejecuta. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">url</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">submit</span>(<span
     style="color: #001080;">evt</span>, <span
     style="color: #001080;">url</span>, <span
     style="color: #001080;">forma</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">evt</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(<span
     style="color: #795e26;">fetch</span>(<span
     style="color: #001080;">url</span></div>
  <div>&nbsp;&nbsp;,&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">method</span><span
     style="color: #001080;">:</span> <span
     style="color: #267f99;">MetodoHttp</span>.<span
     style="color: #001080;">POST</span></div>
  <div>&nbsp;&nbsp;&nbsp;, <span
     style="color: #001080;">body</span><span
     style="color: #001080;">:</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">FormData</span>(<span
     style="color: #001080;">forma</span>)</div>
  <div>&nbsp;&nbsp;}))</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >L. lib / php / leeTexto.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el texto de un</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$paramwtro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si el parámetro está asignado</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;en $_REQUEST, devuelve su</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;valor; de lo contrario,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;devuelve "".</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*/</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">isset</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$paramwtro</span><span
     style="color: #000000;">])</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;? </span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$paramwtro</span><span
     style="color: #000000;">]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;: </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >M. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aquí su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >N. lib / js / ejecuta.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Espera a que la promesa de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fetch termine. Si hay error</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;lanza una excepción. Si no hay</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;error, interpreta la respuesta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;del servidor como JSON y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la convierte en una literal de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;objeto. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta(fetch)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> resp = <span
     style="color: #0000ff;">await</span> fetch</div>
  <div>&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> <span
     style="color: #0000ff;">await</span> resp.json()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span> <span
     style="color: #0000ff;">if</span> (resp.status === <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(resp.statusText)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >O. lib / js / MethodoHttp.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@enum</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">const</span> <span
     style="color: #267f99;">MetodoHttp</span> <span
     style="color: #000000;">=</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">TRACE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"TRACE"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">OPTIONS</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"OPTIONS"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">CONNECT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"CONNECT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">GET</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"GET"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">HEAD</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"HEAD"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">POST</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"POST"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PUT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PUT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PATCH</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PATCH"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">DELETE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"DELETE"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >P. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >Q. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >R. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >S. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 class="leccion">11. Renderizado del lado del cliente</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m11renderCliente/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mBdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mCinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mDarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mEindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mFrenderJs.html">render.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mGSrvListaPhp.html">srv / SrvLista.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mHjsconfigJson.html">jsconfig.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mIautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mJpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mKservicioPhp.html">lib / php / servicio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  Para algunas partes de una página no hay componentes gráficos que puedan
  mostrar valores, como en el caso de los listados. En ese caso se tiene que
  generar el código HTM desde el programa, proceso que se conoce como
  <dfn>renderizado</dfn>.
 </p>
 <p>
  En esta lección se presenta un ejemplo de renderizado en el cliente.
 </p>
 <p>
  Puedes probar el ejemplo en
  <a rel="noopener" href="https://rendercli.gilbertopachec5.repl.co/"
    target="_blank">https://rendercli.gilbertopachec5.repl.co/</a>.
 </p>
</div>
      </section>
     <section >
         <h1 >B. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m11renderCliente/renclientedistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section >
         <h1 >C. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m11renderCliente/rendercli.zip" download>Descarga el
     ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/rendercli?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/rendercli?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >D. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p><a href="mIautoloadPhp.html">autoload.php</a></p>
      </li>
      <li>
       <p><a href="mJpathPhp.html">path.php</a></p>
      </li>
      <li>
       <p><a href="mKservicioPhp.html">servicio.php</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>srv</p>
   <ul>
    <li>
     <p><a href="mGSrvListaPhp.html">SrvLista.php</a></p>
    </li>
   </ul>
  </li>
  <li>
   <p><a href="mEindexHtml.html">index.html</a></p>
  </li>
  <li>
   <p><a href="mHjsconfigJson.html">jsconfig.json</a></p>
  </li>
  <li>
   <p><a href="mFrenderJs.html">render.js</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >E. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span></div>
  <div>&nbsp;&nbsp;Render en el cliente</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Render en el cliente<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;ul</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"lista"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;progress</span> <span
     style="color: #e50000;">max</span>=<span
     style="color: #0000ff;">"100"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Cargando<span
     style="color: #0000ff;">&amp;hellip;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/progress&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/li&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/ul&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">worker</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Worker</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"render.js"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;{ </span><span
     style="color: #001080;">type</span><span
     style="color: #001080;">:</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"module"</span><span
     style="color: #000000;"> })</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0070c1;">worker</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onmessage</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">render</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{MessageEvent&lt;string&gt;</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;evt
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">render</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">lista</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">innerHTML</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">data</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >F. render.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/*&nbsp;Ejemplo de render en el cliente.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;No se usa import porque Firefox</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;no lo soporta en los
    webworkers.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Literales de objeto que llevan</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;los campos nombre y color.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@typedef</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Object}</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">Elemento</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@property</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@property</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">color</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">render</span> <span
     style="color: #000000;">=</span> <span
     style="color: #795e26;">generaHtmlDeLista</span>([</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">nombre</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"Pepe"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">color</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"azul"</span></div>
  <div>&nbsp;},</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">nombre</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"Cuca"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">color</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"rojo"</span></div>
  <div>&nbsp;},</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">nombre</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"Teté"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">color</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"rosa"</span></div>
  <div>&nbsp;},</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">nombre</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"Bebé"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">color</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"azul"</span></div>
  <div>&nbsp;}])</div>
  <div><span
     style="color: #795e26;">enviaALaPagina</span>(<span
     style="color: #0070c1;">render</span>)</div>
  <div><span
     style="color: #008000;">/*&nbsp;Espera 5 segundos e invoca la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función lista. */</span></div>
  <div><span
     style="color: #795e26;">setTimeout</span>(</div>
  <div>&nbsp;<span
     style="color: #795e26;">procesaListaDelServidor</span>, <span
     style="color: #098658;">5000</span>)</div><br>
  <div><span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">procesaListaDelServidor</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">lista</span> <span
     style="color: #000000;">=</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">fetch</span>(<span
     style="color: #a31515;">"srv/SrvLista.php"</span>))</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">render</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">generaHtmlDeLista</span>(<span
     style="color: #0070c1;">lista</span>)</div>
  <div>&nbsp;<span
     style="color: #795e26;">enviaALaPagina</span>(<span
     style="color: #0070c1;">render</span>)</div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Genera el HTML para mostrar el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;contenido de la lista</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Elemento[]}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">lista</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">generaHtmlDeLista</span>(<span
     style="color: #001080;">lista</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">let</span> <span
     style="color: #001080;">render</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp;<span
     style="color: #af00db;">for</span> (<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">modelo</span> <span
     style="color: #0000ff;">of</span> <span
     style="color: #001080;">lista</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">nombre</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">htmlentities</span>(<span
     style="color: #0070c1;">modelo</span>.<span
     style="color: #001080;">nombre</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">color</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">htmlentities</span>(<span
     style="color: #0070c1;">modelo</span>.<span
     style="color: #001080;">color</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">render</span> <span
     style="color: #000000;">+=</span> <span
     style="color: #008000;">/*&nbsp;html */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;strong&gt;${</span><span
     style="color: #0070c1;">nombre</span><span
     style="color: #800000;">}&lt;/strong&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;br&gt;${</span><span
     style="color: #0070c1;">color</span><span
     style="color: #800000;">}</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/li&gt;</span>`</div>
  <div>&nbsp;}</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">render</span></div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">render</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">enviaALaPagina</span>(<span
     style="color: #001080;">render</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #008000;">/*&nbsp;Verifica si el código corre</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;dentro de un web worker.
    */</span></div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">self</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">instanceof</span> <span
     style="color: #267f99;">WorkerGlobalScope</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/*&nbsp;Envía el render a la página</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;que invocó este web
    worker.*/</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">self</span>.<span
     style="color: #795e26;">postMessage</span>(<span
     style="color: #001080;">render</span>)</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">ejecuta</span>(<span
     style="color: #001080;">fetch</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">resp</span> <span
     style="color: #000000;">=</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #001080;">fetch</span></div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">resp</span>.<span
     style="color: #001080;">ok</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #001080;">resp</span>.<span
     style="color: #795e26;">json</span>()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span> <span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">resp</span>.<span
     style="color: #001080;">status</span> <span
     style="color: #000000;">===</span> <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #795e26;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">await</span> <span
     style="color: #001080;">resp</span>.<span
     style="color: #795e26;">text</span>())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #795e26;">Error</span>(<span
     style="color: #001080;">resp</span>.<span
     style="color: #001080;">statusText</span>)</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Codifica un texto para que</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cambie los caracteres</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;especiales y no se pueda</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;interpretar como HTML. Esta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;técnica evita la inyección de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">texto</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> un texto que</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;no puede interpretarse
    como</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;HTML.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">htmlentities</span>(<span
     style="color: #001080;">texto</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">texto</span>.</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">replace</span>(<span
     style="color: #811f3f;">/</span><span
     style="color: #d16969;">[</span><span
     style="color: #811f3f;">&lt;&gt;"'</span><span
     style="color: #d16969;">]</span><span
     style="color: #811f3f;">/</span><span
     style="color: #0000ff;">g</span>, <span
     style="color: #001080;">reemplaza</span>)</div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Devuelve una cadena de
    reemplazo</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;para evitar que el texto se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;interprete como HTML. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">texto</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">reemplaza</span>(<span
     style="color: #001080;">texto</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">switch</span> (<span
     style="color: #001080;">texto</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">case</span> <span
     style="color: #a31515;">"&lt;"</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"&amp;lt;"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">case</span> <span
     style="color: #a31515;">"&gt;"</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"&amp;gt;"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">case</span> <span
     style="color: #a31515;">'"'</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"&amp;quot;"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">case</span> <span
     style="color: #a31515;">"'"</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"&amp;#039;"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">default</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">texto</span></div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >G. srv / SrvLista.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvLista</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> = [</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"pp"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"azul"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;],</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"kq"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"rojo"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;],</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"tt"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"rosa"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;],</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"bb"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"azul"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvLista</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >H. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aquí su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >I. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >J. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >K. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 class="leccion">12. Renderizado del lado del servidor</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m12renderServidor/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mBdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mCinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mDarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mEindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mFSrvRenderPhp.html">srv / SrvRender.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mGjsconfigJson.html">jsconfig.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mHejecutaJs.html">lib / js / ejecuta.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mImuestraErrorJs.html">lib / js / muestraError.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mJautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mKpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m12renderServidor/mLservicioPhp.html">lib / php / servicio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  En esta lección se presenta un ejemplo de renderizado en el servidor.
 </p>
 <p>
  Puedes probar el ejemplo en
  <a rel="noopener" href="https://renderserv.gilbertopachec5.repl.co/"
    target="_blank">https://renderserv.gilbertopachec5.repl.co/</a>.
 </p>
</div>
      </section>
     <section >
         <h1 >B. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m12renderServidor/renserverdistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section >
         <h1 >C. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m12renderServidor/renderserv.zip" download>Descarga el
     ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/renderserv?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/renderserv?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >D. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>js</p>
     <ul>
      <li>
       <p><a href="mHejecutaJs.html">ejecuta.js</a></p>
      </li>
      <li>
       <p><a href="mImuestraErrorJs.html">muestraError.js</a></p>
      </li>
     </ul>
    </li>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p><a href="mJautoloadPhp.html">autoload.php</a></p>
      </li>
      <li>
       <p><a href="mKpathPhp.html">path.php</a></p>
      </li>
      <li>
       <p><a href="mLservicioPhp.html">servicio.php</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>srv</p>
   <ul>
    <li>
     <p><a href="mFSrvRenderPhp.html">SrvRender.php</a></p>
    </li>
   </ul>
  </li>
  <li>
   <p><a href="mEindexHtml.html">index.html</a></p>
  </li>
  <li>
   <p><a href="mGjsconfigJson.html">jsconfig.json</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >E. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span></div>
  <div>&nbsp;&nbsp;Render en el servidor</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Render en el servidor<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;ul</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"lista"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;progress</span> <span
     style="color: #e50000;">max</span>=<span
     style="color: #0000ff;">"100"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Cargando<span
     style="color: #0000ff;">&amp;hellip;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/progress&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/li&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/ul&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">ejecuta</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">render</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">render</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">render</span><span
     style="color: #000000;"> = </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"srv/SrvRender.php"</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">lista</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">innerHTML</span><span
     style="color: #000000;"> = </span><span
     style="color: #0070c1;">render</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >F. srv / SrvRender.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvRender</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> = [</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"pp"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"azul"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;],</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"kq"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"rojo"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;],</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"tt"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"rosa"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;],</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"bb"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"azul"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> as </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Codifica el nombre para que</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;cambie los
    caracteres</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;especiales y no se
    pueda</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;interpretar como
    HTML. Esta</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;técnica evita la
    inyección de</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;código. */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">[</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;">]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$color</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">[</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;">]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.=</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"&lt;li&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;{</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #a31515;">}&lt;/strong&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;{</span><span
     style="color: #001080;">$color</span><span
     style="color: #a31515;">}</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvRender</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >G. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aquí su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >H. lib / js / ejecuta.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Espera a que la promesa de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fetch termine. Si hay error</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;lanza una excepción. Si no hay</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;error, interpreta la respuesta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;del servidor como JSON y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la convierte en una literal de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;objeto. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta(fetch)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> resp = <span
     style="color: #0000ff;">await</span> fetch</div>
  <div>&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> <span
     style="color: #0000ff;">await</span> resp.json()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span> <span
     style="color: #0000ff;">if</span> (resp.status === <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(resp.statusText)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >I. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >J. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >K. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >L. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 class="leccion">13. Bases de datos</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m13bd/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mBder.html">Diagrama entidad relación</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mBrel.html">Diagrama relacional</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mCdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mDinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mEarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mFjsconfigJson.html">jsconfig.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mGtextos/">Archivos con textos que se mustran al usuario</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mHbd/">Archivos relacionados con la estructura de los datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mIlistados/">Archivos para generar listados</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mJagregar/">Archivos para agregar registros</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mKmodificar/">Archivos para modificar registros</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/">Custom elements</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/">librería de JavaScript</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/">librería de PHP</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  En esta lección se muestra el acceso a bases de datos con servicios.
 </p>
 <p>
  Puedes probar la app en
  <a rel="noopener" href="https://srvbd.gilbertopachec5.repl.co/"
    target="_blank">https://srvbd.gilbertopachec5.repl.co/</a>
 </p>
 <p>
  Para que sea más fácil entender la lección, los archivos se presentan
  agrupados de acuerdo a lo que hacen.
 </p>
</div>
      </section>
     <section >
         <h1 >B. Diagrama entidad relación</h1><figure>
 <img style="max-height: none;"
   src="/img/m13bd/bdentity.drawio.svg"
   alt="Diagrama relacional">
</figure>
      </section>
     <section >
         <h1 >C. Diagrama relacional</h1><figure>
 <img style="max-height: none;"
   src="/img/m13bd/bqrel.drawio.svg"
   alt="Diagrama relacional">
</figure>
      </section>
     <section >
         <h1 >D. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m13bd/bddistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section >
         <h1 >E. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m13bd/srvbd.zip" download>Descarga el ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/srvbd?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/srvbd?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >F. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>js</p>
     <ul>
      <li>
       <p>custom</p>
       <ul>
        <li>
         <p><a
            href="mLcustom/m35boton-agregarJs.html">boton-agregar.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m36boton-eliminarJs.html">boton-eliminar.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m37boton-guardarJs.html">boton-guardar.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m38campo-id-ocultoJs.html">campo-id-oculto.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m39campo-nombre-cargandoJs.html">campo-nombre-cargando.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m40campo-nombreJs.html">campo-nombre.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m41hipervinculo-agregar-agregaJs.html">hipervinculo-agregar-agrega.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m42hipervinculo-cancelar-indexJs.html">hipervinculo-cancelar-index.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m43indica-campos-obligatoriosJs.html">indica-campos-obligatorios.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m44indicador-cargandoJs.html">indicador-cargando.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m45lista-principalJs.html">lista-principal.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p>plantilla</p>
       <ul>
        <li>
         <p><a
            href="mGtextos/mEplantillaNoEsNumeroJs.html">plantillaNoEsNumero.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mGtextos/mFplantillaNoEsTextoJs.html">plantillaNoEsTexto.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p>txt</p>
       <ul>
        <li>
         <p><a
            href="mGtextos/mBtxtConfirmaEliminarJs.html">txtConfirmaEliminar.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p><a href="mMlibjs/m48confirmaEliminarJs.html">confirmaEliminar.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m49ejecutaJs.html">ejecuta.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m50escuchaEventosAgregaJs.html">escuchaEventosAgrega.js</a>
       </p>
      </li>
      <li>
       <p><a
          href="mMlibjs/m51escuchaEventosModificaJs.html">escuchaEventosModifica.js</a>
       </p>
      </li>
      <li>
       <p><a href="mMlibjs/m52MetodoHttpJs.html">MetodoHttp.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m53muestraErrorJs.html">muestraError.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m54muestraNumeroJs.html">muestraNumero.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m55muestraRenderJs.html">muestraRender.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m56muestraTextoJs.html">muestraTexto.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m57parametrosDePaginaJs.html">parametrosDePagina.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m58saltaAIndexJs.html">msaltaAIndex.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m59submitJs.html">submit.js</a></p>
      </li>
     </ul>
    </li>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p>txt</p>
       <ul>
        <li>
         <p><a
            href="mGtextos/mCtxtFaltaElNombrePhp.html">txtFaltaElNombre.php</a>
         </p>
        </li>
      </li>
     </ul>
    </li>
    <li>
     <p><a href="mNlibphp/mQautoloadPhp.html">autoload.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mTleeEnteroPhp.html">leeEntero.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mUleeSinEspaciosInFinPhp.html">leeSinEspaciosInFin.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mLleeTextoPhp.html">leeTexto.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mRpathPhp.html">path.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mVrecibeFetchAllPhp.html">recibeFetchAll.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mSservicioPhp.html">servicio.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mWvalidaPhp.html">valida.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mXvalidaNombreNoVacioPhp.html">validaNombreNoVacio.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mYvalidaTextoNoVacioPhp.html">validaTextoNoVacio.php</a></p>
    </li>
   </ul>
  </li>
 </ul>
 </li>
 <li>
  <p>srv</p>
  <ul>
   <li>
    <p>dao</p>
    <ul>
     <li>
      <p><a href="mHbd/mCAccesoBdPhp.html">accesobd.php</a></p>
     </li>
     <li>
      <p><a href="mHbd/mAbdCreaPhp.html">bdCrea.php</a></p>
     </li>
     <li>
      <p><a href="mjagregar/mCpasatiempoAgregaPhp.html">pasatiempoAgrega.php</a></p>
     </li>
     <li>
      <p><a href="mKmodificar/m21pasatiempoBuscaPhp.html">pasatiempoBusca.php</a></p>
     </li>
     <li>
      <p><a href="mIlistados/mCpasatiempoConsultaPhp.html">pasatiempoConsulta.php</a></p>
     </li>
     <li>
      <p><a href="mKmodificar/m23pasatiempoEliminaPhp.html">pasatiempoElimina.php</a></p>
     </li>
     <li>
      <p><a href="mKmodificar/m22pasatiempoModificaPhp.html">pasatiempoModifica.php</a></p>
     </li>
    </ul>
   </li>
   <li>
    <p>modelo</p>
    <ul>
     <li>
      <p><a href="mHbd/mBPasatiempoPhp.html">pasatiempo.php</a></p>
     </li>
    </ul>
   </li>
   <li>
    <p>txt</p>
    <ul>
     <li>
      <p><a
         href="mGtextos/mDtxtPasatiempoNoEncontradoPhp.html">txtPasatiempoNoEncontrado.php</a>
      </p>
     </li>
    </ul>
   </li>
   <li>
    <p><a href="mjagregar/mBSrvPasatiempoAgrega.html">SrvPasatiempoAgrega.php</a></p>
   </li>
   <li>
    <p><a href="mKmodificar/m24SrvPasatiempoBusca.html">SrvPasatiempoBusca.php</a></p>
   </li>
   <li>
    <p><a href="mIlistados/mBSrvPasatiempoConsulta.html">SrvPasatiempoConsulta.php</a></p>
   </li>
   <li>
    <p><a href="mKmodificar/m26SrvPasatiempoElimina.html">SrvPasatiempoElimina.php</a></p>
   </li>
   <li>
    <p><a href="mKmodificar/m25SrvPasatiempoModifica.html">SrvPasatiempoModifica.php</a>
    </p>
   </li>
  </ul>
 </li>
 <li>
  <p><a href="mjagregar/mAagregaHtml.html">agrega.html</a></p>
 </li>
 <li>
  <p><a href="mIlistados/mAindexHtml.html">index.html</a></p>
 </li>
 <li>
  <p><a href="mFjsconfigJson.html">jsconfig.json</a></p>
 </li>
 <li>
  <p><a href="mKmodificar/m27modificaHtml.html">modifica.html</a></p>
 </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >G. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aquí su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section>
         <h1 >H. Archivos con textos que se mustran al usuario</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m13bd/mGtextos/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mGtextos/mBtxtConfirmaEliminarJs.html">lib /js / txt / txtConfirmaEliminar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mGtextos/mCtxtFaltaElNombrePhp.html">lib / php / txt / txtFaltaElNombre.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mGtextos/mDtxtPasatiempoNoEncontradoPhp.html">srv / txt / txtPasatiempoNoEncontrado.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mGtextos/mEplantillaNoEsNumeroJs.html">lib /js / plantilla / plantillaNoEsNumero.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mGtextos/mFplantillaNoEsTextoJs.html">lib /js / plantilla / plantillaNoEsTexto.js</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. Introducción</h1><div class="lectura">
 <p>
  Estos archivos están en carpetas fácilmente reconocibles para ubicarse
  rápidamente.
 </p>
 <p>
  Devuelven los textos desde funciones para que posteriormente sea fácil
  modificarse para manejar distintos idiomas.
 </p>
 <p>
  Las plantillas reciben parámetros para poder generar correctamente el texto.
  La posición de los parámetros puede cambiar con el idioma.
 </p>
</div>
      </section>
     <section >
         <h1 >2. lib /js / txt / txtConfirmaEliminar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">txtConfirmaEliminar</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Confirma la eliminación"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / php / txt / txtFaltaElNombre.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtFaltaElNombre</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Falta el nombre."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / txt / txtPasatiempoNoEncontrado.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #795e26;">txtPasatiempoNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"Pasatiempo no encontrado."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib /js / plantilla / plantillaNoEsNumero.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">plantillaNoEsNumero</span>(<span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">+</span> <span
     style="color: #a31515;">" no es número."</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib /js / plantilla / plantillaNoEsTexto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{any}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">plantillaNoEsTexto</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">+</span> <span
     style="color: #a31515;">" no es texto."</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >I. Archivos relacionados con la estructura de los datos</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m13bd/mHbd/mAbdCreaPhp.html">srv / dao / bdCrea.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mHbd/mBpasatiempoPhp.html">srv / modelo / pasatiempo.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mHbd/mCaccesobdPhp.html">srv / dao / accesobd.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. srv / dao / bdCrea.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">bdCrea</span><span
     style="color: #000000;">(</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">exec</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">'</span><span
     style="color: #0000ff;">CREATE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">TABLE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">IF</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">EXISTS</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PASATIEMPO (</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAS_ID </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAS_NOMBRE
   </span><span
     style="color: #0000ff;">TEXT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> PAS_PK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">PRIMARY KEY</span><span
     style="color: #a31515;">(PAS_ID),</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> PAS_NOM_UNQ</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">UNIQUE</span><span
     style="color: #a31515;">(PAS_NOMBRE)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;)</span><span
     style="color: #a31515;">'</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / modelo / pasatiempo.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\modelo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/validaNombreNoVacio.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">validaNombreNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / dao / accesobd.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\dao</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/dao/bdCrea.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">\PDO</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">AccesoBd</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span><span
     style="color: #000000;"> ?</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">static</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">(): </span><span
     style="color: #267f99;">PDO</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">conecta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">prepara</span><span
     style="color: #000000;">(</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">conecta</span><span
     style="color: #000000;">(): </span><span
     style="color: #267f99;">PDO</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">// cadena de conexión</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"sqlite:srvbd.db"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">// usuario</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">// contraseña</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::ATTR_ERRMODE =&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::ERRMODE_EXCEPTION]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">prepara</span><span
     style="color: #000000;">(</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">bdCrea</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >J. Archivos para generar listados</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m13bd/mIlistados/mAindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mIlistados/mBSrvPasatiempoConsulta.html">srv / SrvPasatiempoConsulta.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mIlistados/mCpasatiempoConsultaPhp.html">srv / dao / pasatiempoConsulta.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span></div>
  <div>&nbsp;&nbsp;Acceso a base de datos</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/hipervinculo-agregar-agrega.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/lista-principal.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Acceso a base de datos<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;hipervinculo-agregar-agrega&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/hipervinculo-agregar-agrega&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;lista-principal&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/lista-principal&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">ejecuta</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraRender</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraRender.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">render</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">consultaServidor</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraRender</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">lista</span><span
     style="color: #000000;">, </span><span
     style="color: #0070c1;">render</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">consultaServidor</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvPasatiempoConsulta.php"</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / SrvPasatiempoConsulta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoConsulta.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoConsulta</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">pasatiempoConsulta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> as </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.=</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"&lt;li&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;a
    href='modifica.html?id=</span><span
     style="color: #001080;">$id</span><span
     style="color: #a31515;">'&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #a31515;">}&lt;/a&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoConsulta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / dao / pasatiempoConsulta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/recibeFetchAll.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@return</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #0000ff;">[]</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoConsulta</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">query</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_ID </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> id,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_NOMBRE </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> nombre</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">ORDER BY</span><span
     style="color: #a31515;"> PAS_NOMBRE</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetchAll</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_CLASS,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">::</span><span
     style="color: #0000ff;">class</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeFetchAll</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >K. Archivos para agregar registros</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m13bd/mJagregar/mAagregaHtml.html">agrega.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mJagregar/mBSrvPasatiempoAgrega.html">srv / SrvPasatiempoAgrega.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mJagregar/mCpasatiempoAgregaPhp.html">srv / dao / pasatiempoAgrega.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. agrega.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Agregar<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/hipervinculo-cancelar-index.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/boton-agregar.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/campo-nombre.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indica-campos-obligatorios.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Agregar<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-nombre&gt;&lt;/campo-nombre&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;boton-agregar&gt;&lt;/boton-agregar&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">escuchaEventosAgrega</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/escuchaEventosAgrega.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">submit</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/submit.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">saltaAIndex</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/saltaAIndex.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">escuchaEventosAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">agrega</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">agrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">m</span><span
     style="color: #000000;"> = </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">submit</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/SrvPasatiempoAgrega.php"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / SrvPasatiempoAgrega.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"leeSinEspaciosInFin.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoAgrega.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoAgrega</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">pasatiempoAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoAgrega</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / dao / pasatiempoAgrega.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoAgrega</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">INSERT INTO</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(PAS_NOMBRE)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">VALUES</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(:nombre)</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si usas una secuencia para</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;generar el id, pasa como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;parámetro de lastInsertId
    el</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;nombre de dicha secuencia.
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">lastInsertId</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >L. Archivos para modificar registros</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m13bd/mKmodificar/m27modificaHtml.html">modifica.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mKmodificar/m24SrvPasatiempoBusca.html">srv / SrvPasatiempoBusca.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mKmodificar/m25SrvPasatiempoModifica.html">srv / SrvPasatiempoModifica.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mKmodificar/m26SrvPasatiempoElimina.html">srv / SrvPasatiempoElimina.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mKmodificar/m21pasatiempoBuscaPhp.html">srv / dao / pasatiempoBusca.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mKmodificar/m22pasatiempoModificaPhp.html">srv / dao / pasatiempoModifica.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mKmodificar/m23pasatiempoEliminaPhp.html">srv / dao / pasatiempoElimina.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. modifica.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Modificar<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/campo-id-oculto.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/hipervinculo-cancelar-index.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/boton-guardar.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/boton-eliminar.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/campo-nombre-cargando.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indica-campos-obligatorios.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Modificar<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-id-oculto&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/campo-id-oculto&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-nombre-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/campo-nombre-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;boton-guardar&gt;&lt;/boton-guardar&gt;</span>
  </div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;boton-eliminar&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/boton-eliminar&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">ejecuta</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">submit</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/submit.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">parametrosDePagina</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/parametrosDePagina.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">saltaAIndex</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/saltaAIndex.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraNumero</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraNumero.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraTexto</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraTexto.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">escuchaEventosModifica</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/escuchaEventosModifica.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">confirmaEliminar</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/confirmaEliminar.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">parametrosDePagina</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">modelo</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">modelo</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">escuchaEventosModifica</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">modifica</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">btnElimina</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">elimina</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/SrvPasatiempoBusca.php?"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;+ </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraNumero</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">modifica</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">m</span><span
     style="color: #000000;"> = </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">submit</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvPasatiempoModifica.php"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">elimina</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #795e26;">confirmaEliminar</span><span
     style="color: #000000;">())&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvPasatiempoElimina.php?"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / SrvPasatiempoBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoBusca.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"txtPasatiempoNoEncontrado.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoBusca</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">pasatiempoBusca</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtPasatiempoNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / SrvPasatiempoModifica.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"leeSinEspaciosInFin.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoModifica.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoModifica</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">pasatiempoModifica</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoModifica</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / SrvPasatiempoElimina.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoElimina.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoElimina</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">pasatiempoElimina</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoElimina</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. srv / dao / pasatiempoBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoBusca</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">|</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_ID </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> id,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_NOMBRE </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> nombre</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> PAS_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :id</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span><span
     style="color: #a31515;">":id"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">setFetchMode</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_CLASS,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">::</span><span
     style="color: #0000ff;">class</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. srv / dao / pasatiempoModifica.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoModifica</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">UPDATE</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">SET</span><span
     style="color: #a31515;"> PAS_NOMBRE </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :nombre</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> PAS_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :id</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":id"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;]);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. srv / dao / pasatiempoElimina.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoElimina</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">DELETE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> PAS_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :id</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span><span
     style="color: #a31515;">":id"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">]);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >M. Custom elements</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m13bd/mLcustom/m35boton-agregarJs.html">lib / js / custom / boton-agregar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m36boton-eliminarJs.html">lib / js / custom / boton-eliminar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m37boton-guardarJs.html">lib / js / custom / boton-guardar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m38campo-id-ocultoJs.html">lib / js / custom / campo-id-oculto.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m39campo-nombre-cargandoJs.html">lib / js / custom / campo-nombre-cargando.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m40campo-nombreJs.html">lib / js / custom / campo-nombre.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m41hipervinculo-agregar-agregaJs.html">lib / js / custom / hipervinculo-agregar-agrega.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m42hipervinculo-cancelar-indexJs.html">lib / js / custom / hipervinculo-cancelar-index.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m43indica-campos-obligatoriosJs.html">lib / js / custom / indica-campos-obligatorios.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m44indicador-cargandoJs.html">lib / js / custom / indicador-cargando.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mLcustom/m45lista-principalJs.html">lib / js / custom / lista-principal.js</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. lib / js / custom / boton-agregar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">BotonAgregar</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;button&gt;</span>Agregar<span
     style="color: #800000;">&lt;/button&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"boton-agregar"</span>, <span
     style="color: #267f99;">BotonAgregar</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. lib / js / custom / boton-eliminar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">BotonEliminar</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"btnElimina"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"button"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Eliminar</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"boton-eliminar"</span>, <span
     style="color: #267f99;">BotonEliminar</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / js / custom / boton-guardar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">BotonGuardar</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;button&gt;</span>Guardar<span
     style="color: #800000;">&lt;/button&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"boton-guardar"</span>, <span
     style="color: #267f99;">BotonGuardar</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / js / custom / campo-id-oculto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoIdOculto</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"hidden"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"id"</span><span
     style="color: #800000;">&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-id-oculto"</span>, <span
     style="color: #267f99;">CampoIdOculto</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib / js / custom / campo-nombre-cargando.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoNombreCargando</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nombre *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"nombre"</span> <span
     style="color: #e50000;">required</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">value</span>=<span
     style="color: #0000ff;">"Cargando&amp;hellip;"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-nombre-cargando"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">CampoNombreCargando</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib / js / custom / campo-nombre.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoNombre</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nombre *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"nombre"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">required</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-nombre"</span>, <span
     style="color: #267f99;">CampoNombre</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / js / custom / hipervinculo-agregar-agrega.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Hipervínculo para agregar que</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;redirecciona a la página</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;"agrega.html".</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoAgregarAgrega</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;a</span> <span
     style="color: #e50000;">href</span>=<span
     style="color: #0000ff;">"agrega.html"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agregar<span
     style="color: #800000;">&lt;/a&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"hipervinculo-agregar-agrega"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoAgregarAgrega</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / js / custom / hipervinculo-cancelar-index.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Hipervínculo para cancelar que</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;redirecciona a la página</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;"index.html".</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoCancelarIndex</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;a</span> <span
     style="color: #e50000;">href</span>=<span
     style="color: #0000ff;">"index.html"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cancelar<span
     style="color: #800000;">&lt;/a&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"hipervinculo-cancelar-index"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoCancelarIndex</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / js / custom / indica-campos-obligatorios.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span>*&nbsp;Obligatorio<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indica-campos-obligatorios"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. lib / js / custom / indicador-cargando.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">IndicadorCargando</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;progress</span> <span
     style="color: #e50000;">max</span>=<span
     style="color: #0000ff;">"100"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cargando<span
     style="color: #0000ff;">&amp;hellip;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/progress&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indicador-cargando"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicadorCargando</span>)</div>
 </div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. lib / js / custom / lista-principal.js</h1><muestra-codigo>
 <div
   style="color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">
  <div><span
     style="color: #af00db;">import</span> <span
     style="color: #a31515;">"./indicador-cargando.js"</span></div><br>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">ListaPrincipal</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;ul</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"lista"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/ul&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"lista-principal"</span>, <span
     style="color: #267f99;">ListaPrincipal</span>)</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >N. librería de JavaScript</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m48confirmaEliminarJs.html">lib / js / confirmaEliminar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m49ejecutaJs.html">lib / js / ejecuta.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m50escuchaEventosAgregaJs.html">lib / js / escuchaEventosAgrega.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m51escuchaEventosModificaJs.html">lib / js / escuchaEventosModifica.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m52MetodoHttpJs.html">lib / js / MetodoHttp.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m53muestraErrorJs.html">lib / js / muestraError.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m54muestraNumeroJs.html">lib / js / muestraNumero.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m55muestraRenderJs.html">lib / js / muestraRender.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m56muestraTextoJs.html">lib / js / muestraTexto.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m57parametrosDePaginaJs.html">lib / js / parametrosDePagina.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m58saltaAIndexJs.html">lib / js / saltaAIndex.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mMlibjs/m59submitJs.html">lib / js / submit.js</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. lib / js / confirmaEliminar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">txtConfirmaEliminar</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./txt/txtConfirmaEliminar.js"</span></div><br>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">confirmaEliminar</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #795e26;">confirm</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">txtConfirmaEliminar</span>())</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. lib / js / ejecuta.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Espera a que la promesa de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fetch termine. Si hay error</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;lanza una excepción. Si no hay</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;error, interpreta la respuesta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;del servidor como JSON y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la convierte en una literal de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;objeto. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta(fetch)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> resp = <span
     style="color: #0000ff;">await</span> fetch</div>
  <div>&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> <span
     style="color: #0000ff;">await</span> resp.json()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span> <span
     style="color: #0000ff;">if</span> (resp.status === <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(resp.statusText)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / js / escuchaEventosAgrega.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{EventListener}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">agrega</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">escuchaEventosAgrega</span>(<span
     style="color: #001080;">forma</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">agrega</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">forma</span>.<span
     style="color: #795e26;">addEventListener</span>(<span
     style="color: #a31515;">"submit"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">agrega</span>)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / js / escuchaEventosModifica.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{EventListener}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">modifica</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">btnElimina</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{EventListener}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elimina</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">escuchaEventosModifica</span>(<span
     style="color: #001080;">forma</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">modifica</span>, <span
     style="color: #001080;">btnElimina</span>, <span
     style="color: #795e26;">elimina</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">forma</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #a31515;">"submit"</span>, <span
     style="color: #795e26;">modifica</span>)</div>
  <div>&nbsp;<span
     style="color: #001080;">btnElimina</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #a31515;">"click"</span>, <span
     style="color: #795e26;">elimina</span>)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib / js / MetodoHttp.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@enum</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">const</span> <span
     style="color: #267f99;">MetodoHttp</span> <span
     style="color: #000000;">=</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">TRACE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"TRACE"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">OPTIONS</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"OPTIONS"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">CONNECT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"CONNECT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">GET</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"GET"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">HEAD</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"HEAD"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">POST</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"POST"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PUT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PUT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PATCH</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PATCH"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">DELETE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"DELETE"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / js / muestraNumero.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">plantillaNoEsNumero</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./plantilla/plantillaNoEsNumero.js"</span></div>
  <br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@template</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{&nbsp;{value:string}&nbsp;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">E</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{E}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elementoHtml</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{any}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraNumero</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">elementoHtml</span>, <span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">typeof</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">===</span> <span
     style="color: #a31515;">"number"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #000000;">&amp;&amp;</span> <span
     style="color: #000000;">!</span><span
     style="color: #795e26;">isNaN</span>(<span
     style="color: #001080;">valor</span>))&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">elementoHtml</span>.<span
     style="color: #001080;">value</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">valor</span>.<span
     style="color: #795e26;">toString</span>()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">plantillaNoEsNumero</span>(<span
     style="color: #001080;">valor</span>))</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / js / muestraRender.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">lista</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">render</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraRender</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">lista</span>, <span
     style="color: #001080;">render</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">lista</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #001080;">render</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / js / muestraTexto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">plantillaNoEsTexto</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./plantilla/plantillaNoEsTexto.js"</span></div>
  <br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@template</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{&nbsp;{value:string}&nbsp;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">E</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{E}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elementoHtml</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraTexto</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">elementoHtml</span>, <span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">typeof</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">===</span> <span
     style="color: #a31515;">"string"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">elementoHtml</span>.<span
     style="color: #001080;">value</span> <span
     style="color: #000000;">=</span> <span
     style="color: #001080;">valor</span></div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">plantillaNoEsTexto</span>(<span
     style="color: #001080;">valor</span>))</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. lib / js / parametrosDePagina.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">parametrosDePagina</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">URL</span>(<span
     style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span>).</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0070c1;">searchParams</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. lib / js / saltaAIndex.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">saltaAIndex</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"index.html"</span></div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >12. lib / js / submit.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">ejecuta</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./ejecuta.js"</span></div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">MetodoHttp</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./MetodoHttp.js"</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Envía los datos de la forma a
    la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;url con el método POST usando
    la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función ejecuta. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">url</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">submit</span>(<span
     style="color: #001080;">evt</span>, <span
     style="color: #001080;">url</span>, <span
     style="color: #001080;">forma</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">evt</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(<span
     style="color: #795e26;">fetch</span>(<span
     style="color: #001080;">url</span></div>
  <div>&nbsp;&nbsp;,&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">method</span><span
     style="color: #001080;">:</span> <span
     style="color: #267f99;">MetodoHttp</span>.<span
     style="color: #001080;">POST</span></div>
  <div>&nbsp;&nbsp;&nbsp;, <span
     style="color: #001080;">body</span><span
     style="color: #001080;">:</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">FormData</span>(<span
     style="color: #001080;">forma</span>)</div>
  <div>&nbsp;&nbsp;}))</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >O. librería de PHP</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mQautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mTleeEnteroPhp.html">lib / php / leeEntero.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mUleeSinEspaciosInFinPhp.html">lib / php / leeSinEspaciosInFin.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mLleeTextoPhp.html">lib / php / leeTexto.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mRpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mVrecibeFetchAllPhp.html">lib / php / recibeFetchAll.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mSservicioPhp.html">lib / php / servicio.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mWvalidaPhp.html">lib / php / valida.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mXvalidaNombreNoVacioPhp.html">lib / php / validaNombreNoVacio.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m13bd/mNlibphp/mYvalidaTextoNoVacioPhp.html">lib / php / validaTextoNoVacio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. lib / php / leeEntero.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"leeSinEspaciosInFin.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el valor entero de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / php / leeSinEspaciosInFin.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeTexto.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el texto de un</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie. Elimina los espacios al</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;inicio y al final.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">trim</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$parametro</span><span
     style="color: #000000;">));</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / php / leeTexto.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el texto de un</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$paramwtro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si el parámetro está asignado</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;en $_REQUEST, devuelve su</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;valor; de lo contrario,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;devuelve "".</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*/</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">isset</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$paramwtro</span><span
     style="color: #000000;">])</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;? </span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$paramwtro</span><span
     style="color: #000000;">]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;: </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib / php / recibeFetchAll.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeFetchAll</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">|</span><span
     style="color: #0000ff;">array</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$resultado</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / php / valida.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">bool</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$condicion</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (!</span><span
     style="color: #001080;">$condicion</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / php / validaNombreNoVacio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/validaTextoNoVacio.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/txt/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"txtFaltaElNombre.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaNombreNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$nombre</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #795e26;">validaTextoNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtFaltaElNombre</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. lib / php / validaTextoNoVacio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/valida.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaTextoNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$texto</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$texto</span><span
     style="color: #000000;"> !== </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
      </section>
     <section>
         <h1 class="leccion">14. Chat sencillo - Protocolos de comunicación</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <p>
  En esta lección se presentan un chat sencillo.
 </p>
 <p>
  Primero levanta el servidor de websockets ejecutando la app en
  <a rel="noopener" href="https://replit.com/@GilbertoPachec5/chatwss?v=1"
    target="_blank">https://replit.com/@GilbertoPachec5/chatwss?v=1</a>
  (no es un website)
 </p>
 <p>
  Luego lanza el el chat desde varios navegadores y dispositivos ejecutano la
  app en
  <a rel="noopener" href="https://chathtml.gilbertopachec5.repl.co/"
    target="_blank">https://chathtml.gilbertopachec5.repl.co/</a>
 </p>
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m14chat/mAdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mBinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mCchathtml/">chathtml</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mDchatwss/">chatwss</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m14chat/chatdistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section >
         <h1 >B. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    Este ejemplo requiere 2 proyectos
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en chatwss en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/chatwss?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/chatwss?v=1</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto chathtml en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/chathtml" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/chathtml</a>
   </p>
  </li>
  <li>
   <p>
    <a href="/src/m14chat/chatwss.zip" download>Descarga chatwss.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="/src/m14chat/chathtml.zip" download>Descarga chathtml.</a>
   </p>
  </li>
  <li>
   <p>
    chathtml puede correr simultáneamente en varios navegadores y computadoras,
    todos interactuando con la misma instancia de chatwss, obteniendo un chat
    muy simple.
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1VIry7_AW6uT5d7zrATxWeDP7Eb_yffW4/view?usp=sharing"
      target="_blank" rel="nooper">Crea el proyecto chatwss con la categoría
     <em>PHP CLI</em> en Replit y edita o sube los archivos de chatwss.</a>
   </p>
  </li>
  <li>
   <p>
    El archivo <q>chatwss.zip</q> ya contiene la carpeta <q>vendor</q> y el
    archivo <q>composer.lock</q>, pero si quieres crearlos, debes seguir estos
    pasos:
   </p>
   <ol>
    <li>
     <p>
      Instalar composer. Si trabajas desde Replit, los archivos <q>.replit</q> y
      <q>replit.nix</q> de este proyecto lo instalan automáticamente. Para
      Windows, usa el instalador de
      <a
        href="https://getcomposer.org/download/">https://getcomposer.org/download/</a>.
     </p>
    </li>
    <li>
     <p>
      Para Replit, usa la pestaña <q>shell</q>, que ya está posicionada en la
      carpeta del proyecto.
      Si estas en Windows, debes abrir el símbolo del sistema y usar el comando
      <samp>cd</samp> para llegar a la carpeta del proyecto.
     </p>
    </li>
    <li>
     <p>
      Ejecuta el comando
      <br><samp>composer update</samp>
     </p>
    </li>
   </ol>
  </li>
  <li>
   <p>
    Haz clic en el botón <q>Run</q>. En la página de desarrollo, en la pestaña
    Console aparece la salida del servidor. Puedes observar cuando levanta o
    alguien se conecta o los mensajes que envía. También aparecerán algunos
    avisos, que aunque llenan la consola, no impiden que el servidor funcione
    correctamente.
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1XgYDkmFqbFlCgkcCNEnW8O2AL5HfKyy-/view?usp=sharing"
      target="_blank" rel="nooper">Crea el proyecto chathtml con la
     categoría
     <em>HTML, CSS, JS</em> en Replit  y edita o sube los archivos de chathtml.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section>
         <h1 >C. chathtml</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m14chat/mCchathtml/mAarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mCchathtml/mAindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mCchathtml/m43indica-campos-obligatoriosJs.html">lib / js / custom / indica-campos-obligatorios.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mCchathtml/m44indicador-cargandoJs.html">lib / js / custom / indicador-cargando.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mCchathtml/mBtxtConectadoJs.html">lib /js / txt / txtConectado.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mCchathtml/mBtxtConexionTerminadaJs.html">lib /js / txt / txtConexionTerminada.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mCchathtml/mBtxtErrorEnLaConexionJs.html">lib /js / txt / txtErrorEnLaConexion.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mCchathtml/m53errorEnWebSocketJs.html">lib / js / errorEnWebSocket.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mCchathtml/m53muestraErrorJs.html">lib / js / muestraError.js</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>js</p>
     <ul>
      <li>
       <p>custom</p>
       <ul>
        <li>
         <p><a
            href="m43indica-campos-obligatoriosJs.html">indica-campos-obligatorios.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="m44indicador-cargandoJs.html">indicador-cargando.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p>txt</p>
       <ul>
        <li>
         <p><a
            href="mBtxtConectadoJs.html">txtConectado.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mBtxtConexionTerminadaJs.html">txtConexionTerminada.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mBtxtErrorEnLaConexionJs.html">txtErrorEnLaConexion.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p><a href="m53errorEnWebSocketJs.html">errorEnWebSocket.js</a></p>
      </li>
      <li>
       <p><a href="m53muestraErrorJs.html">muestraError.js</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p><a href="mAindexHtml.html">index.html</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >2. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span> <span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Chat<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indicador-cargando.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indica-campos-obligatorios.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Chat<span
     style="color: #800000;">&lt;/h1&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Alias *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"alias"</span> <span
     style="color: #e50000;">required</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Mensaje *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"mensaje"</span> <span
     style="color: #e50000;">required</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indica-campos-obligatorios&gt;</span></div>
  <br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;button&gt;</span>Enviar<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;pre</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"pre"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/pre&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">muestraError</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">errorEnWebSocket</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/errorEnWebSocket.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">txtConectado</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/txt/txtConectado.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">txtConexionTerminada</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/txt/txtConexionTerminada.js"</span></div>
  <br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Cambia la url por la de tu</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;servicio. */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">WebSocket</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"wss://chatwss.gilbertopachec5.repl.co/"</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onopen</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">webSocketAbierto</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onmessage</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">recibeMensaje</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onerror</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">errorEnWebSocket</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onclose</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">webSocketCerrado</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">webSocketAbierto</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">console</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">log</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">txtConectado</span><span
     style="color: #000000;">())</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">pre</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">textContent</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">""</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">addEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"submit"</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">enviaMensaje</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{MessageEvent}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeMensaje</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">pre</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">textContent</span><span
     style="color: #000000;"> +=</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">data</span><span
     style="color: #000000;"> + </span><span
     style="color: #a31515;">"</span><span
     style="color: #ee0000;">\n\n</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">enviaMensaje</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">preventDefault</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">`</span><span
     style="color: #0000ff;">${</span><span
     style="color: #001080;">alias</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">value</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">trim</span><span
     style="color: #000000;">()</span><span
     style="color: #0000ff;">}</span></div>
  <div><span
     style="color: #0000ff;">${</span><span
     style="color: #001080;">mensaje</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">value</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">trim</span><span
     style="color: #000000;">()</span><span
     style="color: #0000ff;">}</span><span
     style="color: #a31515;">`</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">send</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;">)</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">webSocketCerrado</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">console</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">log</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">alert</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">txtConexionTerminada</span><span
     style="color: #000000;">())</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">removeEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"submit"</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">envia</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / js / custom / indica-campos-obligatorios.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span>*&nbsp;Obligatorio<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indica-campos-obligatorios"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / js / custom / indicador-cargando.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">IndicadorCargando</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;progress</span> <span
     style="color: #e50000;">max</span>=<span
     style="color: #0000ff;">"100"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cargando<span
     style="color: #0000ff;">&amp;hellip;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/progress&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indicador-cargando"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicadorCargando</span>)</div>
 </div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib /js / txt / txtConectado.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">txtConectado</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Conectado"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib /js / txt / txtConexionTerminada.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">txtConexionTerminada</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Conexión terminada"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib /js / txt / txtErrorEnLaConexion.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">txtErrorEnLaConexion</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Error en la conexión."</span></div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / js / errorEnWebSocket.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">txtErrorEnLaConexion</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./txt/txtErrorEnLaConexion.js"</span></div><br>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">errorEnWebSocket</span>(<span
     style="color: #001080;">evt</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">console</span>.<span
     style="color: #795e26;">error</span>(<span
     style="color: #001080;">evt</span>)</div>
  <div>&nbsp;<span
     style="color: #795e26;">alert</span>(<span
     style="color: #795e26;">txtErrorEnLaConexion</span>())</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >D. chatwss</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m14chat/mDchatwss/mAarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mDchatwss/mEChatPhp.html">srv / chat.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mDchatwss/mFmainPhp.html">main.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mDchatwss/mDComposerJson.html">composer.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mDchatwss/mBReplit.html">.replit</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mDchatwss/mCreplitNix.html">replit.nix</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mDchatwss/mQautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m14chat/mDchatwss/mRpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p><a href="mQautoloadPhp.html">autoload.php</a></p>
      </li>
      <li>
       <p><a href="mRpathPhp.html">path.php</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>srv</p>
   <ul>
    <li>
     <p><a href="mEChatPhp.html">chat.php</a></p>
    </li>
   </ul>
  </li>
  <li>
   <p>vendor</p>
  </li>
  <li>
   <p><a href="mBReplit.html">.replit</a></p>
  </li>
  <li>
   <p><a href="mDComposerJson.html">composer.json</a></p>
  </li>
  <li>
   <p>composer.lock</p>
  </li>
  <li>
   <p><a href="mFmainPhp.html">main.php</a></p>
  </li>
  <li>
   <p><a href="mCreplitNix.html">replit.nix</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >2. srv / chat.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Srv</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">\SplObjectStorage</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span></div>
  <div><span
     style="color: #000000;">&nbsp;Ratchet\</span><span
     style="color: #267f99;">MessageComponentInterface</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Ratchet\</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Chat</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">implements</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">MessageComponentInterface</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;SplObjectStorage </span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">__construct</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">// Crea un arreglo de objetos.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">conexiones</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SplObjectStorage</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">onOpen</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span></div>
  <div><span
     style="color: #000000;">&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">// Guarda la conexión.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">conexiones</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">attach</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">resourceId</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">echo</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Conectado: "</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">resourceId</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"</span><span
     style="color: #ee0000;">\n</span><span
     style="color: #a31515;">"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">onMessage</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$origen</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$msg</span></div>
  <div><span
     style="color: #000000;">&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">conexiones</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$origen</span><span
     style="color: #000000;">];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">echo</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #a31515;">Origen:&nbsp;{</span><span
     style="color: #001080;">$id</span><span
     style="color: #a31515;">}</span></div>
  <div><span
     style="color: #a31515;">Mensaje: </span><span
     style="color: #001080;">$msg</span><span
     style="color: #ee0000;">\n</span><span
     style="color: #a31515;">"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">conexiones</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;as </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">send</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$msg</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">onClose</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span></div>
  <div><span
     style="color: #000000;">&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">conexiones</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">detach</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">echo</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Desconectado: "</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">resourceId</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"</span><span
     style="color: #ee0000;">\n</span><span
     style="color: #a31515;">"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">onError</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">\Exception</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$e</span></div>
  <div><span
     style="color: #000000;">&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">echo</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Error: "</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$e</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">getMessage</span><span
     style="color: #000000;">() </span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"</span><span
     style="color: #ee0000;">\n</span><span
     style="color: #a31515;">"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">close</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. main.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">'/vendor/autoload.php'</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Srv\</span><span
     style="color: #267f99;">Chat</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Ratchet\Server\</span><span
     style="color: #267f99;">IoServer</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Ratchet\Http\</span><span
     style="color: #267f99;">HttpServer</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Ratchet\WebSocket\</span><span
     style="color: #267f99;">WsServer</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #001080;">$server</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">IoServer</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">factory</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">HttpServer</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">WsServer</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Chat</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;)</span></div>
  <div><span
     style="color: #000000;">&nbsp;),</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #098658;">80</span></div>
  <div><span
     style="color: #000000;">);</span></div><br>
  <div><span
     style="color: #001080;">$server</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">run</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. composer.json</h1><muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"require"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"cboden/ratchet"</span>: <span
     style="color: #a31515;">"^0.4.4"</span></div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. .replit</h1><muestra-codigo>
 <div>run = ["php", "main.php"]</div>
 <div><br></div>
 <div>entrypoint = "main.php"</div>
 <div><br></div>
 <div>[nix]</div>
 <div>channel = "stable-22_11"</div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. replit.nix</h1><muestra-codigo>
 <div>{ pkgs }:&nbsp;{</div>
 <div>&nbsp;&nbsp;deps = [</div>
 <div>&nbsp;&nbsp;&nbsp;&nbsp;pkgs.php82</div>
 <div>&nbsp;&nbsp;&nbsp;&nbsp;pkgs.php82Packages.composer</div>
 <div>&nbsp;&nbsp;];</div>
 <div>}</div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
      </section>
      </section>
     <section>
         <h1 class="leccion">15. Chat serio</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <p>
  En esta lección se presentan un chat con moderador.
 </p>
 <p>
  Primero levanta el servidor de websockets ejecutando la app en
  <a rel="noopener" href="https://replit.com/@GilbertoPachec5/chatseriowss?v=1"
    target="_blank">https://replit.com/@GilbertoPachec5/chatseriowss?v=1</a>
  (no es un website)
 </p>
 <p>
  Luego lanza el el chat desde varios navegadores y dispositivos ejecutano la
  app en
  <a rel="noopener" href="https://chatseriohtm.gilbertopachec5.repl.co/"
    target="_blank">https://chatseriohtm.gilbertopachec5.repl.co/</a>
 </p>
 <p>
  El chat te castiga cuando envías un mensaje que lleve la
  palabra <em>wey</em>. Para que te levante el castigo, debes enviar la palabra
  <em>perdóname</em>.
 </p>
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m15chatserio/mAdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mBinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/">chatseriohtm</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/">chatseriowss</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m15chatserio/chatseriodistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section >
         <h1 >B. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    Este ejemplo requiere 2 proyectos
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en chatseriowss en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/chatseriowss?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/chatseriowss?v=1</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto chatseriohtm en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/chatseriohtm?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/chatseriohtm?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="/src/m15chatserio/chatseriowss.zip" download>Descarga chatseriowss.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="/src/m15chatserio/chatseriohtm.zip" download>Descarga chatseriohtm.</a>
   </p>
  </li>
  <li>
   <p>
    chatseriohtm puede correr simultáneamente en varios navegadores y
    computadoras, todos interactuando con la misma instancia de chatseriowss,
    obteniendo un chat que te castiga cuando envías un mensaje que lleve la
    palabra wey. Para que te levante el castigo, debes enviar la palabra
    perdóname.
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1VIry7_AW6uT5d7zrATxWeDP7Eb_yffW4/view?usp=sharing"
      target="_blank" rel="nooper">Crea el proyecto chatwss con la categoría
     <em>PHP CLI</em> en Replit y edita o sube los archivos de este
     proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    El zip mencionado anteriormente ya contiene la carpeta <q>vendor</q> y el
    archivo <q>composer.lock</q>, pero si quieres crearlos, debes seguir estos
    pasos:
   </p>
   <ol>
    <li>
     <p>
      Instalar composer. Si trabajas desde Replit, los archivos <q>.replit</q> y
      <q>replit.nix</q> de este proyecto lo instalan automáticamente. Para
      Windows, usa el instalador de
      <a
        href="https://getcomposer.org/download/">https://getcomposer.org/download/</a>.
     </p>
    </li>
    <li>
     <p>
      Para Replit, usa la pestaña <q>Shell</q>, que ya está posicionada en la
      carpeta del proyecto.
      Si estas en Windows, debes abrir el símbolo del sistema y usar el comando
      <samp>cd</samp> para llegar a la carpeta del proyecto.
     </p>
    </li>
    <li>
     <p>
      Ejecuta el comando
      <br><samp>composer update</samp>
     </p>
    </li>
   </ol>
  </li>
  <li>
   <p>
    Haz clic en el botón <q>Run</q>. En la página de desarrollo, en la pestaña
    Console aparece la salida del servidor. Puedes observar cuando levanta o
    alguien se conecta o los mensajes que envía. También aparecerán algunos
    avisos, que aunque llenan la consola, no impiden que el servidor funcione
    correctamente.
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1XgYDkmFqbFlCgkcCNEnW8O2AL5HfKyy-/view?usp=sharing"
      target="_blank" rel="nooper">Crea el proyecto chathtml con la
     categoría
     <em>HTML, CSS, JS</em> en Replit y edita o sube los archivos de chatseriohtm.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section>
         <h1 >C. chatseriohtm</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/mAarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/mAindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/m43indica-campos-obligatoriosJs.html">lib / js / custom / indica-campos-obligatorios.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/m44indicador-cargandoJs.html">lib / js / custom / indicador-cargando.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/mBtxtConectadoJs.html">lib /js / txt / txtConectado.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/mBtxtConexionTerminadaJs.html">lib /js / txt / txtConexionTerminada.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/mBtxtErrorEnLaConexionJs.html">lib /js / txt / txtErrorEnLaConexion.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/m53errorEnWebSocketJs.html">lib / js / errorEnWebSocket.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mCchatseriohtml/m53muestraErrorJs.html">lib / js / muestraError.js</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>js</p>
     <ul>
      <li>
       <p>custom</p>
       <ul>
        <li>
         <p><a
            href="m43indica-campos-obligatoriosJs.html">indica-campos-obligatorios.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="m44indicador-cargandoJs.html">indicador-cargando.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p>txt</p>
       <ul>
        <li>
         <p><a
            href="mBtxtConectadoJs.html">txtConectado.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mBtxtConexionTerminadaJs.html">txtConexionTerminada.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mBtxtErrorEnLaConexionJs.html">txtErrorEnLaConexion.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p><a href="m53errorEnWebSocketJs.html">errorEnWebSocket.js</a></p>
      </li>
      <li>
       <p><a href="m53muestraErrorJs.html">muestraError.js</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p><a href="mAindexHtml.html">index.html</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >2. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Chat Serio<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indicador-cargando.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indica-campos-obligatorios.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Chat Serio<span
     style="color: #800000;">&lt;/h1&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;No puedes usar la palabra wey.</div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Alias *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"outAlias"</span> <span
     style="color: #e50000;">required</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Mensaje *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"outMensaje"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">required</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indica-campos-obligatorios&gt;</span></div>
  <br>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;button&gt;</span>Enviar<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;pre</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"pre"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/pre&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">muestraError</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">errorEnWebSocket</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/errorEnWebSocket.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">txtConectado</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/txt/txtConectado.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">txtConexionTerminada</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/txt/txtConexionTerminada.js"</span>
  </div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Cambia la url por la de tu</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;servicio. */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">WebSocket</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"wss://chatseriowss.gilbertopachec5.repl.co/"</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onopen</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">webSocketAbierto</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onmessage</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">recibeMensaje</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onerror</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">errorEnWebSocket</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onclose</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">webSocketCerrado</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">webSocketAbierto</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">console</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">log</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">txtConectado</span><span
     style="color: #000000;">())</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">pre</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">textContent</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">""</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">addEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"submit"</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">enviaMensaje</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{MessageEvent}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeMensaje</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">data</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">JSON</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">parse</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">pre</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">textContent</span><span
     style="color: #000000;"> +=</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">`</span><span
     style="color: #0000ff;">${</span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">alias</span><span
     style="color: #0000ff;">}</span></div>
  <div><span
     style="color: #0000ff;">${</span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">mensaje</span><span
     style="color: #0000ff;">}</span></div><br>
  <div><span
     style="color: #a31515;">`</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">enviaMensaje</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">preventDefault</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">alias</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">outAlias</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">value</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">trim</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">mensaje</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">outMensaje</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">value</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">trim</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ </span><span
     style="color: #001080;">alias</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">mensaje</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">JSON</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">stringify</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">info</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">ws</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">send</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">msg</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">webSocketCerrado</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">console</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">log</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">alert</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">txtConexionTerminada</span><span
     style="color: #000000;">())</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">removeEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"submit"</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">envia</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / js / custom / indica-campos-obligatorios.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span>*&nbsp;Obligatorio<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indica-campos-obligatorios"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / js / custom / indicador-cargando.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">IndicadorCargando</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;progress</span> <span
     style="color: #e50000;">max</span>=<span
     style="color: #0000ff;">"100"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cargando<span
     style="color: #0000ff;">&amp;hellip;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/progress&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indicador-cargando"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicadorCargando</span>)</div>
 </div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib /js / txt / txtConectado.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">txtConectado</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Conectado"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib /js / txt / txtConexionTerminada.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">txtConexionTerminada</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Conexión terminada"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib /js / txt / txtErrorEnLaConexion.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">txtErrorEnLaConexion</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Error en la conexión."</span></div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / js / errorEnWebSocket.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">txtErrorEnLaConexion</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./txt/txtErrorEnLaConexion.js"</span></div><br>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">errorEnWebSocket</span>(<span
     style="color: #001080;">evt</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">console</span>.<span
     style="color: #795e26;">error</span>(<span
     style="color: #001080;">evt</span>)</div>
  <div>&nbsp;<span
     style="color: #795e26;">alert</span>(<span
     style="color: #795e26;">txtErrorEnLaConexion</span>())</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >D. chatseriowss</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mAarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mEchatserioPhp.html">srv / chatserio.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mFmainPhp.html">main.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mDComposerJson.html">composer.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mBReplit.html">.replit</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mCreplitNix.html">replit.nix</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mQautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mRpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mDtxtAdministradorPhp.html">srv / txt / txtAdministrador.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mDtxtCastigadoPhp.html">srv / txt / txtCastigado.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m15chatserio/mDchatseriowss/mDtxtPerdonamePhp.html">srv / txt / txtPerdoname.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p><a href="mQautoloadPhp.html">autoload.php</a></p>
      </li>
      <li>
       <p><a href="mRpathPhp.html">path.php</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>srv</p>
   <ul>
    <li>
     <p>txt</p>
     <ul>
      <li>
       <p><a
          href="mDtxtAdministradorPhp.html">txtAdministrador.php</a>
       </p>
      </li>
      <li>
       <p><a
          href="mDtxtCastigadoPhp.html">txtCastigado.php</a>
       </p>
      </li>
      <li>
       <p><a
          href="mDtxtPerdonamePhp.html">txtPerdoname.php</a>
       </p>
      </li>
     </ul>
    </li>
    <li>
     <p><a href="mEchatserioPhp.html">chatserio.php</a></p>
    </li>
   </ul>
  </li>
  <li>
   <p>vendor</p>
  </li>
  <li>
   <p><a href="mBReplit.html">.replit</a></p>
  </li>
  <li>
   <p><a href="mDComposerJson.html">composer.json</a></p>
  </li>
  <li>
   <p>composer.lock</p>
  </li>
  <li>
   <p><a href="mFmainPhp.html">main.php</a></p>
  </li>
  <li>
   <p><a href="mCreplitNix.html">replit.nix</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >2. srv / chatserio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Srv</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtAdministrador.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtCastigado.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtPerdoname.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">\SplObjectStorage</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span></div>
  <div><span
     style="color: #000000;">&nbsp;Ratchet\</span><span
     style="color: #267f99;">MessageComponentInterface</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Ratchet\</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> ID = </span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> ALIAS = </span><span
     style="color: #a31515;">"alias"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> MENSAJE = </span><span
     style="color: #a31515;">"mensaje"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> CASTIGADO = </span><span
     style="color: #a31515;">"castigado"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">ChatSerio</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">implements</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">MessageComponentInterface</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span></div>
  <div><span
     style="color: #000000;">&nbsp;SplObjectStorage </span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$msgCastigado</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$perdoname</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">__construct</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">// Crea un arreglo de objetos.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">conexiones</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SplObjectStorage</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">perdoname</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtPerdoname</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$info_castigado</span><span
     style="color: #000000;"> = [</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;ALIAS =&gt; </span><span
     style="color: #795e26;">txtAdministrador</span><span
     style="color: #000000;">(),</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;MENSAJE =&gt; </span><span
     style="color: #795e26;">txtCastigado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">msgCastigado</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">json_encode</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$info_castigado</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">onOpen</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span></div>
  <div><span
     style="color: #000000;">&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">// Guarda la conexión.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">conexiones</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">attach</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;ID =&gt; </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">resourceId</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;CASTIGADO =&gt;
   </span><span
     style="color: #0000ff;">false</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">echo</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Conectado: "</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">resourceId</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"</span><span
     style="color: #ee0000;">\n</span><span
     style="color: #a31515;">"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">onMessage</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$origen</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$msg</span></div>
  <div><span
     style="color: #000000;">&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">conexiones</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$info</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$origen</span><span
     style="color: #000000;">];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$info</span><span
     style="color: #000000;">[ID];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$castigado</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$info</span><span
     style="color: #000000;">[CASTIGADO];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$json</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">json_decode</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$msg</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$alias</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$json</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">alias</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$mensaje</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$json</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">mensaje</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$castigado</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$mensaje</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">perdoname</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$castigado</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$origen</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">send</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">msgCastigado</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">elseif</span><span
     style="color: #000000;"> (</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">preg_match</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #811f3f;">"/(</span><span
     style="color: #000000;">^</span><span
     style="color: #811f3f;">|\s</span><span
     style="color: #000000;">+</span><span
     style="color: #811f3f;">)wey(</span><span
     style="color: #000000;">$</span><span
     style="color: #811f3f;">|\s</span><span
     style="color: #000000;">+</span><span
     style="color: #811f3f;">)/i"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$mensaje</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;!== </span><span
     style="color: #098658;">0</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$castigado</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">true</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$origen</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">send</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">msgCastigado</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$info</span><span
     style="color: #000000;">[CASTIGADO] = </span><span
     style="color: #001080;">$castigado</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$origen</span><span
     style="color: #000000;">] = </span><span
     style="color: #001080;">$info</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$casStr</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$castigado</span><span
     style="color: #000000;"> ? </span><span
     style="color: #a31515;">"true"</span><span
     style="color: #000000;"> : </span><span
     style="color: #a31515;">"false"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">echo</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #a31515;">Origen:&nbsp;{</span><span
     style="color: #001080;">$id</span><span
     style="color: #a31515;">}</span></div>
  <div><span
     style="color: #a31515;">Castigado:&nbsp;{</span><span
     style="color: #001080;">$casStr</span><span
     style="color: #a31515;">}</span></div>
  <div><span
     style="color: #a31515;">alias:&nbsp;{</span><span
     style="color: #001080;">$alias</span><span
     style="color: #a31515;">}</span></div>
  <div><span
     style="color: #a31515;">Mensaje:&nbsp;{</span><span
     style="color: #001080;">$mensaje</span><span
     style="color: #a31515;">}</span></div>
  <div><span
     style="color: #a31515;">"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">rewind</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">while</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valid</span><span
     style="color: #000000;">())&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">current</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$info</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">getInfo</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">var_dump</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$info</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (!</span><span
     style="color: #001080;">$info</span><span
     style="color: #000000;">[CASTIGADO])&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">send</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$msg</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$conexiones</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">next</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">onClose</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span></div>
  <div><span
     style="color: #000000;">&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">conexiones</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">detach</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">echo</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Desconectado: "</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">resourceId</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"</span><span
     style="color: #ee0000;">\n</span><span
     style="color: #a31515;">"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">onError</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">ConnectionInterface</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">\Exception</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$e</span></div>
  <div><span
     style="color: #000000;">&nbsp;)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">echo</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Error: "</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$e</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">getMessage</span><span
     style="color: #000000;">() </span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"</span><span
     style="color: #ee0000;">\n</span><span
     style="color: #a31515;">"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">close</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. main.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">'/vendor/autoload.php'</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Srv\</span><span
     style="color: #267f99;">ChatSerio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Ratchet\Server\</span><span
     style="color: #267f99;">IoServer</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Ratchet\Http\</span><span
     style="color: #267f99;">HttpServer</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> Ratchet\WebSocket\</span><span
     style="color: #267f99;">WsServer</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #001080;">$server</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">IoServer</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">factory</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">HttpServer</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">WsServer</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">ChatSerio</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;)</span></div>
  <div><span
     style="color: #000000;">&nbsp;),</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #098658;">80</span></div>
  <div><span
     style="color: #000000;">);</span></div><br>
  <div><span
     style="color: #001080;">$server</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">run</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. composer.json</h1><muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"require"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"cboden/ratchet"</span>: <span
     style="color: #a31515;">"^0.4.4"</span></div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. .replit</h1><muestra-codigo>
 <div>run = ["php", "main.php"]</div>
 <div><br></div>
 <div>entrypoint = "main.php"</div>
 <div><br></div>
 <div>[nix]</div>
 <div>channel = "stable-22_11"</div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. replit.nix</h1><muestra-codigo>
 <div>{ pkgs }:&nbsp;{</div>
 <div>&nbsp;&nbsp;deps = [</div>
 <div>&nbsp;&nbsp;&nbsp;&nbsp;pkgs.php82</div>
 <div>&nbsp;&nbsp;&nbsp;&nbsp;pkgs.php82Packages.composer</div>
 <div>&nbsp;&nbsp;];</div>
 <div>}</div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. srv / txt / txtAdministrador.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtAdministrador</span><span
     style="color: #000000;">(): </span><span
     style="color: #0000ff;">string</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Administrador"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. srv / txt / txtCastigado.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtCastigado</span><span
     style="color: #000000;">(): </span><span
     style="color: #0000ff;">string</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Castigado."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. srv / txt / txtPerdoname.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtPerdoname</span><span
     style="color: #000000;">(): </span><span
     style="color: #0000ff;">string</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"perdóname"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
      </section>
     <section >
         <h1 >16. Ejemplo de streaming</h1><iframe src="/src/m15streaming/youtube.html" height="415"></iframe>
<p class="noPrint">
 <a href="/src/m15streaming/youtube.html" target="_blank" rel="nooper">Ábrelo
  en otra pestaña.</a>
</p>
<muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #ff0000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span style="color: #800000;">&lt;html</span> <span
     style="color: #ff0000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;title&gt;</span>YouTube<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>YouTube<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span style="color: #800000;">&lt;iframe</span> <span
     style="color: #ff0000;">width</span>=<span
     style="color: #0000ff;">"560"</span> <span
     style="color: #ff0000;">height</span>=<span
     style="color: #0000ff;">"315"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">src</span>=<span
     style="color: #0000ff;">"https://www.youtube.com/embed/DiItGE3eAyQ"</span>
  </div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">frameborder</span>=<span
     style="color: #0000ff;">"0"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">allow</span>=<span
     style="color: #0000ff;">"accelerometer; autoplay; encrypted-media;
    gyroscope; picture-in-picture"</span></div>
  <div>&nbsp; &nbsp;<span style="color: #ff0000;">allowfullscreen</span><span
     style="color: #800000;">&gt;&lt;/iframe&gt;</span></div>
  <div><span style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section>
         <h1 class="leccion">17. Relaciones a uno en la base de datos</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m17auno/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mBder.html">Diagrama entidad relación</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mBrel.html">Diagrama relacional</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mCdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mDinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mEarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mFjsconfigJson.html">jsconfig.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mGtextos/">Archivos con textos que se mustran al usuario</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mHbd/">Archivos relacionados con la estructura de los datos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mHjs/">Archivos de JavaScript</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mIlistados/">Archivos para generar listados</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mJagregar/">Archivos para agregar registros</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mKmodificar/">Archivos para modificar registros</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/">Custom elements</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/">librería de JavaScript</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/">librería de PHP</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  En esta lección se muestra el acceso a bases de datos que implementan
  relaciones a uno, usando servicios.
 </p>
 <p>
  Puedes probar la app en
  <a rel="noopener" href="https://srvauno.gilbertopachec5.repl.co/"
    target="_blank">https://srvauno.gilbertopachec5.repl.co/</a>
 </p>
 <p>
  La técnica aquí mostrada se usa en el lado con la llave foránea de las
  asocioaciones uno a uno y uno a muchos.
 </p>
 <p>
  Para que sea más fácil entender la lección, los archivos se presentan
  agrupados de acuerdo a lo que hacen.
 </p>
</div>
      </section>
     <section >
         <h1 >B. Diagrama entidad relación</h1><figure>
 <img style="max-height: none;"
   src="/img/m17auno/aunoder.drawio.svg"
   alt="Diagrama entidad relación">
</figure>
      </section>
     <section >
         <h1 >C. Diagrama relacional</h1><figure>
 <img style="max-height: none;"
   src="/img/m17auno/aunorel.drawio.svg"
   alt="Diagrama entidad relación">
</figure>
      </section>
     <section >
         <h1 >D. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m17auno/aunodeploy.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section >
         <h1 >E. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m17auno/srvauno.zip" download>Descarga el ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/srvauno?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/srvauno?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >F. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>js</p>
   <ul>
    <li>
     <p>custom</p>
     <ul>
      <li>
       <p><a
          href="mHjs/mAcampo-pasatiempoJs.html">campo-pasatiempo.js</a>
       </p>
      </li>
     </ul>
    </li>
    <li>
     <p><a
        href="mHjs/mBdescargaPasatiempoOpcionesJs.html">descargaPasatiempoOpciones.js</a>
     </p>
    </li>
   </ul>
  </li>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>js</p>
     <ul>
      <li>
       <p>custom</p>
       <ul>
        <li>
         <p><a
            href="mLcustom/m35boton-agregarJs.html">boton-agregar.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m36boton-eliminarJs.html">boton-eliminar.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m37boton-guardarJs.html">boton-guardar.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m38campo-id-ocultoJs.html">campo-id-oculto.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m39campo-nombre-cargandoJs.html">campo-nombre-cargando.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m40campo-nombreJs.html">campo-nombre.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m41hipervinculo-agregar-agregaJs.html">hipervinculo-agregar-agrega.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m42hipervinculo-cancelar-indexJs.html">hipervinculo-cancelar-index.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m43indica-campos-obligatoriosJs.html">indica-campos-obligatorios.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m44indicador-cargandoJs.html">indicador-cargando.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mLcustom/m45lista-principalJs.html">lista-principal.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p>plantilla</p>
       <ul>
        <li>
         <p><a
            href="mGtextos/mEplantillaNoEsNumeroJs.html">plantillaNoEsNumero.js</a>
         </p>
        </li>
        <li>
         <p><a
            href="mGtextos/mFplantillaNoEsTextoJs.html">plantillaNoEsTexto.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p>txt</p>
       <ul>
        <li>
         <p><a
            href="mGtextos/mBtxtConfirmaEliminarJs.html">txtConfirmaEliminar.js</a>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p><a href="mMlibjs/m48confirmaEliminarJs.html">confirmaEliminar.js</a>
       </p>
      </li>
      <li>
       <p><a href="mMlibjs/m49ejecutaJs.html">ejecuta.js</a></p>
      </li>
      <li>
       <p><a
          href="mMlibjs/m50escuchaEventosAgregaJs.html">escuchaEventosAgrega.js</a>
       </p>
      </li>
      <li>
       <p><a
          href="mMlibjs/m51escuchaEventosModificaJs.html">escuchaEventosModifica.js</a>
       </p>
      </li>
      <li>
       <p><a href="mMlibjs/m52MetodoHttpJs.html">MetodoHttp.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m53muestraErrorJs.html">muestraError.js</a></p>
      </li>
      <li>
       <p><a
          href="mMlibjs/m53muestraForaneaNumericaJs.html">muestraForaneaNumerica.js</a>
       </p>
      </li>
      <li>
       <p><a href="mMlibjs/m54muestraNumeroJs.html">muestraNumero.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m55muestraRenderJs.html">muestraRender.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m56muestraTextoJs.html">muestraTexto.js</a></p>
      </li>
      <li>
       <p><a
          href="mMlibjs/m57parametrosDePaginaJs.html">parametrosDePagina.js</a>
       </p>
      </li>
      <li>
       <p><a href="mMlibjs/m58saltaAIndexJs.html">msaltaAIndex.js</a></p>
      </li>
      <li>
       <p><a href="mMlibjs/m59submitJs.html">submit.js</a></p>
      </li>
     </ul>
    </li>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p>txt</p>
       <ul>
        <li>
         <p><a
            href="mGtextos/mCtxtFaltaElNombrePhp.html">txtFaltaElNombre.php</a>
         </p>
        </li>
      </li>
     </ul>
    </li>
    <li>
     <p><a href="mNlibphp/mQautoloadPhp.html">autoload.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mTleeEnteroPhp.html">leeEntero.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mTleeForaneaPhp.html">leeForanea.php</a></p>
    </li>
    <li>
     <p><a
        href="mNlibphp/mUleeSinEspaciosInFinPhp.html">leeSinEspaciosInFin.php</a>
     </p>
    </li>
    <li>
     <p><a href="mNlibphp/mLleeTextoPhp.html">leeTexto.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mRpathPhp.html">path.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mVrecibeFetchAllPhp.html">recibeFetchAll.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mSservicioPhp.html">servicio.php</a></p>
    </li>
    <li>
     <p><a href="mNlibphp/mWvalidaPhp.html">valida.php</a></p>
    </li>
    <li>
     <p><a
        href="mNlibphp/mXvalidaNombreNoVacioPhp.html">validaNombreNoVacio.php</a>
     </p>
    </li>
    <li>
     <p><a
        href="mNlibphp/mYvalidaTextoNoVacioPhp.html">validaTextoNoVacio.php</a>
     </p>
    </li>
   </ul>
  </li>
 </ul>
 </li>
 <li>
  <p>srv</p>
  <ul>
   <li>
    <p>dao</p>
    <ul>
     <li>
      <p><a href="mHbd/mCAccesoBdPhp.html">accesobd.php</a></p>
     </li>
     <li>
      <p><a href="mjagregar/mCamigoAgregaPhp.html">amigoAgrega.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mKmodificar/m21amigoBuscaPhp.html">amigoBusca.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mIlistados/mCamigoConsultaPhp.html">amigoConsulta.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mKmodificar/m23amigoEliminaPhp.html">amigoElimina.php</a>
      </p>
     </li>
     <li>
      <p><a
         href="mKmodificar/m22amigoModificaPhp.html">amigoModifica.php</a>
      </p>
     </li>
     <li>
      <p><a href="mHbd/mAbdCreaPhp.html">bdCrea.php</a></p>
     </li>
     <li>
      <p><a href="mHbd/mCpasatiempoAgregaPhp.html">pasatiempoAgrega.php</a>
      </p>
     </li>
     <li>
      <p>
       <a href="mHbd/mCpasatiempoConsultaPhp.html">pasatiempoConsulta.php</a>
      </p>
     </li>
    </ul>
   </li>
   <li>
    <p>modelo</p>
    <ul>
     <li>
      <p><a href="mHbd/mBamigoPhp.html">amigo.php</a></p>
     </li>
     <li>
      <p><a href="mHbd/mBPasatiempoPhp.html">pasatiempo.php</a></p>
     </li>
    </ul>
   </li>
   <li>
    <p>txt</p>
    <ul>
     <li>
      <p>
       <a
         href="mGtextos/mDtxtAmigoNoEncontradoPhp.html">txtAmigoNoEncontrado.php</a>
      </p>
     </li>
     <li>
      <p><a href="mGtextos/mDtxtFutbolPhp.html">txtFutbol.php</a></p>
     </li>
     <li>
      <p>
       <a href="mGtextos/mDtxtSinPasatiempoPhp.html">txtSinPasatiempo.php</a>
      </p>
     </li>
     <li>
      <p>
       <a href="mGtextos/mDtxtVideojuegosPhp.html">txtVideojuegos.php</a>
      </p>
     </li>
    </ul>
   </li>
   <li>
    <p><a
       href="mHbd/mCleePasatiempoPhp.html">leePasatiempo.php</a>
    </p>
   </li>
   <li>
    <p><a
       href="mjagregar/mBSrvAmigoAgrega.html">SrvAmigoAgrega.php</a>
    </p>
   </li>
   <li>
    <p><a
       href="mKmodificar/m24SrvAmigBusca.html">SrvAmigBusca.php</a>
    </p>
   </li>
   <li>
    <p><a
       href="mIlistados/mBSrvAmigoConsulta.html">SrvAmigoConsulta.php</a>
    </p>
   </li>
   <li>
    <p><a
       href="mKmodificar/m26SrvAmigoElimina.html">SrvAmigoElimina.php</a>
    </p>
   </li>
   <li>
    <p><a
       href="mKmodificar/m25SrvAmigoModifica.html">SrvAmigoModifica.php</a>
    </p>
   </li>
  </ul>
 </li>
 <li>
  <p><a href="mjagregar/mAagregaHtml.html">agrega.html</a></p>
 </li>
 <li>
  <p><a href="mIlistados/mAindexHtml.html">index.html</a></p>
 </li>
 <li>
  <p><a href="mFjsconfigJson.html">jsconfig.json</a></p>
 </li>
 <li>
  <p><a href="mKmodificar/m27modificaHtml.html">modifica.html</a></p>
 </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >G. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aquí su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section>
         <h1 >H. Archivos con textos que se mustran al usuario</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m17auno/mGtextos/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mGtextos/mBtxtConfirmaEliminarJs.html">lib /js / txt / txtConfirmaEliminar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mGtextos/mCtxtFaltaElNombrePhp.html">lib / php / txt / txtFaltaElNombre.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mGtextos/mDtxtAmigoNoEncontradoPhp.html">srv / txt / txtAmigoNoEncontrado.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mGtextos/mDtxtFutbolPhp.html">srv / txt / txtFutbol.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mGtextos/mDtxtSinPasatiempoPhp.html">srv / txt / txtSinPasatiempo.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mGtextos/mDtxtVideojuegosPhp.html">srv / txt / txtVideojuegos.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mGtextos/mEplantillaNoEsNumeroJs.html">lib /js / plantilla / plantillaNoEsNumero.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mGtextos/mFplantillaNoEsTextoJs.html">lib /js / plantilla / plantillaNoEsTexto.js</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. Introducción</h1><div class="lectura">
 <p>
  Estos archivos están en carpetas fácilmente reconocibles para ubicarse
  rápidamente.
 </p>
 <p>
  Devuelven los textos desde funciones para que posteriormente sea fácil
  modificarse para manejar distintos idiomas.
 </p>
 <p>
  Las plantillas reciben parámetros para poder generar correctamente el texto.
  La posición de los parámetros puede cambiar con el idioma.
 </p>
</div>
      </section>
     <section >
         <h1 >2. lib /js / txt / txtConfirmaEliminar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">txtConfirmaEliminar</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"Confirma la eliminación"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / php / txt / txtFaltaElNombre.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtFaltaElNombre</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Falta el nombre."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / txt / txtAmigoNoEncontrado.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtAmigoNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Amigo no encontrado."</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. srv / txt / txtFutbol.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtFutbol</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Futbol"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. srv / txt / txtSinPasatiempo.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtSinPasatiempo</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"-- Sin pasatiempo --"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. srv / txt / txtVideojuegos.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">txtVideojuegos</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"Videojuegos"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib /js / plantilla / plantillaNoEsNumero.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">plantillaNoEsNumero</span>(<span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">+</span> <span
     style="color: #a31515;">" no es número."</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib /js / plantilla / plantillaNoEsTexto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{any}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">plantillaNoEsTexto</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">+</span> <span
     style="color: #a31515;">" no es texto."</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >I. Archivos relacionados con la estructura de los datos</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m17auno/mHbd/mAbdCreaPhp.html">srv / dao / bdCrea.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mHbd/mBpasatiempoPhp.html">srv / modelo / pasatiempo.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mHbd/mBamigoPhp.html">srv / modelo / amigo.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mHbd/mCaccesobdPhp.html">srv / dao / accesobd.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mHbd/mCpasatiempoConsultaPhp.html">srv / dao / pasatiempoConsulta.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mHbd/mCpasatiempoAgregaPhp.html">srv / dao / pasatiempoAgrega.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mHbd/mCleePasatiempoPhp.html">srv / leePasatiempo.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. srv / dao / bdCrea.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">bdCrea</span><span
     style="color: #000000;">(</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">exec</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">'</span><span
     style="color: #0000ff;">CREATE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">TABLE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">IF</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">EXISTS</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PASATIEMPO (</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAS_ID </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAS_NOMBRE
   </span><span
     style="color: #0000ff;">TEXT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> PAS_PK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">PRIMARY KEY</span><span
     style="color: #a31515;">(PAS_ID),</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> PAS_NOM_UNQ</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">UNIQUE</span><span
     style="color: #a31515;">(PAS_NOMBRE)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;)</span><span
     style="color: #a31515;">'</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">exec</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">'</span><span
     style="color: #0000ff;">CREATE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">TABLE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">IF</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">EXISTS</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;AMIGO (</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AMI_ID </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AMI_NOMBRE
   </span><span
     style="color: #0000ff;">TEXT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAS_ID </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> AMI_PK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">PRIMARY KEY</span><span
     style="color: #a31515;">(AMI_ID),</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> AMI_NOM_UNQ</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">UNIQUE</span><span
     style="color: #a31515;">(AMI_NOMBRE)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> AMI_PAS_FK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FOREIGN KEY</span><span
     style="color: #a31515;"> (PAS_ID)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">REFERENCES</span><span
     style="color: #a31515;"> PASATIEMPO(PAS_ID)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;)</span><span
     style="color: #a31515;">'</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / modelo / pasatiempo.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\modelo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/validaNombreNoVacio.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">validaNombreNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / modelo / amigo.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\modelo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/validaNombreNoVacio.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Amigo</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> ?</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">validaNombreNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / dao / accesobd.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\dao</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/dao/bdCrea.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoConsulta.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoAgrega.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtFutbol.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/txt/txtVideojuegos.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">\PDO</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">AccesoBd</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span><span
     style="color: #000000;"> ?</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">static</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">(): </span><span
     style="color: #267f99;">PDO</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">conecta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">prepara</span><span
     style="color: #000000;">(</span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">self</span><span
     style="color: #000000;">::</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">conecta</span><span
     style="color: #000000;">(): </span><span
     style="color: #267f99;">PDO</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">// cadena de conexión</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"sqlite:srvauno.db"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">// usuario</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">// contraseña</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::ATTR_ERRMODE</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;=&gt; </span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::ERRMODE_EXCEPTION]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">private</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">static</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">prepara</span><span
     style="color: #000000;">(</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">bdCrea</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">pasatiempoConsulta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #795e26;">sizeof</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;">) === </span><span
     style="color: #098658;">0</span><span
     style="color: #000000;">)&nbsp;{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtFutbol</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">pasatiempoAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;">);</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtVideojuegos</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">pasatiempoAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. srv / dao / pasatiempoConsulta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/recibeFetchAll.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@return</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #0000ff;">[]</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoConsulta</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">query</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_ID </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> id,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_NOMBRE </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> nombre</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">ORDER BY</span><span
     style="color: #a31515;"> PAS_NOMBRE</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetchAll</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_CLASS,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">::</span><span
     style="color: #0000ff;">class</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeFetchAll</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. srv / dao / pasatiempoAgrega.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoAgrega</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">INSERT INTO</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(PAS_NOMBRE)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">VALUES</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(:nombre)</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si usas una secuencia para</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;generar el id, pasa como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;parámetro de lastInsertId
    el</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;nombre de dicha secuencia.
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">lastInsertId</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. srv / leePasatiempo.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeForanea.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leePasatiempo</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$pasId</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeForanea</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"pasId"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$pasId</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">null</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$pasId</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$pasatiempo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >J. Archivos de JavaScript</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m17auno/mHjs/mAcampo-pasatiempoJs.html">js / custom / campo-pasatiempo.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mHjs/mBdescargaPasatiempoOpcionesJs.html">js / descargaPasatiempoOpciones.js</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. js / custom / campo-pasatiempo.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">bdCrea</span><span
     style="color: #000000;">(</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">exec</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">'</span><span
     style="color: #0000ff;">CREATE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">TABLE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">IF</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">EXISTS</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PASATIEMPO (</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAS_ID </span><span
     style="color: #0000ff;">INTEGER</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAS_NOMBRE
   </span><span
     style="color: #0000ff;">TEXT</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">NOT NULL</span><span
     style="color: #a31515;">,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> PAS_PK</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">PRIMARY KEY</span><span
     style="color: #a31515;">(PAS_ID),</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">CONSTRAINT</span><span
     style="color: #a31515;"> PAS_NOM_UNQ</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">UNIQUE</span><span
     style="color: #a31515;">(PAS_NOMBRE)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;)</span><span
     style="color: #a31515;">'</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. js / descargaPasatiempoOpciones.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">namespace</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">srv\modelo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/validaNombreNoVacio.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">public</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">validaNombreNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">$this</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >K. Archivos para generar listados</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m17auno/mIlistados/mAindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mIlistados/mBSrvAmigoConsulta.html">srv / SrvAmigoConsulta.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mIlistados/mCamigoConsultaPhp.html">srv / dao / amigoConsulta.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span></div>
  <div>&nbsp;&nbsp;Acceso a base de datos</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/hipervinculo-agregar-agrega.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/lista-principal.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Acceso a base de datos<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;hipervinculo-agregar-agrega&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/hipervinculo-agregar-agrega&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;lista-principal&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/lista-principal&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">ejecuta</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraRender</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraRender.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">render</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">consultaServidor</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraRender</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">lista</span><span
     style="color: #000000;">, </span><span
     style="color: #0070c1;">render</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">consultaServidor</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvPasatiempoConsulta.php"</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / SrvAmigoConsulta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoConsulta.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoConsulta</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">pasatiempoConsulta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">foreach</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> as </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">htmlentities</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.=</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"&lt;li&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;a
    href='modifica.html?id=</span><span
     style="color: #001080;">$id</span><span
     style="color: #a31515;">'&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #a31515;">}&lt;/a&gt;</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;</span>
  </div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$render</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoConsulta</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / dao / amigoConsulta.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/recibeFetchAll.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@return</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #0000ff;">[]</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoConsulta</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">query</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_ID </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> id,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_NOMBRE </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> nombre</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">ORDER BY</span><span
     style="color: #a31515;"> PAS_NOMBRE</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetchAll</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_CLASS,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">::</span><span
     style="color: #0000ff;">class</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeFetchAll</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >L. Archivos para agregar registros</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m17auno/mJagregar/mAagregaHtml.html">agrega.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mJagregar/mBSrvAmigoAgrega.html">srv / SrvAmigoAgrega.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mJagregar/mCamigoAgregaPhp.html">srv / dao / amigoAgrega.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. agrega.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Agregar<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/hipervinculo-cancelar-index.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/boton-agregar.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/campo-nombre.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indica-campos-obligatorios.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Agregar<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-nombre&gt;&lt;/campo-nombre&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;boton-agregar&gt;&lt;/boton-agregar&gt;</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">escuchaEventosAgrega</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/escuchaEventosAgrega.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">submit</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/submit.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">saltaAIndex</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/saltaAIndex.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">escuchaEventosAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">agrega</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">agrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">m</span><span
     style="color: #000000;"> = </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">submit</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/SrvPasatiempoAgrega.php"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / SrvAmigoAgrega.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"leeSinEspaciosInFin.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoAgrega.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoAgrega</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">pasatiempoAgrega</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoAgrega</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / dao / amigoAgrega.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoAgrega</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">INSERT INTO</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(PAS_NOMBRE)</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">VALUES</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;(:nombre)</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si usas una secuencia para</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;generar el id, pasa como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;parámetro de lastInsertId
    el</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;nombre de dicha secuencia.
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">lastInsertId</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >M. Archivos para modificar registros</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m17auno/mKmodificar/m27modificaHtml.html">modifica.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mKmodificar/m24SrvAmigBusca.html">srv / SrvAmigBusca.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mKmodificar/m25SrvAmigoModifica.html">srv / SrvAmigoModifica.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mKmodificar/m26SrvAmigoElimina.html">srv / SrvAmigoElimina.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mKmodificar/m21amigoBuscaPhp.html">srv / dao / amigoBusca.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mKmodificar/m22amigoModificaPhp.html">srv / dao / amigoModifica.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mKmodificar/m23amigoEliminaPhp.html">srv / dao / amigoElimina.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. modifica.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Modificar<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/campo-id-oculto.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/hipervinculo-cancelar-index.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/boton-guardar.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/boton-eliminar.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/campo-nombre-cargando.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indica-campos-obligatorios.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"forma"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Modificar<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-id-oculto&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/campo-id-oculto&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/hipervinculo-cancelar-index&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;campo-nombre-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/campo-nombre-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indica-campos-obligatorios&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;boton-guardar&gt;&lt;/boton-guardar&gt;</span>
  </div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;boton-eliminar&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/boton-eliminar&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">ejecuta</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">submit</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/submit.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">parametrosDePagina</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/parametrosDePagina.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">saltaAIndex</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/saltaAIndex.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraNumero</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraNumero.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">muestraTexto</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraTexto.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">escuchaEventosModifica</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/escuchaEventosModifica.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">confirmaEliminar</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/confirmaEliminar.js"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">parametrosDePagina</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">preparaVista</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">modelo</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">modelo</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">escuchaEventosModifica</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">modifica</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">btnElimina</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">elimina</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">buscaEnElServidor</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/SrvPasatiempoBusca.php?"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;+ </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">muestra</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraNumero</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">modelo</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">modifica</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">m</span><span
     style="color: #000000;"> = </span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">submit</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvPasatiempoModifica.php"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">forma</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">elimina</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #795e26;">confirmaEliminar</span><span
     style="color: #000000;">())&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">await</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"srv/"</span><span
     style="color: #000000;"> +</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"SrvPasatiempoElimina.php?"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ </span><span
     style="color: #0070c1;">parametros</span><span
     style="color: #000000;">))</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">saltaAIndex</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. srv / SrvAmigBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoBusca</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">|</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">SELECT</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_ID </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> id,</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;&nbsp;PAS_NOMBRE </span><span
     style="color: #0000ff;">AS</span><span
     style="color: #a31515;"> nombre</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> PAS_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :id</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span><span
     style="color: #a31515;">":id"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">]);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">setFetchMode</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">PDO</span><span
     style="color: #000000;">::FETCH_CLASS,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">::</span><span
     style="color: #0000ff;">class</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">fetch</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. srv / SrvAmigoModifica.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"leeSinEspaciosInFin.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoModifica.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoModifica</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">pasatiempoModifica</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoModifica</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. srv / SrvAmigoElimina.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoElimina.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoElimina</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">pasatiempoElimina</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoElimina</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. srv / dao / amigoBusca.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeEntero.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"srv/dao/pasatiempoBusca.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"srv/txt/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"txtPasatiempoNoEncontrado.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoBusca</span></div>
  <div><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"id"</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">pasatiempoBusca</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtPasatiempoNoEncontrado</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvPasatiempoBusca</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. srv / dao / amigoModifica.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\modelo\</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoModifica</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #267f99;">Pasatiempo</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$modelo</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">UPDATE</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">SET</span><span
     style="color: #a31515;"> PAS_NOMBRE </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :nombre</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> PAS_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :id</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":id"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">id</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">":nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$modelo</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #000000;">&nbsp;]);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. srv / dao / amigoElimina.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> srv\dao\</span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">pasatiempoElimina</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$id</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;"> = </span><span
     style="color: #267f99;">AccesoBd</span><span
     style="color: #000000;">::</span><span
     style="color: #795e26;">getCon</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">$con</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">prepare</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #a31515;">"</span><span
     style="color: #0000ff;">DELETE</span><span
     style="color: #a31515;"> </span><span
     style="color: #0000ff;">FROM</span><span
     style="color: #a31515;"> PASATIEMPO</span></div>
  <div><span
     style="color: #a31515;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">WHERE</span><span
     style="color: #a31515;"> PAS_ID </span><span
     style="color: #000000;">=</span><span
     style="color: #a31515;"> :id</span><span
     style="color: #a31515;">"</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$stmt</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">execute</span><span
     style="color: #000000;">([</span><span
     style="color: #a31515;">":id"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #001080;">$id</span><span
     style="color: #000000;">]);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >N. Custom elements</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m17auno/mLcustom/m35boton-agregarJs.html">lib / js / custom / boton-agregar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m36boton-eliminarJs.html">lib / js / custom / boton-eliminar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m37boton-guardarJs.html">lib / js / custom / boton-guardar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m38campo-id-ocultoJs.html">lib / js / custom / campo-id-oculto.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m39campo-nombre-cargandoJs.html">lib / js / custom / campo-nombre-cargando.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m40campo-nombreJs.html">lib / js / custom / campo-nombre.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m41hipervinculo-agregar-agregaJs.html">lib / js / custom / hipervinculo-agregar-agrega.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m42hipervinculo-cancelar-indexJs.html">lib / js / custom / hipervinculo-cancelar-index.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m43indica-campos-obligatoriosJs.html">lib / js / custom / indica-campos-obligatorios.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m44indicador-cargandoJs.html">lib / js / custom / indicador-cargando.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mLcustom/m45lista-principalJs.html">lib / js / custom / lista-principal.js</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. lib / js / custom / boton-agregar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">BotonAgregar</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;button&gt;</span>Agregar<span
     style="color: #800000;">&lt;/button&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"boton-agregar"</span>, <span
     style="color: #267f99;">BotonAgregar</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. lib / js / custom / boton-eliminar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">BotonEliminar</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"btnElimina"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"button"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Eliminar</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"boton-eliminar"</span>, <span
     style="color: #267f99;">BotonEliminar</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / js / custom / boton-guardar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">BotonGuardar</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;button&gt;</span>Guardar<span
     style="color: #800000;">&lt;/button&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"boton-guardar"</span>, <span
     style="color: #267f99;">BotonGuardar</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / js / custom / campo-id-oculto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoIdOculto</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"hidden"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"id"</span><span
     style="color: #800000;">&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-id-oculto"</span>, <span
     style="color: #267f99;">CampoIdOculto</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib / js / custom / campo-nombre-cargando.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoNombreCargando</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nombre *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"nombre"</span> <span
     style="color: #e50000;">required</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">value</span>=<span
     style="color: #0000ff;">"Cargando&amp;hellip;"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-nombre-cargando"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">CampoNombreCargando</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib / js / custom / campo-nombre.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">CampoNombre</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nombre *</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"nombre"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">required</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"campo-nombre"</span>, <span
     style="color: #267f99;">CampoNombre</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / js / custom / hipervinculo-agregar-agrega.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Hipervínculo para agregar que</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;redirecciona a la página</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;"agrega.html".</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoAgregarAgrega</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;a</span> <span
     style="color: #e50000;">href</span>=<span
     style="color: #0000ff;">"agrega.html"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agregar<span
     style="color: #800000;">&lt;/a&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"hipervinculo-agregar-agrega"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoAgregarAgrega</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / js / custom / hipervinculo-cancelar-index.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Hipervínculo para cancelar que</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;redirecciona a la página</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;"index.html".</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoCancelarIndex</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;a</span> <span
     style="color: #e50000;">href</span>=<span
     style="color: #0000ff;">"index.html"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cancelar<span
     style="color: #800000;">&lt;/a&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"hipervinculo-cancelar-index"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">HipervinculoCancelarIndex</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / js / custom / indica-campos-obligatorios.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span></div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #0070c1;">style</span>.<span
     style="color: #001080;">display</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"block"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;p&gt;</span>*&nbsp;Obligatorio<span
     style="color: #800000;">&lt;/p&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indica-campos-obligatorios"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicaCamposObligatorios</span>)</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. lib / js / custom / indicador-cargando.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">IndicadorCargando</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;progress</span> <span
     style="color: #e50000;">max</span>=<span
     style="color: #0000ff;">"100"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cargando<span
     style="color: #0000ff;">&amp;hellip;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/progress&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"indicador-cargando"</span>,</div>
  <div>&nbsp;<span
     style="color: #267f99;">IndicadorCargando</span>)</div>
 </div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. lib / js / custom / lista-principal.js</h1><muestra-codigo>
 <div
   style="color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">
  <div><span
     style="color: #af00db;">import</span> <span
     style="color: #a31515;">"./indicador-cargando.js"</span></div><br>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">ListaPrincipal</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #008000;">/*&nbsp;HTML */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;ul</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"lista"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/ul&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(</div>
  <div>&nbsp;<span
     style="color: #a31515;">"lista-principal"</span>, <span
     style="color: #267f99;">ListaPrincipal</span>)</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >O. librería de JavaScript</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m48confirmaEliminarJs.html">lib / js / confirmaEliminar.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m49ejecutaJs.html">lib / js / ejecuta.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m50escuchaEventosAgregaJs.html">lib / js / escuchaEventosAgrega.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m51escuchaEventosModificaJs.html">lib / js / escuchaEventosModifica.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m52MetodoHttpJs.html">lib / js / MetodoHttp.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m53muestraErrorJs.html">lib / js / muestraError.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m53muestraForaneaNumericaJs.html">lib / js / muestraForaneaNumerica.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m54muestraNumeroJs.html">lib / js / muestraNumero.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m55muestraRenderJs.html">lib / js / muestraRender.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m56muestraTextoJs.html">lib / js / muestraTexto.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m57parametrosDePaginaJs.html">lib / js / parametrosDePagina.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m58saltaAIndexJs.html">lib / js / saltaAIndex.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mMlibjs/m59submitJs.html">lib / js / submit.js</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. lib / js / confirmaEliminar.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">txtConfirmaEliminar</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./txt/txtConfirmaEliminar.js"</span></div><br>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">confirmaEliminar</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #795e26;">confirm</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">txtConfirmaEliminar</span>())</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. lib / js / ejecuta.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Espera a que la promesa de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fetch termine. Si hay error</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;lanza una excepción. Si no hay</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;error, interpreta la respuesta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;del servidor como JSON y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la convierte en una literal de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;objeto. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta(fetch)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> resp = <span
     style="color: #0000ff;">await</span> fetch</div>
  <div>&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> <span
     style="color: #0000ff;">await</span> resp.json()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span> <span
     style="color: #0000ff;">if</span> (resp.status === <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(resp.statusText)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / js / escuchaEventosAgrega.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{EventListener}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">agrega</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">escuchaEventosAgrega</span>(<span
     style="color: #001080;">forma</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">agrega</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">forma</span>.<span
     style="color: #795e26;">addEventListener</span>(<span
     style="color: #a31515;">"submit"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">agrega</span>)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / js / escuchaEventosModifica.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{EventListener}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">modifica</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">btnElimina</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{EventListener}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elimina</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">escuchaEventosModifica</span>(<span
     style="color: #001080;">forma</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">modifica</span>, <span
     style="color: #001080;">btnElimina</span>, <span
     style="color: #795e26;">elimina</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">forma</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #a31515;">"submit"</span>, <span
     style="color: #795e26;">modifica</span>)</div>
  <div>&nbsp;<span
     style="color: #001080;">btnElimina</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #a31515;">"click"</span>, <span
     style="color: #795e26;">elimina</span>)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib / js / MetodoHttp.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@enum</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">const</span> <span
     style="color: #267f99;">MetodoHttp</span> <span
     style="color: #000000;">=</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">TRACE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"TRACE"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">OPTIONS</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"OPTIONS"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">CONNECT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"CONNECT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">GET</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"GET"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">HEAD</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"HEAD"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">POST</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"POST"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PUT</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PUT"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">PATCH</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"PATCH"</span>,</div>
  <div>&nbsp;<span
     style="color: #001080;">DELETE</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"DELETE"</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib / js / muestraError.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Muestra un error en la consola
    y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;en un cuadro de alerta el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mensaje de una excepción.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Error}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">e</span><span
     style="color: #008000;"> descripción</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;del error.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span> <span
     style="color: #0000ff;">function</span> muestraError(e)&nbsp;{</div>
  <div>&nbsp;console.error(e)</div>
  <div>&nbsp;alert(e.message)</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / js / muestraForaneaNumerica.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">muestraNumero</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./muestraNumero.js"</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@template</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{&nbsp;{value:string}&nbsp;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">E</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{E}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elementoHtml</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{any}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">modelo</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">campoId</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">muestraForaneaNumerica</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">elementoHtml</span>, <span
     style="color: #001080;">modelo</span>, <span
     style="color: #001080;">campoId</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">modelo</span> <span
     style="color: #000000;">===</span> <span
     style="color: #0000ff;">undefined</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #000000;">||</span> <span
     style="color: #001080;">modelo</span> <span
     style="color: #000000;">===</span> <span
     style="color: #0000ff;">null</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">elementoHtml</span>.<span
     style="color: #001080;">value</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">id</span> <span
     style="color: #000000;">=</span> <span
     style="color: #001080;">modelo</span>[<span
     style="color: #001080;">campoId</span>]</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">muestraNumero</span>(<span
     style="color: #001080;">elementoHtml</span>, <span
     style="color: #0070c1;">id</span>)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / js / muestraNumero.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">plantillaNoEsNumero</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./plantilla/plantillaNoEsNumero.js"</span></div>
  <br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@template</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{&nbsp;{value:string}&nbsp;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">E</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{E}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elementoHtml</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{any}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraNumero</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">elementoHtml</span>, <span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">typeof</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">===</span> <span
     style="color: #a31515;">"number"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #000000;">&amp;&amp;</span> <span
     style="color: #000000;">!</span><span
     style="color: #795e26;">isNaN</span>(<span
     style="color: #001080;">valor</span>))&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">elementoHtml</span>.<span
     style="color: #001080;">value</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">valor</span>.<span
     style="color: #795e26;">toString</span>()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">plantillaNoEsNumero</span>(<span
     style="color: #001080;">valor</span>))</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / js / muestraRender.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">lista</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">render</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraRender</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">lista</span>, <span
     style="color: #001080;">render</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">lista</span>.<span
     style="color: #001080;">innerHTML</span> <span
     style="color: #000000;">=</span> <span
     style="color: #001080;">render</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. lib / js / muestraTexto.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">plantillaNoEsTexto</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./plantilla/plantillaNoEsTexto.js"</span></div>
  <br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@template</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{&nbsp;{value:string}&nbsp;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">E</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{E}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">elementoHtml</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valor</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraTexto</span>(</div>
  <div>&nbsp;<span
     style="color: #001080;">elementoHtml</span>, <span
     style="color: #001080;">valor</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">typeof</span> <span
     style="color: #001080;">valor</span> <span
     style="color: #000000;">===</span> <span
     style="color: #a31515;">"string"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">elementoHtml</span>.<span
     style="color: #001080;">value</span> <span
     style="color: #000000;">=</span> <span
     style="color: #001080;">valor</span></div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">plantillaNoEsTexto</span>(<span
     style="color: #001080;">valor</span>))</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. lib / js / parametrosDePagina.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">parametrosDePagina</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">URL</span>(<span
     style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span>).</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0070c1;">searchParams</span></div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >12. lib / js / saltaAIndex.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">saltaAIndex</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">location</span>.<span
     style="color: #001080;">href</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">"index.html"</span></div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >13. lib / js / submit.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">ejecuta</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./ejecuta.js"</span></div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">MetodoHttp</span></div>
  <div>}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./MetodoHttp.js"</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Envía los datos de la forma a
    la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;url con el método POST usando
    la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función ejecuta. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">url</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{HTMLFormElement}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">forma</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">submit</span>(<span
     style="color: #001080;">evt</span>, <span
     style="color: #001080;">url</span>, <span
     style="color: #001080;">forma</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #001080;">evt</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(<span
     style="color: #795e26;">fetch</span>(<span
     style="color: #001080;">url</span></div>
  <div>&nbsp;&nbsp;,&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">method</span><span
     style="color: #001080;">:</span> <span
     style="color: #267f99;">MetodoHttp</span>.<span
     style="color: #001080;">POST</span></div>
  <div>&nbsp;&nbsp;&nbsp;, <span
     style="color: #001080;">body</span><span
     style="color: #001080;">:</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">FormData</span>(<span
     style="color: #001080;">forma</span>)</div>
  <div>&nbsp;&nbsp;}))</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
      </section>
     <section>
         <h1 >P. librería de PHP</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  
   <ol type="1">
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mQautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mTleeEnteroPhp.html">lib / php / leeEntero.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mTleeForaneaPhp.html">lib / php / leeForanea.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mUleeSinEspaciosInFinPhp.html">lib / php / leeSinEspaciosInFin.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mLleeTextoPhp.html">lib / php / leeTexto.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mRpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mVrecibeFetchAllPhp.html">lib / php / recibeFetchAll.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mSservicioPhp.html">lib / php / servicio.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mWvalidaPhp.html">lib / php / valida.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mXvalidaNombreNoVacioPhp.html">lib / php / validaNombreNoVacio.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m17auno/mNlibphp/mYvalidaTextoNoVacioPhp.html">lib / php / validaTextoNoVacio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >1. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >2. lib / php / leeEntero.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/"</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"leeSinEspaciosInFin.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el valor entero de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeEntero</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">int</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >3. lib / php / leeForanea.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeTexto.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el texto de un</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro correspindiente a una</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;llave foránea numérica enviada</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;al servidor por medio de GET,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;POST o cookie.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeForanea</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">): ?</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si el parámetro no está</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;asignado o es un texto
    vacío,</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;devuelve null; de lo
    contrario,</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;devuelve el valor recibido.
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$parametro</span><span
     style="color: #000000;">);</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;"> === </span><span
     style="color: #a31515;">""</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;? </span><span
     style="color: #0000ff;">null</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;: </span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >4. lib / php / leeSinEspaciosInFin.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/leeTexto.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el texto de un</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie. Elimina los espacios al</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;inicio y al final.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeSinEspaciosInFin</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$parametro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">trim</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$parametro</span><span
     style="color: #000000;">));</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >5. lib / php / leeTexto.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Recupera el texto de un</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;parámetro enviado al servidor</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;por medio de GET, POST o</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cookie.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">leeTexto</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$paramwtro</span></div>
  <div><span
     style="color: #000000;">): </span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si el parámetro está asignado</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;en $_REQUEST, devuelve su</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;valor; de lo contrario,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;devuelve "".</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*/</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">isset</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$paramwtro</span><span
     style="color: #000000;">])</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;? </span><span
     style="color: #001080;">$_REQUEST</span><span
     style="color: #000000;">[</span><span
     style="color: #001080;">$paramwtro</span><span
     style="color: #000000;">]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;: </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$valor</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >6. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >7. lib / php / recibeFetchAll.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeFetchAll</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">|</span><span
     style="color: #0000ff;">array</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$resultado</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;"> === </span><span
     style="color: #0000ff;">false</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> [];</span></div>
  <div><span
     style="color: #000000;">&nbsp;}&nbsp;</span><span
     style="color: #af00db;">else</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$resultado</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >8. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >9. lib / php / valida.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">bool</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$condicion</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (!</span><span
     style="color: #001080;">$condicion</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">throw</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Exception</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;);</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >10. lib / php / validaNombreNoVacio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"lib/php/validaTextoNoVacio.php"</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/txt/"</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #000000;">.</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"txtFaltaElNombre.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaNombreNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$nombre</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #795e26;">validaTextoNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$nombre</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #795e26;">txtFaltaElNombre</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >11. lib / php / validaTextoNoVacio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"lib/php/valida.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">validaTextoNoVacio</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$texto</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">string</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #795e26;">valida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$texto</span><span
     style="color: #000000;"> !== </span><span
     style="color: #a31515;">""</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$mensajeDeError</span></div>
  <div><span
     style="color: #000000;">&nbsp;);</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
 </div>
</muestra-codigo>
      </section>
      </section>
      </section>
     <section >
         <h1 >18. Ejemplos adicionales</h1><dl>
 <dt>Asociaciones a muchos</dt>
 <dt>Administración de usuaros y roles</dt>
 <dd>
  <p>
   <a href="https://replit.com/@GilbertoPachec5/srvamuchos?v=1" target="_blank"
     rel="nooper">https://replit.com/@GilbertoPachec5/srvamuchos?v=1</a>
  </p>
  <p>
   Se basa en las tablas de este enlace:
   <a href="https://replit.com/@GilbertoPachec5/srvamuchos?v=1#srv/dao/bdCrea.php"
     target="_blank"
     rel="nooper">https://replit.com/@GilbertoPachec5/srvamuchos?v=1#srv/dao/bdCrea.php</a>
  </p>
 </dd>
 <dt>Autenticación basada en usuarios y roles</dt>
 <dd>
  <p>
   <a href="https://replit.com/@GilbertoPachec5/srvaut?v=1" target="_blank"
     rel="nooper">https://replit.com/@GilbertoPachec5/srvaut?v=1</a>
  </p>
  <p>
   Modifica un poco las tablas del ejemplo anterior. Las tablas mejoradas están
   en:
   <a href="https://replit.com/@GilbertoPachec5/srvaut?v=1#srv/dao/bdCrea.php"
     target="_blank"
     rel="nooper">https://replit.com/@GilbertoPachec5/srvaut?v=1#srv/dao/bdCrea.php</a>
  </p>
  <p>Prueba con los siguientes usarios y contraseñas:</p>
  <dl>
   <dt>pepito</dt>
   <dd>cuentos</dd>
   <dt>susana</dt>
   <dd>alegría</dd>
   <dt>bebe</dt>
   <dd>saurio</dd>
  </dl>
 <dt>Manejo de archivos</dt>
 <dd>
  <p>
   <a href="https://replit.com/@GilbertoPachec5/srvarchivos?v=1" target="_blank"
     rel="nooper">https://replit.com/@GilbertoPachec5/srvarchivos?v=1</a>
  </p>
  <p>
   Se basa en las tablas de este enlace:
   <a href="https://replit.com/@GilbertoPachec5/srvarchivos?v=1#srv/dao/bdCrea.php"
     target="_blank"
     rel="nooper">https://replit.com/@GilbertoPachec5/srvarchivos?v=1#srv/dao/bdCrea.php</a>
  </p>
 </dd>
 <dt>Carrito de compras sencillo</dt>
 <dd>
  <p>
   <a href="https://replit.com/@GilbertoPachec5/srvcompras?v=1" target="_blank"
     rel="nooper">https://replit.com/@GilbertoPachec5/srvcompras?v=1</a>
  </p>
  <p>
   Se basa en las tablas de este enlace:
   <a href="https://replit.com/@GilbertoPachec5/srvcompras?v=1#srv/dao/bdCrea.php"
     target="_blank"
     rel="nooper">https://replit.com/@GilbertoPachec5/srvcompras?v=1#srv/dao/bdCrea.php</a>
  </p>
 </dd>
 </dd>
</dl>
      </section>
</body>
</html>