<!DOCTYPE html>
<html lang="es">
<head>
 <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" sizes="32x32" href="/favicon.ico">
<meta name="theme-color" content="#039623">
<link rel="manifest" href="/site.webmanifest">
<script src="/js/muestra-codigo.js"></script>
 <title>Renderizado del lado del cliente - GilPG AWOAS</title>
 <meta name="description" content="Página para imprimir de la lección «Renderizado del lado del cliente».">
 <style>
 :root {
  --padTop: 2rem;
  --introDuracion: 2s;
  --introFuncion: ease-out;
  --padCont: 0.5rem;
  --padNav: 0.75rem 0.5rem;
  --anchoNav: 300px;
  --anchoLectura: 900px;
  --colLetra: black;
  --colFondo: white;
  --colTituloLetra: #00811c;
  --colTituloShadow: 3px 1px 2px #bdbdbd;
  --colTituloStrong: #684601;
  --colTituloStrongSel: #ffdc97;
  --colTarget: #cef4ff;
  --colSombra: #49494980;
  --navSombra: 0.5rem 0 0.5rem var(--colSombra);
  --padCtrl: 0.2rem 0.3rem;
  --borderCtrl: solid thin;
  --colFondoNav: #f2f2f2;
  --colNavResaltada: #7a2c99;
  --colSecundario: #ffff82;
  --colStack1: black;
  --colStack2: #224ba5;
  --colStack3: #92731f;
  --colScrollbar: #CFD8DC;
  --colThumb: #90a4ae;
  --colThumbActivo: #3f3f3f;
  --anchoThumb: 7px;
  --borderRadiusThumb: 3.5px;
  --gap: 0.5rem;
  --fontMono: monospace;
  --fontSans: sans-serif;
  --fontSerif: serif;
  font-family: var(--fontSerif);
  color: var(--colLetra);
  background-color: var(--colFondo);
  scrollbar-width: thin;
  scrollbar-color: var(--colThumb) var(--colScrollbar);
 }

 body::-webkit-scrollbar {
  width: var(--anchoThumb);
  height: var(--anchoThumb);
 }

 body::-webkit-scrollbar-track {
  background: var(--colScrollbar);
 }

 body::-webkit-scrollbar-thumb {
  background-color: var(--colThumb);
  border-radius: var(--borderRadiusThumb);
 }

 body::-webkit-scrollbar-thumb:active {
  background-color: var(--colThumbActivo);
 }

 .anterior,
 .siguiente {
  display: inline-block;
  text-decoration: none;
  padding: var(--padCtrl);
  border: var(--borderCtrl);
  cursor: pointer;
 }

 .anterior.bye,
 .siguiente.bye {
  display: none;
 }

 a[data-logo] {
  display: block;
  height: 54px;
  line-height: 54px;
  padding-left: 54px;
  margin-top: 1rem;
  background-image: url("/img/icono/maskable_icon_x48.png");
  background-position: 3px center;
  background-repeat: no-repeat;
 }

 a strong,
 a code,
 h1 strong,
 h1 code {
  color: var(--colTituloStrong);
 }

 nav a {
  font-family: var(--fontSans);
 }

 pre {
  font-family: var(--fontMono);
 }

 code {
  color: var(--colTituloStrong);
  font-family: var(--fontMono);
 }

 h1:not(.default) {
  font-family: var(--fontSans);
  color: var(--colTituloLetra);
 }

 .autor {
  font-family: var(--fontSans);
  font-size: 1.5rem;
  color: var(--colTituloLetra);
 }

 figure {
  text-align: center;
 }

 figure img {
  max-width: 100%;
  max-height: 65vh;
 }

 figure img.med {
  max-height: 55vh;
 }

 figcaption {
  font-family: var(--fontMono);
 }

 .print .noPrint {
  display: none;
 }

 @media print {
  .noPrint {
   display: none;
  }

  .pruebaDeEscritorio {
   page-break-before: always;
  }
 }

 iframe {
  box-sizing: border-box;
  width: 100%;
 }

 .lectura {
  max-width: var(--anchoLectura);
  margin: 1rem auto;
 }

 .lectura p,
 .lectura blockquote {
  text-align: justify;
 }

 /* No funciona bien con display:flex en pantallas pequeñas. */
 .horizontal {
  text-align: center;
 }

 .horizontal>* {
  display: inline-block;
  vertical-align: top;
  text-align: left;
 }

 .horizontal>*:not(:first-child) {
  margin-left: 1rem;
 }

 .columnas4 {
  columns: 4 180px;
  column-gap: 1rem;
 }

 .columnas2 {
  columns: 2 360px;
  column-gap: 1rem;
 }

 .resaltado {
  background-color: rgb(255, 255, 89);
 }

 .resaltado2 {
  background-color: rgb(255, 214, 139);
 }

 .resaltado3 {
  background-color: rgb(235, 234, 233);
 }

 table.borde {
  margin-left: auto;
  margin-right: auto;
 }

 table.borde,
 table.borde td {
  border: thin solid;
  border-collapse: collapse;
 }

 table.borde th,
 table.borde td {
  padding: 0.4rem;
 }

 footer {
  margin-top: 1rem;
  display: block;
  text-align: center;
  font-family: var(--fontSans);
  font-size: small;
 }
</style>
 <style>
 .pruebaDeEscritorio section {
  display: inline-block;
  vertical-align: top;
  margin: 1em;
 }

 .pruebaDeEscritorio section pre {
  margin: 0;
 }

 .pruebaDeEscritorio samp {
  font-weight: bold;
 }

 .pruebaDeEscritorio .activo {
  display: inline-block;
  margin: 0 0.2rem 0 0;
  vertical-align: top;
  background-color: var(--colSecundario);
  border: 1px solid var(--colSecundario);
 }

 .pruebaDeEscritorio :target,
 .pruebaDeEscritorio :target caption {
  background-color: var(--colTarget);
 }

 .pruebaDeEscritorio .numero1 {
  display: inline-block;
  margin: 0 0.2rem 0 0;
  color: var(--colStack1);
  border: 1px solid var(--colStack1);
 }

 .pruebaDeEscritorio .numero2 {
  display: inline-block;
  color: var(--colStack2);
  border: 1px solid var(--colStack2);
 }

 .pruebaDeEscritorio .numero3 {
  display: inline-block;
  color: var(--colStack3);
  border: 1px solid var(--colStack3);
 }

 .pruebaDeEscritorio a.parametro1,
 .pruebaDeEscritorio .parametro1 {
  color: var(--colPar1);
 }

 .pruebaDeEscritorio a.parametro2,
 .pruebaDeEscritorio .parametro2 {
  color: var(--colPar2);
 }

 .pruebaDeEscritorio .descongela {
  color: var(--colDescongela);
 }

 .pruebaDeEscritorio table.tabla1,
 .pruebaDeEscritorio table.tabla1 th,
 .pruebaDeEscritorio table.tabla1 td {
  border: 1px solid var(--colStack1);
 }

 .pruebaDeEscritorio table.tabla2,
 .pruebaDeEscritorio table.tabla2 th,
 .pruebaDeEscritorio table.tabla2 td {
  border: 1px solid var(--colStack2);
 }

 .pruebaDeEscritorio table.tabla3,
 .pruebaDeEscritorio table.tabla3 th,
 .pruebaDeEscritorio table.tabla3 td {
  border: 1px solid var(--colStack3);
 }

 .pruebaDeEscritorio .frame {
  font-family: var(--fontMono);
  border-collapse: collapse;
 }

 .pruebaDeEscritorio .frame,
 .pruebaDeEscritorio .frame th,
 .pruebaDeEscritorio .frame td {
  border: thin solid;
 }

 .pruebaDeEscritorio .frame caption {
  font-style: italic;
 }

 .pruebaDeEscritorio .objeto caption {
  text-decoration: underline;
  font-style: italic;
 }

 .pruebaDeEscritorio .creación {
  display: flex;
 }
</style>
</head>
<body class="print">
   <h1 class="leccion">11. Renderizado del lado del cliente</h1>
   <div class="lectura"> 
    <p class="noPrint">
     <a href="print.html" target="_blank" rel="noopener">Versión para
      imprimir.</a>
    </p>
   </div>
<div class="lectura">
 <nav>
  <h1>Contenido</h1>
  
   <ol type="A">
    <li>
     <p>
      <a href="/m11renderCliente/mAintro.html">Introducción</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mBdeploy.html">Diagrama de despliegue</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mCinstrucciones.html">Instrucciones</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mDarchivos.html">Archivos</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mEindexHtml.html">index.html</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mFrenderJs.html">render.js</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mGSrvListaPhp.html">srv / SrvLista.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mHjsconfigJson.html">jsconfig.json</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mIautoloadPhp.html">lib / php / autoload.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mJpathPhp.html">lib / php / path.php</a>
     </p>
    </li>
    <li>
     <p>
      <a href="/m11renderCliente/mKservicioPhp.html">lib / php / servicio.php</a>
     </p>
    </li>
   </ol>
 </nav>
</div>
     <section >
         <h1 >A. Introducción</h1><div class="lectura">
 <p>
  Para algunas partes de una página no hay componentes gráficos que puedan
  mostrar valores, como en el caso de los listados. En ese caso se tiene que
  generar el código HTM desde el programa, proceso que se conoce como
  <dfn>renderizado</dfn>.
 </p>
 <p>
  En esta lección se presenta un ejemplo de renderizado en el cliente.
 </p>
 <p>
  Puedes probar el ejemplo en
  <a rel="noopener" href="https://rendercli.gilbertopachec5.repl.co/"
    target="_blank">https://rendercli.gilbertopachec5.repl.co/</a>.
 </p>
</div>
      </section>
     <section >
         <h1 >B. Diagrama de despliegue</h1><figure>
 <img style="max-height: none;"
   src="/img/m11renderCliente/renclientedistribucion.drawio.svg"
   alt="Diagrama de despliegue">
</figure>
      </section>
     <section >
         <h1 >C. Instrucciones</h1><div class="lectura">
 <ol>
  <li>
   <p>
    <a href="/src/m11renderCliente/rendercli.zip" download>Descarga el
     ejemplo.</a>
   </p>
  </li>
  <li>
   <p>
    Revisa el proyecto en Replit con la URl
    <a href="https://replit.com/@GilbertoPachec5/rendercli?v=1" rel="nooper"
      target="_blank">https://replit.com/@GilbertoPachec5/rendercli?v=1</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1ujeNp8TaHjqqRXl_TFT0omUGymmFWTLm/view?usp=sharing"
      target="_blank" rel="nooper">Usa o crea una cuenta de Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1dmifWNqm_gRmQuMEe67HqKBYzzDTwEHt/view?usp=sharing"
      target="_blank" rel="nooper">Crea una cuenta de Replit usando la cuenta de
     Google.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1uH3T58ZJrmihJb3wRdnEFhtbgil9ED6w/view?usp=sharing"
      target="_blank" rel="nooper">Crea un proyecto <em>PHP Web Server</em> en
     Replit y edita o sube los archivos de este proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1F3sHMnear4JOu1NVKIkkjVBKFg-eoMX4/view?usp=sharing"
      target="_blank" rel="nooper">Depura el proyecto.</a>
   </p>
  </li>
  <li>
   <p>
    <a href="https://drive.google.com/file/d/1LphPNEygv1rV2Bx0fEJQH5O88e7u5dvJ/view?usp=sharing"
      target="_blank" rel="nooper">Crea la <b>cover page</b> o página de
     spotlight del proyecto.</a>
   </p>
  </li>
 </ol>
</div>
      </section>
     <section >
         <h1 >D. Archivos</h1><div class="lectura">
 <ul>
  <li>
   <p>lib</p>
   <ul>
    <li>
     <p>php</p>
     <ul>
      <li>
       <p><a href="mIautoloadPhp.html">autoload.php</a></p>
      </li>
      <li>
       <p><a href="mJpathPhp.html">path.php</a></p>
      </li>
      <li>
       <p><a href="mKservicioPhp.html">servicio.php</a></p>
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p>srv</p>
   <ul>
    <li>
     <p><a href="mGSrvListaPhp.html">SrvLista.php</a></p>
    </li>
   </ul>
  </li>
  <li>
   <p><a href="mEindexHtml.html">index.html</a></p>
  </li>
  <li>
   <p><a href="mHjsconfigJson.html">jsconfig.json</a></p>
  </li>
  <li>
   <p><a href="mFrenderJs.html">render.js</a></p>
  </li>
 </ul>
</div>
      </section>
     <section >
         <h1 >E. index.html</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span></div>
  <div>&nbsp;&nbsp;Render en el cliente</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Render en el cliente<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;ul</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"lista"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;progress</span> <span
     style="color: #e50000;">max</span>=<span
     style="color: #0000ff;">"100"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Cargando<span
     style="color: #0000ff;">&amp;hellip;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/progress&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/li&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/ul&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">worker</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Worker</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"render.js"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;{ </span><span
     style="color: #001080;">type</span><span
     style="color: #001080;">:</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"module"</span><span
     style="color: #000000;"> })</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0070c1;">worker</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">onmessage</span><span
     style="color: #000000;"> = </span><span
     style="color: #795e26;">render</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**&nbsp;@param&nbsp;{MessageEvent&lt;string&gt;</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;evt
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">async</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">render</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">lista</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">innerHTML</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">evt</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">data</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >F. render.js</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/*&nbsp;Ejemplo de render en el cliente.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;No se usa import porque Firefox</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;no lo soporta en los
    webworkers.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Literales de objeto que llevan</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;los campos nombre y color.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@typedef</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Object}</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">Elemento</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@property</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">nombre</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@property</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">color</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">render</span> <span
     style="color: #000000;">=</span> <span
     style="color: #795e26;">generaHtmlDeLista</span>([</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">nombre</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"Pepe"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">color</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"azul"</span></div>
  <div>&nbsp;},</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">nombre</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"Cuca"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">color</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"rojo"</span></div>
  <div>&nbsp;},</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">nombre</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"Teté"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">color</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"rosa"</span></div>
  <div>&nbsp;},</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">nombre</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"Bebé"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">color</span><span
     style="color: #001080;">:</span> <span
     style="color: #a31515;">"azul"</span></div>
  <div>&nbsp;}])</div>
  <div><span
     style="color: #795e26;">enviaALaPagina</span>(<span
     style="color: #0070c1;">render</span>)</div>
  <div><span
     style="color: #008000;">/*&nbsp;Espera 5 segundos e invoca la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función lista. */</span></div>
  <div><span
     style="color: #795e26;">setTimeout</span>(</div>
  <div>&nbsp;<span
     style="color: #795e26;">procesaListaDelServidor</span>, <span
     style="color: #098658;">5000</span>)</div><br>
  <div><span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">procesaListaDelServidor</span>()&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">lista</span> <span
     style="color: #000000;">=</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">fetch</span>(<span
     style="color: #a31515;">"srv/SrvLista.php"</span>))</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">render</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">generaHtmlDeLista</span>(<span
     style="color: #0070c1;">lista</span>)</div>
  <div>&nbsp;<span
     style="color: #795e26;">enviaALaPagina</span>(<span
     style="color: #0070c1;">render</span>)</div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Genera el HTML para mostrar el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;contenido de la lista</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Elemento[]}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">lista</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">generaHtmlDeLista</span>(<span
     style="color: #001080;">lista</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">let</span> <span
     style="color: #001080;">render</span> <span
     style="color: #000000;">=</span> <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp;<span
     style="color: #af00db;">for</span> (<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">modelo</span> <span
     style="color: #0000ff;">of</span> <span
     style="color: #001080;">lista</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">nombre</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">htmlentities</span>(<span
     style="color: #0070c1;">modelo</span>.<span
     style="color: #001080;">nombre</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">color</span> <span
     style="color: #000000;">=</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">htmlentities</span>(<span
     style="color: #0070c1;">modelo</span>.<span
     style="color: #001080;">color</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">render</span> <span
     style="color: #000000;">+=</span> <span
     style="color: #008000;">/*&nbsp;html */</span></div>
  <div>&nbsp;&nbsp;&nbsp;`<span
     style="color: #800000;">&lt;li&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;strong&gt;${</span><span
     style="color: #0070c1;">nombre</span><span
     style="color: #800000;">}&lt;/strong&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;br&gt;${</span><span
     style="color: #0070c1;">color</span><span
     style="color: #800000;">}</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/li&gt;</span>`</div>
  <div>&nbsp;}</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">render</span></div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">render</span><span
     style="color: #008000;"> */</span></div>
  <div><span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">enviaALaPagina</span>(<span
     style="color: #001080;">render</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #008000;">/*&nbsp;Verifica si el código corre</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;dentro de un web worker.
    */</span></div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">self</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">instanceof</span> <span
     style="color: #267f99;">WorkerGlobalScope</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/*&nbsp;Envía el render a la página</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;que invocó este web
    worker.*/</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">self</span>.<span
     style="color: #795e26;">postMessage</span>(<span
     style="color: #001080;">render</span>)</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">ejecuta</span>(<span
     style="color: #001080;">fetch</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">resp</span> <span
     style="color: #000000;">=</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #001080;">fetch</span></div>
  <div>&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">resp</span>.<span
     style="color: #001080;">ok</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #af00db;">await</span> <span
     style="color: #001080;">resp</span>.<span
     style="color: #795e26;">json</span>()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span> <span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">resp</span>.<span
     style="color: #001080;">status</span> <span
     style="color: #000000;">===</span> <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #795e26;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">await</span> <span
     style="color: #001080;">resp</span>.<span
     style="color: #795e26;">text</span>())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #795e26;">Error</span>(<span
     style="color: #001080;">resp</span>.<span
     style="color: #001080;">statusText</span>)</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Codifica un texto para que</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cambie los caracteres</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;especiales y no se pueda</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;interpretar como HTML. Esta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;técnica evita la inyección de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">texto</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> un texto que</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;no puede interpretarse
    como</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;&nbsp;HTML.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">htmlentities</span>(<span
     style="color: #001080;">texto</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">texto</span>.</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">replace</span>(<span
     style="color: #811f3f;">/</span><span
     style="color: #d16969;">[</span><span
     style="color: #811f3f;">&lt;&gt;"'</span><span
     style="color: #d16969;">]</span><span
     style="color: #811f3f;">/</span><span
     style="color: #0000ff;">g</span>, <span
     style="color: #001080;">reemplaza</span>)</div>
  <div>}</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Devuelve una cadena de
    reemplazo</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;para evitar que el texto se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;interprete como HTML. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">texto</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">reemplaza</span>(<span
     style="color: #001080;">texto</span>)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #af00db;">switch</span> (<span
     style="color: #001080;">texto</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">case</span> <span
     style="color: #a31515;">"&lt;"</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"&amp;lt;"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">case</span> <span
     style="color: #a31515;">"&gt;"</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"&amp;gt;"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">case</span> <span
     style="color: #a31515;">'"'</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"&amp;quot;"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">case</span> <span
     style="color: #a31515;">"'"</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #a31515;">"&amp;#039;"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">default</span>: <span
     style="color: #af00db;">return</span> <span
     style="color: #001080;">texto</span></div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >G. srv / SrvLista.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #af00db;">require_once</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">__DIR__</span><span
     style="color: #000000;"> </span><span
     style="color: #000000;">.</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #a31515;">"/../lib/php/autoload.php"</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">use</span><span
     style="color: #000000;"> \lib\php\</span><span
     style="color: #267f99;">Servicio</span><span
     style="color: #000000;">;</span></div><br>
  <div><span
     style="color: #0000ff;">class</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvLista</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">extends</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">Servicio</span></div>
  <div><span
     style="color: #000000;">{</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">protected</span></div>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">implementacion</span><span
     style="color: #000000;">()</span></div>
  <div><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;"> = [</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"pp"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"azul"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;],</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"kq"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"rojo"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;],</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"tt"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"rosa"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;],</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;[</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"nombre"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"bb"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"color"</span><span
     style="color: #000000;"> =&gt; </span><span
     style="color: #a31515;">"azul"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;]</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;];</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">return</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">$lista</span><span
     style="color: #000000;">;</span></div>
  <div><span
     style="color: #000000;">&nbsp;}</span></div>
  <div><span
     style="color: #000000;">}</span></div><br>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;"> = </span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #267f99;">SrvLista</span><span
     style="color: #000000;">();</span></div>
  <div><span
     style="color: #001080;">$servicio</span><span
     style="color: #000000;">-&gt;</span><span
     style="color: #795e26;">ejecuta</span><span
     style="color: #000000;">();</span></div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >H. jsconfig.json</h1><div class="lectura">
 <p>
  Este archivo ayuda a detectar errores en los archivos del proyecto.
 </p>
 <p>
  Lo utiliza principalmente Visual Studio Code.
 </p>
 <p>
  No se explica aqupi su estructura, pero puede encontrarse la explicación de
  todo en la documentación del sitio de Visual Studio Code.
 </p>
</div>
<muestra-codigo>
 <div>
  <div>{</div>
  <div>&nbsp;<span
     style="color: #0451a5;">"compilerOptions"</span>:&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"checkJs"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"strictNullChecks"</span>: <span
     style="color: #0000ff;">true</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"target"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"module"</span>: <span
     style="color: #a31515;">"ES6"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"moduleResolution"</span>: <span
     style="color: #a31515;">"classic"</span>,</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0451a5;">"lib"</span>: [</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"ES2017"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"WebWorker"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"DOM"</span></div>
  <div>&nbsp;&nbsp;]</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >I. lib / php / autoload.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Permite que las clases se
    puedan</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;cargar automáticamente sin usar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;require.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Los nombres se buscan dentro
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;sistema de archivos usando solo</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;minúsculas sin importar como</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;se declaren en el código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Primero hay que cargar el</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;archivo path.php para
    configurar</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la búsqueda de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/path.php"</span>;</div><br>
  <div>spl_autoload_register();</div><br>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >J. lib / php / path.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Configura las carpetas para</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;buscar código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tenemos que indicar una carpeta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;raíz; en este caso es la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;carpeta principal del proyecto.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Ten en cuenta que cuando un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servidor corre en Windows, el</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proyecto usa una subcarpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;mientras que en producción se</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;usa la carpeta principal.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Tomamos este archivo como punto</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;de referencia. la raíz se ubica</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;subiendo 2 niveles en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;estructura de archivos.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;La carpeta del arcivo es</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/lib/php</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/.. es /lib</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;/../.. es /</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div><br>
  <div><span
     style="color: #008000;">/*&nbsp;Incluye la carpeta raíz en la</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;ruta de búsqueda de archivos.*/</span>
  </div>
  <div>set_include_path(</div>
  <div>&nbsp;get_include_path()</div>
  <div>&nbsp;&nbsp;. PATH_SEPARATOR</div>
  <div>&nbsp;&nbsp;. <span
     style="color: #0000ff;">__DIR__</span> . <span
     style="color: #a31515;">"/../.."</span></div>
  <div>);</div>
 </div>
</muestra-codigo>
      </section>
     <section >
         <h1 >K. lib / php / servicio.php</h1><muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;?php</span></div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Declara el espacio de nombre de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la clase. Es como la carpeta,</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;pero desde el punto de vista
    del</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;código.</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">namespace</span> lib\php;</div><br>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Clase base para implementar</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;servicios. Las clases derivadas</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;deben extender esta clase y</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;proporcionar el código para la</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;función llamada implementacion.</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">class</span> Servicio</div>
  <div>{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">abstract</span> <span
     style="color: #0000ff;">protected</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">function</span> implementacion();</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">function</span> ejecuta()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;usaUtf8();</div>
  <div>&nbsp;&nbsp;&nbsp;$resultado =</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;implementacion();</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveJson($resultado);</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #0000ff;">catch</span> (\Throwable $t)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">$this</span>-&gt;devuelveError($t);</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> usaUtf8()</div>
  <div>&nbsp;{</div>
  <div>&nbsp;&nbsp;mb_internal_encoding(<span
     style="color: #a31515;">"UTF-8"</span>);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveJson(</div>
  <div>&nbsp;&nbsp;$resultado</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(<span
     style="color: #a31515;">"Content-Type: "</span></div>
  <div>&nbsp;&nbsp;&nbsp;. <span
     style="color: #a31515;">"application/json"</span>);</div>
  <div>&nbsp;&nbsp;echo json_encode($resultado);</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">function</span> devuelveError(</div>
  <div>&nbsp;&nbsp;\Throwable $t</div>
  <div>&nbsp;)&nbsp;{</div>
  <div>&nbsp;&nbsp;header(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"Content-Type: text/plain"</span></div>
  <div>&nbsp;&nbsp;);</div>
  <div>&nbsp;&nbsp;http_response_code(<span
     style="color: #098658;">500</span>);</div>
  <div>&nbsp;&nbsp;echo $t-&gt;getMessage();</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>
      </section>
</body>
</html>